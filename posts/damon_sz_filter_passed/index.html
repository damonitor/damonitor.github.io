<!DOCTYPE html>
<html lang="en-us"><head><meta charset="utf-8">
<meta http-equiv="content-type" content="text/html">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title itemprop="name">Upcoming feature: Page level peroperties based access monitoring | DAMON Project</title>
<meta property="og:title" content="Upcoming feature: Page level peroperties based access monitoring | DAMON Project" />
<meta name="twitter:title" content="Upcoming feature: Page level peroperties based access monitoring | DAMON Project" />
<meta itemprop="name" content="Upcoming feature: Page level peroperties based access monitoring | DAMON Project" />
<meta name="application-name" content="Upcoming feature: Page level peroperties based access monitoring | DAMON Project" />
<meta property="og:site_name" content="DAMON Project" />

<meta name="description" content="Minimal Hugo blog for DAMON project">
<meta itemprop="description" content="Minimal Hugo blog for DAMON project" />
<meta property="og:description" content="Minimal Hugo blog for DAMON project" />
<meta name="twitter:description" content="Minimal Hugo blog for DAMON project" />

<meta property="og:locale" content="en-us" />
<meta name="language" content="en-us" />


<meta itemprop="image" content="" />
<meta property="og:image" content="" />
<meta name="twitter:image" content="" />
<meta name="twitter:image:src" content="" />


    
    
    

    <meta property="og:type" content="article" />
    <meta property="og:article:published_time" content=2024-12-23T11:10:19-0800 />
    <meta property="article:published_time" content=2024-12-23T11:10:19-0800 />
    <meta property="og:url" content="https://damonitor.github.io/posts/damon_sz_filter_passed/" />

    
    <meta property="og:article:author" content="SJ" />
    <meta property="article:author" content="SJ" />
    <meta name="author" content="SJ" />
    
    

    

    <script defer type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "Article",
        "headline": "Upcoming feature: Page level peroperties based access monitoring",
        "author": {
        "@type": "Person",
        "name": ""
        },
        "datePublished": "2024-12-23",
        "description": "",
        "wordCount":  470 ,
        "mainEntityOfPage": "True",
        "dateModified": "2024-12-23",
        "image": {
        "@type": "imageObject",
        "url": ""
        },
        "publisher": {
        "@type": "Organization",
        "name": "DAMON Project"
        }
    }
    </script>


<meta name="generator" content="Hugo 0.121.2">

    
    <meta property="og:title" content="Upcoming feature: Page level peroperties based access monitoring" />
<meta property="og:description" content="We&rsquo;re working on making DAMON to be used for page level properties based access monitoring. The idea is to let users describe specific page level properties that are interested in, and provides the size of the type of memory in each regions that DAMON found unique access pattern.
Hence, users can know how much of memory of specific access temperature is having the type. For example, you can know how much of memory that not accessed for more than 20 minutes are having how much file-backed pages of a cgroup." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://damonitor.github.io/posts/damon_sz_filter_passed/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-12-23T11:10:19-08:00" />
<meta property="article:modified_time" content="2024-12-23T11:10:19-08:00" />



    
    <meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Upcoming feature: Page level peroperties based access monitoring"/>
<meta name="twitter:description" content="We&rsquo;re working on making DAMON to be used for page level properties based access monitoring. The idea is to let users describe specific page level properties that are interested in, and provides the size of the type of memory in each regions that DAMON found unique access pattern.
Hence, users can know how much of memory of specific access temperature is having the type. For example, you can know how much of memory that not accessed for more than 20 minutes are having how much file-backed pages of a cgroup."/>


    

    <link rel="canonical" href="https://damonitor.github.io/posts/damon_sz_filter_passed/">
    <link href="/style.min.2d921c18cf1ec555ffc03d59a8adc211c402c68c930c27d6a0c306ab175a8d09.css" rel="stylesheet">
    <link href="/code-highlight.min.706d31975fec544a864cb7f0d847a73ea55ca1df91bf495fd12a177138d807cf.css" rel="stylesheet">

    
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg">
    <link rel="shortcut icon" href="/favicon.ico">




<link rel="manifest" href="https://damonitor.github.io/site.webmanifest">

<meta name="msapplication-config" content="/browserconfig.xml">
<meta name="msapplication-TileColor" content="#2d89ef">
<meta name="theme-color" content="#434648">

    
    <link rel="icon" type="image/svg+xml" href="/icons/favicon.svg">

    
    </head>
<body data-theme = "dark" class="notransition">

<script src="/js/theme.min.8961c317c5b88b953fe27525839672c9343f1058ab044696ca225656c8ba2ab0.js" integrity="sha256-iWHDF8W4i5U/4nUlg5ZyyTQ/EFirBEaWyiJWVsi6KrA="></script>

<div class="navbar" role="navigation">
    <nav class="menu" aria-label="Main Navigation">
        <a href="https://damonitor.github.io/" class="logo">
            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" 
viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" 
stroke-linejoin="round" class="feather feather-home">
<title>Home</title>
<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
<polyline points="9 22 9 12 15 12 15 22"></polyline>
</svg>
        </a>
        <input type="checkbox" id="menu-trigger" class="menu-trigger" />
        <label for="menu-trigger">
            <span class="menu-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" stroke="currentColor" fill="none" viewBox="0 0 14 14"><title>Menu</title><path stroke-linecap="round" stroke-linejoin="round" d="M10.595 7L3.40726 7"></path><path stroke-linecap="round" stroke-linejoin="round" d="M10.5096 3.51488L3.49301 3.51488"></path><path stroke-linecap="round" stroke-linejoin="round" d="M10.5096 10.4851H3.49301"></path><path stroke-linecap="round" stroke-linejoin="round" d="M0.5 12.5V1.5C0.5 0.947715 0.947715 0.5 1.5 0.5H12.5C13.0523 0.5 13.5 0.947715 13.5 1.5V12.5C13.5 13.0523 13.0523 13.5 12.5 13.5H1.5C0.947715 13.5 0.5 13.0523 0.5 12.5Z"></path></svg>
            </span>
        </label>

        <div class="trigger">
            <ul class="trigger-container">
                
                
                <li>
                    <a class="menu-link " href="/">
                        Home
                    </a>
                    
                </li>
                
                <li>
                    <a class="menu-link active" href="/posts/">
                        Posts
                    </a>
                    
                </li>
                
                <li>
                    <a class="menu-link " href="/tags/">
                        Tags
                    </a>
                    
                </li>
                
                <li>
                    <a class="menu-link " href="/categories/">
                        Categories
                    </a>
                    
                </li>
                
                <li class="menu-separator">
                    <span>|</span>
                </li>
                
                
            </ul>
            <a id="mode" href="#">
                <svg xmlns="http://www.w3.org/2000/svg" class="mode-sunny" width="21" height="21" viewBox="0 0 14 14" stroke-width="1">
<title>LIGHT</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></circle><line x1="7" y1="0.5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="0.5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line></g></svg>
                <svg xmlns="http://www.w3.org/2000/svg" class="mode-moon" width="21" height="21" viewBox="0 0 14 14" stroke-width="1">
<title>DARK</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></circle><line x1="7" y1="0.5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="0.5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line></g></svg>
            </a>
        </div>
    </nav>
</div>

<div class="wrapper post">
    <main class="page-content" aria-label="Content">
        <article>
            <header class="header">
                <h1 class="header-title">Upcoming feature: Page level peroperties based access monitoring</h1>
                
                
                
                <div class="post-meta">
                    <time datetime="2024-12-23T11:10:19-08:00" itemprop="datePublished"> Dec 23, 2024 </time>
                </div>
                
            </header>
            
    
    <details class="toc" ZgotmplZ>
        <summary><b>Table of Contents</b></summary>
        <nav id="TableOfContents"></nav>
    </details>
            <div class="page-content">
                <p>We&rsquo;re working on making DAMON to be used for page level properties based access
monitoring.  The idea is to let users describe specific page level properties
that are interested in, and provides the size of the type of memory in each
regions that DAMON found unique access pattern.</p>
<p>Hence, users can know how much of memory of specific access temperature is
having the type.  For example, you can know how much of memory that not
accessed for more than 20 minutes are having how much file-backed pages of a
cgroup.</p>
<p>An RFC patch series for implementing this feature has posted a few days ago,
and <a href="https://lore.kernel.org/20241219040327.61902-1-sj@kernel.org">available</a>
at the mailing list.  The patches assembled tree is also available at the DAMON
development
<a href="https://git.kernel.org/pub/scm/linux/kernel/git/sj/linux.git/log/?h=damon/next">tree</a>.
Note that there is a bug that restricts some usage of the features.  The
<a href="https://lore.kernel.org/20241222231222.85060-3-sj@kernel.org">fix</a> is
available at mailing list.</p>
<p>DAMON user-space tool, <a href="https://github.com/damonitor/damo"><code>damo</code></a> is also
updated to support the feature and provide a dedicated visualization The
updated <code>damo</code> is released as
<a href="https://github.com/damonitor/damo/blob/v2.6.1/release_note#L4">v2.6.1</a>.  Refer
to the
<a href="https://github.com/damonitor/damo/blob/v2.6.1/USAGE.md#damo-report-access-page-level-properties-based-access-monitoring">USAGE</a>
for detailed usages.</p>
<p>With the version of <code>damo</code> on a kernel that built with a kernel tree that based
on latest version of DAMON development
<a href="https://git.kernel.org/pub/scm/linux/kernel/git/sj/linux.git/log/?h=damon/next">tree</a>
of manually applied the RFC patch
<a href="https://lore.kernel.org/20241219040327.61902-1-sj@kernel.org">series</a> and the
<a href="https://lore.kernel.org/20241222231222.85060-3-sj@kernel.org">fix</a>, therefore,
you can try the feature.</p>
<p>For example, you can know how much of anonymous and <code>PG_young</code> pages reside in
regions of different acces patterns, like below:</p>
<pre tabindex="0"><code>$ sudo ./damo report access --damos_filter anon nomatching --damos_filter young nomatching
heatmap: 00000000000000000000000000000000000000000000000000019999999999999622222222222222
# min/max temperatures: -144,860,000,000, -96,980,000,000, column size: 441.765 MiB
0   addr 29.355 GiB   size 4.475 GiB   access 0 %   age 24 m 8.600 s  anon and young 0 B
1   addr 33.830 GiB   size 5.958 GiB   access 0 %   age 24 m 7.900 s  anon and young 0 B
2   addr 39.788 GiB   size 5.972 GiB   access 0 %   age 24 m 7.300 s  anon and young 0 B
3   addr 45.760 GiB   size 5.953 GiB   access 0 %   age 24 m 3.700 s  anon and young 24.000 KiB
4   addr 51.714 GiB   size 5.978 GiB   access 0 %   age 16 m 9.800 s  anon and young 16.000 KiB
5   addr 57.692 GiB   size 5.986 GiB   access 0 %   age 21 m 50.700 s anon and young 64.000 KiB
6   addr 63.678 GiB   size 194.375 MiB access 0 %   age 21 m 13.200 s anon and young 0 B
total size: 34.513 GiB
</code></pre><p>From the above example output, for example, we can know there are 64 KiB
anonymous and young pages, in a memory region of about 6 GiB, that DAMON finds
as not accessed for about 22 minutes.</p>
<p>The example output is retrieved on a machine that doing nearly nothing, so it
looks quite boring.  On systems having realistic workloads that dynamic,
however, more interesting findings and optimizations based on those would be
available.</p>

            </div>
        </article></main>
</div>
<footer class="footer">
    <span class="footer_item"> </span>
    &nbsp;

    <div class="footer_social-icons">
<a href="https://github.com/damonitor" target="_blank" rel="noopener noreferrer me"
    title="Github">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path
        d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22">
    </path>
</svg>
</a>
<a href="/index.xml" target="_blank" rel="noopener noreferrer me"
    title="Rss">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path d="M4 11a9 9 0 0 1 9 9" />
    <path d="M4 4a16 16 0 0 1 16 16" />
    <circle cx="5" cy="19" r="1" />
</svg>
</a>
</div>
    <small class="footer_copyright">
        Â© 2024 SJ.
        Powered by <a href="https://github.com/hugo-sid/hugo-blog-awesome" target="_blank" rel="noopener">Hugo blog awesome</a>.
    </small>
</footer><a href="#" title="Go to top" id="totop">
    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" stroke="currentColor" viewBox="0 96 960 960">
    <path d="M283 704.739 234.261 656 480 410.261 725.739 656 677 704.739l-197-197-197 197Z"/>
</svg>

</a>


    




    
    
        
    

    
    
        
    



    
    <script src="https://damonitor.github.io/js/main.min.35f435a5d8eac613c52daa28d8af544a4512337d3e95236e4a4978417b8dcb2f.js" integrity="sha256-NfQ1pdjqxhPFLaoo2K9USkUSM30&#43;lSNuSkl4QXuNyy8="></script>

    

</body>
</html>



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>6.2.2.13. VIDEO_GET_EVENT &mdash; The Linux Kernel  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../../',
              VERSION:'',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.8.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../admin-guide/mm/damon/index.html">Monitoring Data Accesses</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../vm/damon/index.html">DAMON: Data Access MONitor</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
      <li>6.2.2.13. VIDEO_GET_EVENT</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/userspace-api/media/dvb/video-get-event.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="video-get-event">
<span id="id1"></span><h1>6.2.2.13. VIDEO_GET_EVENT<a class="headerlink" href="#video-get-event" title="Permalink to this headline">¶</a></h1>
<div class="section" id="name">
<h2>6.2.2.13.1. Name<a class="headerlink" href="#name" title="Permalink to this headline">¶</a></h2>
<p>VIDEO_GET_EVENT</p>
<div class="admonition attention">
<p class="first admonition-title">Attention</p>
<p class="last">This ioctl is deprecated.</p>
</div>
</div>
<div class="section" id="synopsis">
<h2>6.2.2.13.2. Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="c.VIDEO_GET_EVENT">
int <code class="descname">ioctl</code><span class="sig-paren">(</span>fd, <a class="reference internal" href="#c.VIDEO_GET_EVENT" title="VIDEO_GET_EVENT">VIDEO_GET_EVENT</a>, struct <a class="reference internal" href="video_types.html#c.video_event" title="video_event">video_event</a><em>&nbsp;*ev</em><span class="sig-paren">)</span><a class="headerlink" href="#c.VIDEO_GET_EVENT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="arguments">
<h2>6.2.2.13.3. Arguments<a class="headerlink" href="#arguments" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>int fd</td>
<td>File descriptor returned by a previous call to open().</td>
</tr>
<tr class="row-even"><td>int request</td>
<td>Equals VIDEO_GET_EVENT for this command.</td>
</tr>
<tr class="row-odd"><td>struct video_event *ev</td>
<td>Points to the location where the event, if any, is to be stored.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2>6.2.2.13.4. Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This ioctl is for Digital TV devices only. To get events from a V4L2 decoder
use the V4L2 <a class="reference internal" href="../v4l/vidioc-dqevent.html#vidioc-dqevent"><span class="std std-ref">ioctl VIDIOC_DQEVENT</span></a> ioctl instead.</p>
<p>This ioctl call returns an event of type video_event if available. If
an event is not available, the behavior depends on whether the device is
in blocking or non-blocking mode. In the latter case, the call fails
immediately with errno set to <code class="docutils literal notranslate"><span class="pre">EWOULDBLOCK</span></code>. In the former case, the call
blocks until an event becomes available. The standard Linux poll()
and/or select() system calls can be used with the device file descriptor
to watch for new events. For select(), the file descriptor should be
included in the exceptfds argument, and for poll(), POLLPRI should be
specified as the wake-up condition. Read-only permissions are sufficient
for this ioctl call.</p>
<dl class="type">
<dt id="c.video_event">
<code class="descname">video_event</code><a class="headerlink" href="#c.video_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span> <span class="n">video_event</span> <span class="p">{</span>
        <span class="n">__s32</span> <span class="n">type</span><span class="p">;</span>
<span class="cp">#define VIDEO_EVENT_SIZE_CHANGED        1</span>
<span class="cp">#define VIDEO_EVENT_FRAME_RATE_CHANGED  2</span>
<span class="cp">#define VIDEO_EVENT_DECODER_STOPPED     3</span>
<span class="cp">#define VIDEO_EVENT_VSYNC               4</span>
        <span class="kt">long</span> <span class="n">timestamp</span><span class="p">;</span>
        <span class="k">union</span> <span class="p">{</span>
                <span class="n">video_size_t</span> <span class="n">size</span><span class="p">;</span>
                <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">frame_rate</span><span class="p">;</span>        <span class="cm">/* in frames per 1000sec */</span>
                <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">vsync_field</span><span class="p">;</span>      <span class="cm">/* unknown/odd/even/progressive */</span>
        <span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
</div>
<div class="section" id="return-value">
<h2>6.2.2.13.5. Return Value<a class="headerlink" href="#return-value" title="Permalink to this headline">¶</a></h2>
<p>On success 0 is returned, on error -1 and the <code class="docutils literal notranslate"><span class="pre">errno</span></code> variable is set
appropriately. The generic error codes are described at the
<a class="reference internal" href="../gen-errors.html#id1"><span class="std std-ref">Generic Error Codes</span></a> chapter.</p>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">EWOULDBLOCK</span></code></td>
<td>There is no event pending, and the device is in non-blocking mode.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">EOVERFLOW</span></code></td>
<td>Overflow in event queue - one or more events were lost.</td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ARECA FIRMWARE SPEC &mdash; The Linux Kernel  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.8.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/mm/damon/index.html">Monitoring Data Accesses</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../vm/damon/index.html">DAMON: Data Access MONitor</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>ARECA FIRMWARE SPEC</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/scsi/arcmsr_spec.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="areca-firmware-spec">
<h1>ARECA FIRMWARE SPEC<a class="headerlink" href="#areca-firmware-spec" title="Permalink to this headline">¶</a></h1>
</div>
<div class="section" id="usage-of-iop331-adapter">
<h1>Usage of IOP331 adapter<a class="headerlink" href="#usage-of-iop331-adapter" title="Permalink to this headline">¶</a></h1>
<p>(All In/Out is in IOP331’s view)</p>
<div class="section" id="message-0">
<h2>1. Message 0<a class="headerlink" href="#message-0" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>InitThread message and return code</li>
</ul>
</div>
<div class="section" id="doorbell-is-used-for-rs-232-emulation">
<h2>2. Doorbell is used for RS-232 emulation<a class="headerlink" href="#doorbell-is-used-for-rs-232-emulation" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>inDoorBell</dt>
<dd><dl class="first last docutils">
<dt>bit0</dt>
<dd>data in ready
zDRIVER DATA WRITE OK)</dd>
<dt>bit1</dt>
<dd>data out has been read
(DRIVER DATA READ OK)</dd>
</dl>
</dd>
<dt>outDooeBell:</dt>
<dd><dl class="first last docutils">
<dt>bit0</dt>
<dd>data out ready
(IOP331 DATA WRITE OK)</dd>
<dt>bit1</dt>
<dd>data in has been read
(IOP331 DATA READ OK)</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="index-memory-usage">
<h2>3. Index Memory Usage<a class="headerlink" href="#index-memory-usage" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="78%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>offset 0xf00</td>
<td>for RS232 out (request buffer)</td>
</tr>
<tr class="row-even"><td>offset 0xe00</td>
<td>for RS232 in  (scratch buffer)</td>
</tr>
<tr class="row-odd"><td>offset 0xa00</td>
<td>for inbound message code message_rwbuffer
(driver send to IOP331)</td>
</tr>
<tr class="row-even"><td>offset 0xa00</td>
<td>for outbound message code message_rwbuffer
(IOP331 send to driver)</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="rs-232-emulation">
<h2>4. RS-232 emulation<a class="headerlink" href="#rs-232-emulation" title="Permalink to this headline">¶</a></h2>
<p>Currently 128 byte buffer is used:</p>
<table border="1" class="docutils">
<colgroup>
<col width="36%" />
<col width="64%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>1st uint32_t</td>
<td>Data length (1–124)</td>
</tr>
<tr class="row-even"><td>Byte 4–127</td>
<td>Max 124 bytes of data</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="postq">
<h2>5. PostQ<a class="headerlink" href="#postq" title="Permalink to this headline">¶</a></h2>
<p>All SCSI Command must be sent through postQ:</p>
<blockquote>
<div><dl class="docutils">
<dt>(inbound queue port)</dt>
<dd><p class="first">Request frame must be 32 bytes aligned:</p>
<blockquote class="last">
<div><dl class="docutils">
<dt>#bit27–bit31</dt>
<dd>flag for post ccb</dd>
<dt>#bit0–bit26</dt>
<dd><p class="first">real address (bit27–bit31) of post arcmsr_cdb</p>
<table border="1" class="last docutils">
<colgroup>
<col width="21%" />
<col width="79%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>bit31</td>
<td><table border="1" class="first last docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>0</td>
<td>256 bytes frame</td>
</tr>
<tr class="row-even"><td>1</td>
<td>512 bytes frame</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="row-odd"><td>bit30</td>
<td><table border="1" class="first last docutils">
<colgroup>
<col width="13%" />
<col width="88%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>0</td>
<td>normal request</td>
</tr>
<tr class="row-even"><td>1</td>
<td>BIOS request</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="row-odd"><td>bit29</td>
<td>reserved</td>
</tr>
<tr class="row-even"><td>bit28</td>
<td>reserved</td>
</tr>
<tr class="row-odd"><td>bit27</td>
<td>reserved</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div></blockquote>
</dd>
<dt>(outbount queue port)</dt>
<dd><p class="first">Request reply:</p>
<blockquote class="last">
<div><dl class="docutils">
<dt>#bit27–bit31</dt>
<dd>flag for reply</dd>
<dt>#bit0–bit26</dt>
<dd><p class="first">real address (bit27–bit31) of reply arcmsr_cdb</p>
<table border="1" class="last docutils">
<colgroup>
<col width="8%" />
<col width="92%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>bit31</td>
<td>must be 0 (for this type of reply)</td>
</tr>
<tr class="row-even"><td>bit30</td>
<td>reserved for BIOS handshake</td>
</tr>
<tr class="row-odd"><td>bit29</td>
<td>reserved</td>
</tr>
<tr class="row-even"><td>bit28</td>
<td><table border="1" class="first last docutils">
<colgroup>
<col width="4%" />
<col width="96%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>0</td>
<td>no error, ignore AdapStatus/DevStatus/SenseData</td>
</tr>
<tr class="row-even"><td>1</td>
<td>Error, error code in AdapStatus/DevStatus/SenseData</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="row-odd"><td>bit27</td>
<td>reserved</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="bios-request">
<h2>6. BIOS request<a class="headerlink" href="#bios-request" title="Permalink to this headline">¶</a></h2>
<p>All BIOS request is the same with request from PostQ</p>
<p>Except:</p>
<p>Request frame is sent from configuration space:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="32%" />
<col width="68%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>offset: 0x78</td>
<td>Request Frame (bit30 == 1)</td>
</tr>
<tr class="row-even"><td>offset: 0x18</td>
<td>writeonly to generate
IRQ to IOP331</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Completion of request:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(bit30 == 0, bit28==err flag)
</pre></div>
</div>
</div>
<div class="section" id="definition-of-sgl-entry-structure">
<h2>7. Definition of SGL entry (structure)<a class="headerlink" href="#definition-of-sgl-entry-structure" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="message1-out-diag-status-code">
<h2>8. Message1 Out - Diag Status Code (????)<a class="headerlink" href="#message1-out-diag-status-code" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="message0-message-code">
<h2>9. Message0 message code<a class="headerlink" href="#message0-message-code" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="8%" />
<col width="92%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>0x00</td>
<td>NOP</td>
</tr>
<tr class="row-even"><td>0x01</td>
<td><p class="first">Get Config
-&gt;offset 0xa00 :for outbound message code message_rwbuffer
(IOP331 send to driver)</p>
<table border="1" class="last docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Signature</td>
<td>0x87974060(4)</td>
</tr>
<tr class="row-even"><td>Request len</td>
<td>0x00000200(4)</td>
</tr>
<tr class="row-odd"><td>numbers of queue</td>
<td>0x00000100(4)</td>
</tr>
<tr class="row-even"><td>SDRAM Size</td>
<td>0x00000100(4)–&gt;256 MB</td>
</tr>
<tr class="row-odd"><td>IDE Channels</td>
<td>0x00000008(4)</td>
</tr>
<tr class="row-even"><td>vendor</td>
<td>40 bytes char</td>
</tr>
<tr class="row-odd"><td>model</td>
<td>8 bytes char</td>
</tr>
<tr class="row-even"><td>FirmVer</td>
<td>16 bytes char</td>
</tr>
<tr class="row-odd"><td>Device Map</td>
<td>16 bytes char</td>
</tr>
<tr class="row-even"><td>FirmwareVersion</td>
<td><p class="first">DWORD</p>
<ul class="last simple">
<li>Added for checking of
new firmware capability</li>
</ul>
</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="row-odd"><td>0x02</td>
<td><p class="first">Set Config
-&gt;offset 0xa00 :for inbound message code message_rwbuffer
(driver send to IOP331)</p>
<table border="1" class="last docutils">
<colgroup>
<col width="58%" />
<col width="42%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Signature</td>
<td>0x87974063(4)</td>
</tr>
<tr class="row-even"><td>UPPER32 of Request Frame</td>
<td>(4)–&gt;Driver Only</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="row-odd"><td>0x03</td>
<td>Reset (Abort all queued Command)</td>
</tr>
<tr class="row-even"><td>0x04</td>
<td>Stop Background Activity</td>
</tr>
<tr class="row-odd"><td>0x05</td>
<td>Flush Cache</td>
</tr>
<tr class="row-even"><td>0x06</td>
<td>Start Background Activity
(re-start if background is halted)</td>
</tr>
<tr class="row-odd"><td>0x07</td>
<td>Check If Host Command Pending
(Novell May Need This Function)</td>
</tr>
<tr class="row-even"><td>0x08</td>
<td><p class="first">Set controller time
-&gt;offset 0xa00   for inbound message code message_rwbuffer
(driver to IOP331)</p>
<table border="1" class="last docutils">
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0</td>
<td>0xaa &lt;– signature</td>
</tr>
<tr class="row-even"><td>byte 1</td>
<td>0x55 &lt;– signature</td>
</tr>
<tr class="row-odd"><td>byte 2</td>
<td>year (04)</td>
</tr>
<tr class="row-even"><td>byte 3</td>
<td>month (1..12)</td>
</tr>
<tr class="row-odd"><td>byte 4</td>
<td>date (1..31)</td>
</tr>
<tr class="row-even"><td>byte 5</td>
<td>hour (0..23)</td>
</tr>
<tr class="row-odd"><td>byte 6</td>
<td>minute (0..59)</td>
</tr>
<tr class="row-even"><td>byte 7</td>
<td>second (0..59)</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="rs-232-interface-for-areca-raid-controller">
<h1>RS-232 Interface for Areca Raid Controller<a class="headerlink" href="#rs-232-interface-for-areca-raid-controller" title="Permalink to this headline">¶</a></h1>
<blockquote>
<div>The low level command interface is exclusive with VT100 terminal</div></blockquote>
<div class="section" id="sequence-of-command-execution">
<h2>1. Sequence of command execution<a class="headerlink" href="#sequence-of-command-execution" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ol class="upperalpha simple">
<li><dl class="first docutils">
<dt>Header</dt>
<dd>3 bytes sequence (0x5E, 0x01, 0x61)</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Command block</dt>
<dd>variable length of data including length,
command code, data and checksum byte</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Return data</dt>
<dd>variable length of data</dd>
</dl>
</li>
</ol>
</div></blockquote>
</div>
<div class="section" id="command-block">
<h2>2. Command block<a class="headerlink" href="#command-block" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ol class="upperalpha">
<li><dl class="first docutils">
<dt>1st byte</dt>
<dd><p class="first last">command block length (low byte)</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>2nd byte</dt>
<dd><p class="first">command block length (high byte)</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">command block length shouldn’t &gt; 2040 bytes,
length excludes these two bytes</p>
</div>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>3rd byte</dt>
<dd><p class="first last">command code</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>4th and following bytes</dt>
<dd><p class="first last">variable length data bytes</p>
</dd>
</dl>
<p>depends on command code</p>
</li>
<li><p class="first">last byte
checksum byte (sum of 1st byte until last data byte)</p>
</li>
</ol>
</div></blockquote>
</div>
<div class="section" id="command-code-and-associated-data">
<h2>3. Command code and associated data<a class="headerlink" href="#command-code-and-associated-data" title="Permalink to this headline">¶</a></h2>
<p>The following are command code defined in raid controller Command
code 0x10–0x1? are used for system level management,
no password checking is needed and should be implemented in separate
well controlled utility and not for end user access.
Command code 0x20–0x?? always check the password,
password must be entered to enable these command:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>enum
{
        GUI_SET_SERIAL=0x10,
        GUI_SET_VENDOR,
        GUI_SET_MODEL,
        GUI_IDENTIFY,
        GUI_CHECK_PASSWORD,
        GUI_LOGOUT,
        GUI_HTTP,
        GUI_SET_ETHERNET_ADDR,
        GUI_SET_LOGO,
        GUI_POLL_EVENT,
        GUI_GET_EVENT,
        GUI_GET_HW_MONITOR,
        //    GUI_QUICK_CREATE=0x20, (function removed)
        GUI_GET_INFO_R=0x20,
        GUI_GET_INFO_V,
        GUI_GET_INFO_P,
        GUI_GET_INFO_S,
        GUI_CLEAR_EVENT,
        GUI_MUTE_BEEPER=0x30,
        GUI_BEEPER_SETTING,
        GUI_SET_PASSWORD,
        GUI_HOST_INTERFACE_MODE,
        GUI_REBUILD_PRIORITY,
        GUI_MAX_ATA_MODE,
        GUI_RESET_CONTROLLER,
        GUI_COM_PORT_SETTING,
        GUI_NO_OPERATION,
        GUI_DHCP_IP,
        GUI_CREATE_PASS_THROUGH=0x40,
        GUI_MODIFY_PASS_THROUGH,
        GUI_DELETE_PASS_THROUGH,
        GUI_IDENTIFY_DEVICE,
        GUI_CREATE_RAIDSET=0x50,
        GUI_DELETE_RAIDSET,
        GUI_EXPAND_RAIDSET,
        GUI_ACTIVATE_RAIDSET,
        GUI_CREATE_HOT_SPARE,
        GUI_DELETE_HOT_SPARE,
        GUI_CREATE_VOLUME=0x60,
        GUI_MODIFY_VOLUME,
        GUI_DELETE_VOLUME,
        GUI_START_CHECK_VOLUME,
        GUI_STOP_CHECK_VOLUME
};
</pre></div>
</div>
<div class="section" id="command-description">
<h3>Command description<a class="headerlink" href="#command-description" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>GUI_SET_SERIAL</dt>
<dd><p class="first">Set the controller serial#</p>
<table border="1" class="last docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x10</td>
</tr>
<tr class="row-odd"><td>byte 3</td>
<td>password length (should be 0x0f)</td>
</tr>
<tr class="row-even"><td>byte 4-0x13</td>
<td>should be “ArEcATecHnoLogY”</td>
</tr>
<tr class="row-odd"><td>byte 0x14–0x23</td>
<td>Serial number string (must be 16 bytes)</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_SET_VENDOR</dt>
<dd><p class="first">Set vendor string for the controller</p>
<table border="1" class="last docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x11</td>
</tr>
<tr class="row-odd"><td>byte 3</td>
<td>password length (should be 0x08)</td>
</tr>
<tr class="row-even"><td>byte 4-0x13</td>
<td>should be “ArEcAvAr”</td>
</tr>
<tr class="row-odd"><td>byte 0x14–0x3B</td>
<td>vendor string (must be 40 bytes)</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_SET_MODEL</dt>
<dd><p class="first">Set the model name of the controller</p>
<table border="1" class="last docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x12</td>
</tr>
<tr class="row-odd"><td>byte 3</td>
<td>password length (should be 0x08)</td>
</tr>
<tr class="row-even"><td>byte 4-0x13</td>
<td>should be “ArEcAvAr”</td>
</tr>
<tr class="row-odd"><td>byte 0x14–0x1B</td>
<td>model string (must be 8 bytes)</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_IDENTIFY</dt>
<dd><p class="first">Identify device</p>
<table border="1" class="last docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td><dl class="first last docutils">
<dt>command code 0x13</dt>
<dd>return “Areca RAID Subsystem “</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_CHECK_PASSWORD</dt>
<dd><p class="first">Verify password</p>
<table border="1" class="last docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x14</td>
</tr>
<tr class="row-odd"><td>byte 3</td>
<td>password length</td>
</tr>
<tr class="row-even"><td>byte 4-0x??</td>
<td>user password to be checked</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_LOGOUT</dt>
<dd><p class="first">Logout GUI (force password checking on next command)</p>
<table border="1" class="last docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x15</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_HTTP</dt>
<dd>HTTP interface (reserved for Http proxy service)(0x16)</dd>
<dt>GUI_SET_ETHERNET_ADDR</dt>
<dd><p class="first">Set the ethernet MAC address</p>
<table border="1" class="last docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x17</td>
</tr>
<tr class="row-odd"><td>byte 3</td>
<td>password length (should be 0x08)</td>
</tr>
<tr class="row-even"><td>byte 4-0x13</td>
<td>should be “ArEcAvAr”</td>
</tr>
<tr class="row-odd"><td>byte 0x14–0x19</td>
<td>Ethernet MAC address (must be 6 bytes)</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_SET_LOGO</dt>
<dd><p class="first">Set logo in HTTP</p>
<table border="1" class="last docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x18</td>
</tr>
<tr class="row-odd"><td>byte 3</td>
<td>Page# (0/1/2/3) (0xff –&gt; clear OEM logo)</td>
</tr>
<tr class="row-even"><td>byte 4/5/6/7</td>
<td>0x55/0xaa/0xa5/0x5a</td>
</tr>
<tr class="row-odd"><td>byte 8</td>
<td><p class="first">TITLE.JPG data (each page must be 2000 bytes)</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">page0 1st 2 byte must be
actual length of the JPG file</p>
</div>
</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_POLL_EVENT</dt>
<dd><p class="first">Poll If Event Log Changed</p>
<table border="1" class="last docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x19</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_GET_EVENT</dt>
<dd><p class="first">Read Event</p>
<table border="1" class="last docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x1a</td>
</tr>
<tr class="row-odd"><td>byte 3</td>
<td>Event Page (0:1st page/1/2/3:last page)</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_GET_HW_MONITOR</dt>
<dd><p class="first">Get HW monitor data</p>
<table border="1" class="last docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x1b</td>
</tr>
<tr class="row-odd"><td>byte 3</td>
<td># of FANs(example 2)</td>
</tr>
<tr class="row-even"><td>byte 4</td>
<td># of Voltage sensor(example 3)</td>
</tr>
<tr class="row-odd"><td>byte 5</td>
<td># of temperature sensor(example 2)</td>
</tr>
<tr class="row-even"><td>byte 6</td>
<td># of power</td>
</tr>
<tr class="row-odd"><td>byte 7/8</td>
<td>Fan#0 (RPM)</td>
</tr>
<tr class="row-even"><td>byte 9/10</td>
<td>Fan#1</td>
</tr>
<tr class="row-odd"><td>byte 11/12</td>
<td>Voltage#0 original value in <code class="docutils literal notranslate"><span class="pre">*1000</span></code></td>
</tr>
<tr class="row-even"><td>byte 13/14</td>
<td>Voltage#0 value</td>
</tr>
<tr class="row-odd"><td>byte 15/16</td>
<td>Voltage#1 org</td>
</tr>
<tr class="row-even"><td>byte 17/18</td>
<td>Voltage#1</td>
</tr>
<tr class="row-odd"><td>byte 19/20</td>
<td>Voltage#2 org</td>
</tr>
<tr class="row-even"><td>byte 21/22</td>
<td>Voltage#2</td>
</tr>
<tr class="row-odd"><td>byte 23</td>
<td>Temp#0</td>
</tr>
<tr class="row-even"><td>byte 24</td>
<td>Temp#1</td>
</tr>
<tr class="row-odd"><td>byte 25</td>
<td>Power indicator (bit0   power#0,
bit1   power#1)</td>
</tr>
<tr class="row-even"><td>byte 26</td>
<td>UPS indicator</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_QUICK_CREATE</dt>
<dd><blockquote class="first">
<div><p>Quick create raid/volume set</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x20</td>
</tr>
<tr class="row-odd"><td>byte 3/4/5/6</td>
<td>raw capacity</td>
</tr>
<tr class="row-even"><td>byte 7</td>
<td>raid level</td>
</tr>
<tr class="row-odd"><td>byte 8</td>
<td>stripe size</td>
</tr>
<tr class="row-even"><td>byte 9</td>
<td>spare</td>
</tr>
<tr class="row-odd"><td>byte 10/11/12/13</td>
<td>device mask (the devices to create raid/volume)</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>This function is removed, application like
to implement quick create function</p>
<p class="last">need to use GUI_CREATE_RAIDSET and GUI_CREATE_VOLUMESET function.</p>
</dd>
<dt>GUI_GET_INFO_R</dt>
<dd><p class="first">Get Raid Set Information</p>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x20</td>
</tr>
<tr class="row-odd"><td>byte 3</td>
<td>raidset#</td>
</tr>
</tbody>
</table>
<div class="last highlight-none notranslate"><div class="highlight"><pre><span></span>typedef struct sGUI_RAIDSET
{
        BYTE grsRaidSetName[16];
        DWORD grsCapacity;
        DWORD grsCapacityX;
        DWORD grsFailMask;
        BYTE grsDevArray[32];
        BYTE grsMemberDevices;
        BYTE grsNewMemberDevices;
        BYTE grsRaidState;
        BYTE grsVolumes;
        BYTE grsVolumeList[16];
        BYTE grsRes1;
        BYTE grsRes2;
        BYTE grsRes3;
        BYTE grsFreeSegments;
        DWORD grsRawStripes[8];
        DWORD grsRes4;
        DWORD grsRes5; //     Total to 128 bytes
        DWORD grsRes6; //     Total to 128 bytes
} sGUI_RAIDSET, *pGUI_RAIDSET;
</pre></div>
</div>
</dd>
<dt>GUI_GET_INFO_V</dt>
<dd><p class="first">Get Volume Set Information</p>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x21</td>
</tr>
<tr class="row-odd"><td>byte 3</td>
<td>volumeset#</td>
</tr>
</tbody>
</table>
<div class="last highlight-none notranslate"><div class="highlight"><pre><span></span>typedef struct sGUI_VOLUMESET
{
        BYTE gvsVolumeName[16]; //     16
        DWORD gvsCapacity;
        DWORD gvsCapacityX;
        DWORD gvsFailMask;
        DWORD gvsStripeSize;
        DWORD gvsNewFailMask;
        DWORD gvsNewStripeSize;
        DWORD gvsVolumeStatus;
        DWORD gvsProgress; //     32
        sSCSI_ATTR gvsScsi;
        BYTE gvsMemberDisks;
        BYTE gvsRaidLevel; //     8
        BYTE gvsNewMemberDisks;
        BYTE gvsNewRaidLevel;
        BYTE gvsRaidSetNumber;
        BYTE gvsRes0; //     4
        BYTE gvsRes1[4]; //     64 bytes
} sGUI_VOLUMESET, *pGUI_VOLUMESET;
</pre></div>
</div>
</dd>
<dt>GUI_GET_INFO_P</dt>
<dd><p class="first">Get Physical Drive Information</p>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x22</td>
</tr>
<tr class="row-odd"><td>byte 3</td>
<td>drive # (from 0 to max-channels - 1)</td>
</tr>
</tbody>
</table>
<div class="last highlight-none notranslate"><div class="highlight"><pre><span></span>typedef struct sGUI_PHY_DRV
{
        BYTE gpdModelName[40];
        BYTE gpdSerialNumber[20];
        BYTE gpdFirmRev[8];
        DWORD gpdCapacity;
        DWORD gpdCapacityX; //     Reserved for expansion
        BYTE gpdDeviceState;
        BYTE gpdPioMode;
        BYTE gpdCurrentUdmaMode;
        BYTE gpdUdmaMode;
        BYTE gpdDriveSelect;
        BYTE gpdRaidNumber; //     0xff if not belongs to a raid set
        sSCSI_ATTR gpdScsi;
        BYTE gpdReserved[40]; //     Total to 128 bytes
} sGUI_PHY_DRV, *pGUI_PHY_DRV;
</pre></div>
</div>
</dd>
<dt>GUI_GET_INFO_S</dt>
<dd><p class="first">Get System Information</p>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x23</td>
</tr>
</tbody>
</table>
<div class="last highlight-none notranslate"><div class="highlight"><pre><span></span>typedef struct sCOM_ATTR
{
        BYTE comBaudRate;
        BYTE comDataBits;
        BYTE comStopBits;
        BYTE comParity;
        BYTE comFlowControl;
} sCOM_ATTR, *pCOM_ATTR;
typedef struct sSYSTEM_INFO
{
        BYTE gsiVendorName[40];
        BYTE gsiSerialNumber[16];
        BYTE gsiFirmVersion[16];
        BYTE gsiBootVersion[16];
        BYTE gsiMbVersion[16];
        BYTE gsiModelName[8];
        BYTE gsiLocalIp[4];
        BYTE gsiCurrentIp[4];
        DWORD gsiTimeTick;
        DWORD gsiCpuSpeed;
        DWORD gsiICache;
        DWORD gsiDCache;
        DWORD gsiScache;
        DWORD gsiMemorySize;
        DWORD gsiMemorySpeed;
        DWORD gsiEvents;
        BYTE gsiMacAddress[6];
        BYTE gsiDhcp;
        BYTE gsiBeeper;
        BYTE gsiChannelUsage;
        BYTE gsiMaxAtaMode;
        BYTE gsiSdramEcc; //     1:if ECC enabled
        BYTE gsiRebuildPriority;
        sCOM_ATTR gsiComA; //     5 bytes
        sCOM_ATTR gsiComB; //     5 bytes
        BYTE gsiIdeChannels;
        BYTE gsiScsiHostChannels;
        BYTE gsiIdeHostChannels;
        BYTE gsiMaxVolumeSet;
        BYTE gsiMaxRaidSet;
        BYTE gsiEtherPort; //     1:if ether net port supported
        BYTE gsiRaid6Engine; //     1:Raid6 engine supported
        BYTE gsiRes[75];
} sSYSTEM_INFO, *pSYSTEM_INFO;
</pre></div>
</div>
</dd>
<dt>GUI_CLEAR_EVENT</dt>
<dd><p class="first">Clear System Event</p>
<table border="1" class="last docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x24</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_MUTE_BEEPER</dt>
<dd><p class="first">Mute current beeper</p>
<table border="1" class="last docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x30</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_BEEPER_SETTING</dt>
<dd><p class="first">Disable beeper</p>
<table border="1" class="last docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x31</td>
</tr>
<tr class="row-odd"><td>byte 3</td>
<td>0-&gt;disable, 1-&gt;enable</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_SET_PASSWORD</dt>
<dd><p class="first">Change password</p>
<table border="1" class="last docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x32</td>
</tr>
<tr class="row-odd"><td>byte 3</td>
<td>pass word length ( must &lt;= 15 )</td>
</tr>
<tr class="row-even"><td>byte 4</td>
<td>password (must be alpha-numerical)</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_HOST_INTERFACE_MODE</dt>
<dd><p class="first">Set host interface mode</p>
<table border="1" class="last docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x33</td>
</tr>
<tr class="row-odd"><td>byte 3</td>
<td>0-&gt;Independent, 1-&gt;cluster</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_REBUILD_PRIORITY</dt>
<dd><p class="first">Set rebuild priority</p>
<table border="1" class="last docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x34</td>
</tr>
<tr class="row-odd"><td>byte 3</td>
<td>0/1/2/3 (low-&gt;high)</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_MAX_ATA_MODE</dt>
<dd><p class="first">Set maximum ATA mode to be used</p>
<table border="1" class="last docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x35</td>
</tr>
<tr class="row-odd"><td>byte 3</td>
<td>0/1/2/3 (133/100/66/33)</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_RESET_CONTROLLER</dt>
<dd><p class="first">Reset Controller</p>
<table border="1" class="last docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x36
* Response with VT100 screen (discard it)</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_COM_PORT_SETTING</dt>
<dd><p class="first">COM port setting</p>
<table border="1" class="last docutils">
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x37</td>
</tr>
<tr class="row-odd"><td>byte 3</td>
<td>0-&gt;COMA (term port),
1-&gt;COMB (debug port)</td>
</tr>
<tr class="row-even"><td>byte 4</td>
<td>0/1/2/3/4/5/6/7
(1200/2400/4800/9600/19200/38400/57600/115200)</td>
</tr>
<tr class="row-odd"><td>byte 5</td>
<td>data bit
(0:7 bit, 1:8 bit   must be 8 bit)</td>
</tr>
<tr class="row-even"><td>byte 6</td>
<td>stop bit (0:1, 1:2 stop bits)</td>
</tr>
<tr class="row-odd"><td>byte 7</td>
<td>parity (0:none, 1:off, 2:even)</td>
</tr>
<tr class="row-even"><td>byte 8</td>
<td>flow control
(0:none, 1:xon/xoff, 2:hardware =&gt; must use none)</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_NO_OPERATION</dt>
<dd><p class="first">No operation</p>
<table border="1" class="last docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x38</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_DHCP_IP</dt>
<dd><p class="first">Set DHCP option and local IP address</p>
<table border="1" class="last docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x39</td>
</tr>
<tr class="row-odd"><td>byte 3</td>
<td>0:dhcp disabled, 1:dhcp enabled</td>
</tr>
<tr class="row-even"><td>byte 4/5/6/7</td>
<td>IP address</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_CREATE_PASS_THROUGH</dt>
<dd><p class="first">Create pass through disk</p>
<table border="1" class="last docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x40</td>
</tr>
<tr class="row-odd"><td>byte 3</td>
<td>device #</td>
</tr>
<tr class="row-even"><td>byte 4</td>
<td>scsi channel (0/1)</td>
</tr>
<tr class="row-odd"><td>byte 5</td>
<td>scsi id (0–&gt;15)</td>
</tr>
<tr class="row-even"><td>byte 6</td>
<td>scsi lun (0–&gt;7)</td>
</tr>
<tr class="row-odd"><td>byte 7</td>
<td>tagged queue (1   enabled)</td>
</tr>
<tr class="row-even"><td>byte 8</td>
<td>cache mode (1   enabled)</td>
</tr>
<tr class="row-odd"><td>byte 9</td>
<td>max speed (0/1/2/3/4,
async/20/40/80/160 for scsi)
(0/1/2/3/4, 33/66/100/133/150 for ide  )</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_MODIFY_PASS_THROUGH</dt>
<dd><p class="first">Modify pass through disk</p>
<table border="1" class="last docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x41</td>
</tr>
<tr class="row-odd"><td>byte 3</td>
<td>device #</td>
</tr>
<tr class="row-even"><td>byte 4</td>
<td>scsi channel (0/1)</td>
</tr>
<tr class="row-odd"><td>byte 5</td>
<td>scsi id (0–&gt;15)</td>
</tr>
<tr class="row-even"><td>byte 6</td>
<td>scsi lun (0–&gt;7)</td>
</tr>
<tr class="row-odd"><td>byte 7</td>
<td>tagged queue (1   enabled)</td>
</tr>
<tr class="row-even"><td>byte 8</td>
<td>cache mode (1   enabled)</td>
</tr>
<tr class="row-odd"><td>byte 9</td>
<td>max speed (0/1/2/3/4,
async/20/40/80/160 for scsi)
(0/1/2/3/4, 33/66/100/133/150 for ide  )</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_DELETE_PASS_THROUGH</dt>
<dd><p class="first">Delete pass through disk</p>
<table border="1" class="last docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x42</td>
</tr>
<tr class="row-odd"><td>byte 3</td>
<td>device# to be deleted</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_IDENTIFY_DEVICE</dt>
<dd><p class="first">Identify Device</p>
<table border="1" class="last docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x43</td>
</tr>
<tr class="row-odd"><td>byte 3</td>
<td>Flash Method
(0:flash selected, 1:flash not selected)</td>
</tr>
<tr class="row-even"><td>byte 4/5/6/7</td>
<td>IDE device mask to be flashed
.. Note:: no response data available</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_CREATE_RAIDSET</dt>
<dd><p class="first">Create Raid Set</p>
<table border="1" class="last docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x50</td>
</tr>
<tr class="row-odd"><td>byte 3/4/5/6</td>
<td>device mask</td>
</tr>
<tr class="row-even"><td>byte 7-22</td>
<td>raidset name (if byte 7 == 0:use default)</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_DELETE_RAIDSET</dt>
<dd><p class="first">Delete Raid Set</p>
<table border="1" class="last docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x51</td>
</tr>
<tr class="row-odd"><td>byte 3</td>
<td>raidset#</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_EXPAND_RAIDSET</dt>
<dd><p class="first">Expand Raid Set</p>
<table border="1" class="last docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x52</td>
</tr>
<tr class="row-odd"><td>byte 3</td>
<td>raidset#</td>
</tr>
<tr class="row-even"><td>byte 4/5/6/7</td>
<td>device mask for expansion</td>
</tr>
<tr class="row-odd"><td>byte 8/9/10</td>
<td>(8:0 no change, 1 change, 0xff:terminate,
9:new raid level,
10:new stripe size
0/1/2/3/4/5-&gt;4/8/16/32/64/128K )</td>
</tr>
<tr class="row-even"><td>byte 11/12/13</td>
<td>repeat for each volume in the raidset</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_ACTIVATE_RAIDSET</dt>
<dd><p class="first">Activate incomplete raid set</p>
<table border="1" class="last docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x53</td>
</tr>
<tr class="row-odd"><td>byte 3</td>
<td>raidset#</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_CREATE_HOT_SPARE</dt>
<dd><p class="first">Create hot spare disk</p>
<table border="1" class="last docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x54</td>
</tr>
<tr class="row-odd"><td>byte 3/4/5/6</td>
<td>device mask for hot spare creation</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_DELETE_HOT_SPARE</dt>
<dd><p class="first">Delete hot spare disk</p>
<table border="1" class="last docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x55</td>
</tr>
<tr class="row-odd"><td>byte 3/4/5/6</td>
<td>device mask for hot spare deletion</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_CREATE_VOLUME</dt>
<dd><p class="first">Create volume set</p>
<table border="1" class="last docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x60</td>
</tr>
<tr class="row-odd"><td>byte 3</td>
<td>raidset#</td>
</tr>
<tr class="row-even"><td>byte 4-19</td>
<td>volume set name
(if byte4 == 0, use default)</td>
</tr>
<tr class="row-odd"><td>byte 20-27</td>
<td>volume capacity (blocks)</td>
</tr>
<tr class="row-even"><td>byte 28</td>
<td>raid level</td>
</tr>
<tr class="row-odd"><td>byte 29</td>
<td>stripe size
(0/1/2/3/4/5-&gt;4/8/16/32/64/128K)</td>
</tr>
<tr class="row-even"><td>byte 30</td>
<td>channel</td>
</tr>
<tr class="row-odd"><td>byte 31</td>
<td>ID</td>
</tr>
<tr class="row-even"><td>byte 32</td>
<td>LUN</td>
</tr>
<tr class="row-odd"><td>byte 33</td>
<td>1 enable tag</td>
</tr>
<tr class="row-even"><td>byte 34</td>
<td>1 enable cache</td>
</tr>
<tr class="row-odd"><td>byte 35</td>
<td>speed
(0/1/2/3/4-&gt;async/20/40/80/160 for scsi)
(0/1/2/3/4-&gt;33/66/100/133/150 for IDE  )</td>
</tr>
<tr class="row-even"><td>byte 36</td>
<td>1 to select quick init</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_MODIFY_VOLUME</dt>
<dd><p class="first">Modify volume Set</p>
<table border="1" class="last docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x61</td>
</tr>
<tr class="row-odd"><td>byte 3</td>
<td>volumeset#</td>
</tr>
<tr class="row-even"><td>byte 4-19</td>
<td>new volume set name
(if byte4 == 0, not change)</td>
</tr>
<tr class="row-odd"><td>byte 20-27</td>
<td>new volume capacity (reserved)</td>
</tr>
<tr class="row-even"><td>byte 28</td>
<td>new raid level</td>
</tr>
<tr class="row-odd"><td>byte 29</td>
<td>new stripe size
(0/1/2/3/4/5-&gt;4/8/16/32/64/128K)</td>
</tr>
<tr class="row-even"><td>byte 30</td>
<td>new channel</td>
</tr>
<tr class="row-odd"><td>byte 31</td>
<td>new ID</td>
</tr>
<tr class="row-even"><td>byte 32</td>
<td>new LUN</td>
</tr>
<tr class="row-odd"><td>byte 33</td>
<td>1 enable tag</td>
</tr>
<tr class="row-even"><td>byte 34</td>
<td>1 enable cache</td>
</tr>
<tr class="row-odd"><td>byte 35</td>
<td>speed
(0/1/2/3/4-&gt;async/20/40/80/160 for scsi)
(0/1/2/3/4-&gt;33/66/100/133/150 for IDE  )</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_DELETE_VOLUME</dt>
<dd><p class="first">Delete volume set</p>
<table border="1" class="last docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x62</td>
</tr>
<tr class="row-odd"><td>byte 3</td>
<td>volumeset#</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_START_CHECK_VOLUME</dt>
<dd><p class="first">Start volume consistency check</p>
<table border="1" class="last docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x63</td>
</tr>
<tr class="row-odd"><td>byte 3</td>
<td>volumeset#</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_STOP_CHECK_VOLUME</dt>
<dd><p class="first">Stop volume consistency check</p>
<table border="1" class="last docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>byte 0,1</td>
<td>length</td>
</tr>
<tr class="row-even"><td>byte 2</td>
<td>command code 0x64</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
</div>
<div class="section" id="returned-data">
<h2>4. Returned data<a class="headerlink" href="#returned-data" title="Permalink to this headline">¶</a></h2>
<ol class="upperalpha">
<li><p class="first">Header
3 bytes sequence (0x5E, 0x01, 0x61)</p>
</li>
<li><p class="first">Length
2 bytes
(low byte 1st, excludes length and checksum byte)</p>
</li>
<li><p class="first">status or data:</p>
<blockquote>
<div><ol class="arabic">
<li><p class="first">If length == 1 ==&gt; 1 byte status code:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#define GUI_OK                    0x41
#define GUI_RAIDSET_NOT_NORMAL    0x42
#define GUI_VOLUMESET_NOT_NORMAL  0x43
#define GUI_NO_RAIDSET            0x44
#define GUI_NO_VOLUMESET          0x45
#define GUI_NO_PHYSICAL_DRIVE     0x46
#define GUI_PARAMETER_ERROR       0x47
#define GUI_UNSUPPORTED_COMMAND   0x48
#define GUI_DISK_CONFIG_CHANGED   0x49
#define GUI_INVALID_PASSWORD      0x4a
#define GUI_NO_DISK_SPACE         0x4b
#define GUI_CHECKSUM_ERROR        0x4c
#define GUI_PASSWORD_REQUIRED     0x4d
</pre></div>
</div>
</li>
<li><p class="first">If length &gt; 1:</p>
<blockquote>
<div><p>data block returned from controller
and the contents depends on the command code</p>
</div></blockquote>
</li>
</ol>
</div></blockquote>
</li>
</ol>
<ol class="upperalpha simple" start="5">
<li>Checksum
checksum of length and status or data byte</li>
</ol>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
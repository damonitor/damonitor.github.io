

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>TODO &mdash; The Linux Kernel  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../',
              VERSION:'',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.7.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../mm/damon/index.html">Monitoring Data Accesses</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../vm/damon/index.html">DAMON: Data Access MONitor</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>TODO</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/admin-guide/cifs/todo.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="todo">
<h1>TODO<a class="headerlink" href="#todo" title="Permalink to this headline">¶</a></h1>
<p>Version 2.14 December 21, 2018</p>
<div class="section" id="a-partial-list-of-missing-features">
<h2>A Partial List of Missing Features<a class="headerlink" href="#a-partial-list-of-missing-features" title="Permalink to this headline">¶</a></h2>
<p>Contributions are welcome.  There are plenty of opportunities
for visible, important contributions to this module.  Here
is a partial list of the known problems and missing features:</p>
<ol class="loweralpha simple">
<li>SMB3 (and SMB3.1.1) missing optional features:<ul>
<li>multichannel (started), integration with RDMA</li>
<li>directory leases (improved metadata caching), started (root dir only)</li>
<li>T10 copy offload ie “ODX” (copy chunk, and “Duplicate Extents” ioctl
currently the only two server side copy mechanisms supported)</li>
</ul>
</li>
<li>improved sparse file support (fiemap and SEEK_HOLE are implemented
but additional features would be supportable by the protocol).</li>
<li>Directory entry caching relies on a 1 second timer, rather than
using Directory Leases, currently only the root file handle is cached longer</li>
<li>quota support (needs minor kernel change since quota calls
to make it to network filesystems or deviceless filesystems)</li>
<li>Additional use cases can be optimized to use “compounding” (e.g.
open/query/close and open/setinfo/close) to reduce the number of
roundtrips to the server and improve performance. Various cases
(stat, statfs, create, unlink, mkdir) already have been improved by
using compounding but more can be done. In addition we could
significantly reduce redundant opens by using deferred close (with
handle caching leases) and better using reference counters on file
handles.</li>
<li>Finish inotify support so kde and gnome file list windows
will autorefresh (partially complete by Asser). Needs minor kernel
vfs change to support removing D_NOTIFY on a file.</li>
<li>Add GUI tool to configure /proc/fs/cifs settings and for display of
the CIFS statistics (started)</li>
<li>implement support for security and trusted categories of xattrs
(requires minor protocol extension) to enable better support for SELINUX</li>
<li>Add support for tree connect contexts (see MS-SMB2) a new SMB3.1.1 protocol
feature (may be especially useful for virtualization).</li>
<li>Create UID mapping facility so server UIDs can be mapped on a per
mount or a per server basis to client UIDs or nobody if no mapping
exists. Also better integration with winbind for resolving SID owners</li>
<li>Add tools to take advantage of more smb3 specific ioctls and features
(passthrough ioctl/fsctl is now implemented in cifs.ko to allow
sending various SMB3 fsctls and query info and set info calls
directly from user space) Add tools to make setting various non-POSIX
metadata attributes easier from tools (e.g. extending what was done
in smb-info tool).</li>
<li>encrypted file support</li>
<li>improved stats gathering tools (perhaps integration with nfsometer?)
to extend and make easier to use what is currently in /proc/fs/cifs/Stats</li>
<li>Add support for claims based ACLs (“DAC”)</li>
<li>mount helper GUI (to simplify the various configuration options on mount)</li>
<li>Add support for witness protocol (perhaps ioctl to cifs.ko from user space
tool listening on witness protocol RPC) to allow for notification of share
move, server failover, and server adapter changes.  And also improve other
failover scenarios, e.g. when client knows multiple DFS entries point to
different servers, and the server we are connected to has gone down.</li>
<li>Allow mount.cifs to be more verbose in reporting errors with dialect
or unsupported feature errors.</li>
<li>updating cifs documentation, and user guide.</li>
<li>Addressing bugs found by running a broader set of xfstests in standard
file system xfstest suite.</li>
<li>split cifs and smb3 support into separate modules so legacy (and less
secure) CIFS dialect can be disabled in environments that don’t need it
and simplify the code.</li>
</ol>
<ol class="loweralpha simple" start="22">
<li>POSIX Extensions for SMB3.1.1 (started, create and mkdir support added
so far).</li>
<li>Add support for additional strong encryption types, and additional spnego
authentication mechanisms (see MS-SMB2)</li>
<li>Finish support for SMB3.1.1 compression</li>
</ol>
</div>
<div class="section" id="known-bugs">
<h2>Known Bugs<a class="headerlink" href="#known-bugs" title="Permalink to this headline">¶</a></h2>
<p>See <a class="reference external" href="http://bugzilla.samba.org">http://bugzilla.samba.org</a> - search on product “CifsVFS” for
current bug list.  Also check <a class="reference external" href="http://bugzilla.kernel.org">http://bugzilla.kernel.org</a> (Product = File System, Component = CIFS)</p>
<ol class="arabic simple">
<li>existing symbolic links (Windows reparse points) are recognized but
can not be created remotely. They are implemented for Samba and those that
support the CIFS Unix extensions, although earlier versions of Samba
overly restrict the pathnames.</li>
<li>follow_link and readdir code does not follow dfs junctions
but recognizes them</li>
</ol>
</div>
<div class="section" id="misc-testing-to-do">
<h2>Misc testing to do<a class="headerlink" href="#misc-testing-to-do" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>check out max path names and max path name components against various server
types. Try nested symlinks (8 deep). Return max path name in stat -f information</li>
<li>Improve xfstest’s cifs/smb3 enablement and adapt xfstests where needed to test
cifs/smb3 better</li>
<li>Additional performance testing and optimization using iozone and similar -
there are some easy changes that can be done to parallelize sequential writes,
and when signing is disabled to request larger read sizes (larger than
negotiated size) and send larger write sizes to modern servers.</li>
<li>More exhaustively test against less common servers</li>
<li>Continue to extend the smb3 “buildbot” which does automated xfstesting
against Windows, Samba and Azure currently - to add additional tests and
to allow the buildbot to execute the tests faster. The URL for the
buildbot is: <a class="reference external" href="http://smb3-test-rhel-75.southcentralus.cloudapp.azure.com">http://smb3-test-rhel-75.southcentralus.cloudapp.azure.com</a></li>
<li>Address various coverity warnings (most are not bugs per-se, but
the more warnings are addressed, the easier it is to spot real
problems that static analyzers will point out in the future).</li>
</ol>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
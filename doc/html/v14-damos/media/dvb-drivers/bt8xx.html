

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>3. How to get the bt8xx cards working &mdash; The Linux Kernel  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../',
              VERSION:'',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.7.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../admin-guide/mm/damon/index.html">DAMON: Data Access MONitor</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>3. How to get the bt8xx cards working</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/media/dvb-drivers/bt8xx.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="how-to-get-the-bt8xx-cards-working">
<h1>3. How to get the bt8xx cards working<a class="headerlink" href="#how-to-get-the-bt8xx-cards-working" title="Permalink to this headline">¶</a></h1>
<dl class="docutils">
<dt>Authors: Richard Walker,</dt>
<dd>Jamie Honan,
Michael Hunold,
Manu Abraham,
Uwe Bugla,
Michael Krufky</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This documentation is outdated. Please check at the DVB wiki
at <a class="reference external" href="https://linuxtv.org/wiki">https://linuxtv.org/wiki</a> for more updated info.</p>
</div>
<div class="section" id="general-information">
<h2>3.1. General information<a class="headerlink" href="#general-information" title="Permalink to this headline">¶</a></h2>
<p>This class of cards has a bt878a as the PCI interface, and require the bttv driver
for accessing the i2c bus and the gpio pins of the bt8xx chipset.
Please see Documentation/media/dvb-drivers/cards.rst =&gt; o Cards based on the Conexant Bt8xx PCI bridge:</p>
<p>Compiling kernel please enable:</p>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">Device</span> <span class="pre">drivers</span></code> =&gt; <code class="docutils literal notranslate"><span class="pre">Multimedia</span> <span class="pre">devices</span></code> =&gt; <code class="docutils literal notranslate"><span class="pre">Video</span> <span class="pre">For</span> <span class="pre">Linux</span></code> =&gt; <code class="docutils literal notranslate"><span class="pre">Enable</span> <span class="pre">Video</span> <span class="pre">for</span> <span class="pre">Linux</span> <span class="pre">API</span> <span class="pre">1</span> <span class="pre">(DEPRECATED)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Device</span> <span class="pre">drivers</span></code> =&gt; <code class="docutils literal notranslate"><span class="pre">Multimedia</span> <span class="pre">devices</span></code> =&gt; <code class="docutils literal notranslate"><span class="pre">Video</span> <span class="pre">For</span> <span class="pre">Linux</span></code> =&gt; <code class="docutils literal notranslate"><span class="pre">Video</span> <span class="pre">Capture</span> <span class="pre">Adapters</span></code> =&gt; <code class="docutils literal notranslate"><span class="pre">BT848</span> <span class="pre">Video</span> <span class="pre">For</span> <span class="pre">Linux</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Device</span> <span class="pre">drivers</span></code> =&gt; <code class="docutils literal notranslate"><span class="pre">Multimedia</span> <span class="pre">devices</span></code> =&gt; <code class="docutils literal notranslate"><span class="pre">Digital</span> <span class="pre">Video</span> <span class="pre">Broadcasting</span> <span class="pre">Devices</span></code> =&gt; <code class="docutils literal notranslate"><span class="pre">DVB</span> <span class="pre">for</span> <span class="pre">Linux</span></code> <code class="docutils literal notranslate"><span class="pre">DVB</span> <span class="pre">Core</span> <span class="pre">Support</span></code> <code class="docutils literal notranslate"><span class="pre">Bt8xx</span> <span class="pre">based</span> <span class="pre">PCI</span> <span class="pre">Cards</span></code></li>
</ol>
<blockquote>
<div><p>Please use the following options with care as deselection of drivers which are in fact necessary may result in DVB devices that cannot be tuned due to lack of driver support:
You can save RAM by deselecting every frontend module that your DVB card does not need.</p>
<p>First please remove the static dependency of DVB card drivers on all frontend modules for all possible card variants by enabling:</p>
</div></blockquote>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">Device</span> <span class="pre">drivers</span></code> =&gt; <code class="docutils literal notranslate"><span class="pre">Multimedia</span> <span class="pre">devices</span></code> =&gt; <code class="docutils literal notranslate"><span class="pre">Digital</span> <span class="pre">Video</span> <span class="pre">Broadcasting</span> <span class="pre">Devices</span></code> =&gt; <code class="docutils literal notranslate"><span class="pre">DVB</span> <span class="pre">for</span> <span class="pre">Linux</span></code> <code class="docutils literal notranslate"><span class="pre">DVB</span> <span class="pre">Core</span> <span class="pre">Support</span></code> <code class="docutils literal notranslate"><span class="pre">Load</span> <span class="pre">and</span> <span class="pre">attach</span> <span class="pre">frontend</span> <span class="pre">modules</span> <span class="pre">as</span> <span class="pre">needed</span></code></li>
</ol>
<blockquote>
<div>If you know the frontend driver that your card needs please enable:</div></blockquote>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">Device</span> <span class="pre">drivers</span></code> =&gt; <code class="docutils literal notranslate"><span class="pre">Multimedia</span> <span class="pre">devices</span></code> =&gt; <code class="docutils literal notranslate"><span class="pre">Digital</span> <span class="pre">Video</span> <span class="pre">Broadcasting</span> <span class="pre">Devices</span></code> =&gt; <code class="docutils literal notranslate"><span class="pre">DVB</span> <span class="pre">for</span> <span class="pre">Linux</span></code> <code class="docutils literal notranslate"><span class="pre">DVB</span> <span class="pre">Core</span> <span class="pre">Support</span></code> <code class="docutils literal notranslate"><span class="pre">Customise</span> <span class="pre">DVB</span> <span class="pre">Frontends</span></code> =&gt; <code class="docutils literal notranslate"><span class="pre">Customise</span> <span class="pre">the</span> <span class="pre">frontend</span> <span class="pre">modules</span> <span class="pre">to</span> <span class="pre">build</span></code></li>
</ol>
<blockquote>
<div>Then please select your card-specific frontend module.</div></blockquote>
</div>
<div class="section" id="loading-modules">
<h2>3.2. Loading Modules<a class="headerlink" href="#loading-modules" title="Permalink to this headline">¶</a></h2>
<p>Regular case: If the bttv driver detects a bt8xx-based DVB card, all frontend and backend modules will be loaded automatically.
Exceptions are:
- Old TwinHan DST cards or clones with or without CA slot and not containing an Eeprom.
People running udev please see Documentation/media/dvb-drivers/udev.rst.</p>
<p>In the following cases overriding the PCI type detection for dvb-bt8xx might be necessary:</p>
<div class="section" id="running-twinhan-and-clones">
<h3>3.2.1. Running TwinHan and Clones<a class="headerlink" href="#running-twinhan-and-clones" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ modprobe bttv card=113
$ modprobe dst
</pre></div>
</div>
<p>Useful parameters for verbosity level and debugging the dst module:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>verbose=0:              messages are disabled
        1:              only error messages are displayed
        2:              notifications are displayed
        3:              other useful messages are displayed
        4:              debug setting
dst_addons=0:           card is a free to air (FTA) card only
        0x20:   card has a conditional access slot for scrambled channels
</pre></div>
</div>
<p>The autodetected values are determined by the cards’ “response string”.
In your logs see f. ex.: dst_get_device_id: Recognize [DSTMCI].
For bug reports please send in a complete log with verbose=4 activated.
Please also see Documentation/media/dvb-drivers/ci.rst.</p>
</div>
<div class="section" id="running-multiple-cards">
<h3>3.2.2. Running multiple cards<a class="headerlink" href="#running-multiple-cards" title="Permalink to this headline">¶</a></h3>
<p>Examples of card ID’s:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Pinnacle PCTV Sat:               94
Nebula Electronics Digi TV:     104
pcHDTV HD-2000 TV:              112
Twinhan DST and clones:         113
Avermedia AverTV DVB-T 771:     123
Avermedia AverTV DVB-T 761:     124
DViCO FusionHDTV DVB-T Lite:    128
DViCO FusionHDTV 5 Lite:        135
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The order of the card ID should be uprising:</p>
<p>Example:</p>
<div class="last highlight-none notranslate"><div class="highlight"><pre><span></span>$ modprobe bttv card=113 card=135
</pre></div>
</div>
</div>
<p>For a full list of card ID’s please see Documentation/media/v4l-drivers/bttv-cardlist.rst.
In case of further problems please subscribe and send questions to the mailing list: <a class="reference external" href="mailto:linux-dvb&#37;&#52;&#48;linuxtv&#46;org">linux-dvb<span>&#64;</span>linuxtv<span>&#46;</span>org</a>.</p>
</div>
<div class="section" id="probing-the-cards-with-broken-pci-subsystem-id">
<h3>3.2.3. Probing the cards with broken PCI subsystem ID<a class="headerlink" href="#probing-the-cards-with-broken-pci-subsystem-id" title="Permalink to this headline">¶</a></h3>
<p>There are some TwinHan cards that the EEPROM has become corrupted for some
reason. The cards do not have correct PCI subsystem ID. But we can force
probing the cards with broken PCI subsystem ID</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ echo 109e 0878 $subvendor $subdevice &gt; \
        /sys/bus/pci/drivers/bt878/new_id
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>109e: PCI_VENDOR_ID_BROOKTREE
0878: PCI_DEVICE_ID_BROOKTREE_878
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>The COPS LocalTalk Linux driver (cops.c) &mdash; The Linux Kernel  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.8.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/mm/damon/index.html">Monitoring Data Accesses</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../vm/damon/index.html">DAMON: Data Access MONitor</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>The COPS LocalTalk Linux driver (cops.c)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/networking/cops.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="the-cops-localtalk-linux-driver-cops-c">
<h1>The COPS LocalTalk Linux driver (cops.c)<a class="headerlink" href="#the-cops-localtalk-linux-driver-cops-c" title="Permalink to this headline">¶</a></h1>
<p>By Jay Schulist &lt;<a class="reference external" href="mailto:jschlst&#37;&#52;&#48;samba&#46;org">jschlst<span>&#64;</span>samba<span>&#46;</span>org</a>&gt;</p>
<p>This driver has two modes and they are: Dayna mode and Tangent mode.
Each mode corresponds with the type of card. It has been found
that there are 2 main types of cards and all other cards are
the same and just have different names or only have minor differences
such as more IO ports. As this driver is tested it will
become more clear exactly what cards are supported.</p>
<p>Right now these cards are known to work with the COPS driver. The
LT-200 cards work in a somewhat more limited capacity than the
DL200 cards, which work very well and are in use by many people.</p>
<dl class="docutils">
<dt>TANGENT driver mode:</dt>
<dd><ul class="first last simple">
<li>Tangent ATB-II, Novell NL-1000, Daystar Digital LT-200</li>
</ul>
</dd>
<dt>DAYNA driver mode:</dt>
<dd><ul class="first last simple">
<li>Dayna DL2000/DaynaTalk PC (Half Length), COPS LT-95,</li>
<li>Farallon PhoneNET PC III, Farallon PhoneNET PC II</li>
</ul>
</dd>
<dt>Other cards possibly supported mode unknown though:</dt>
<dd><ul class="first last simple">
<li>Dayna DL2000 (Full length)</li>
</ul>
</dd>
</dl>
<p>The COPS driver defaults to using Dayna mode. To change the driver’s
mode if you built a driver with dual support use board_type=1 or
board_type=2 for Dayna or Tangent with insmod.</p>
<div class="section" id="operation-loading-of-the-driver">
<h2>Operation/loading of the driver<a class="headerlink" href="#operation-loading-of-the-driver" title="Permalink to this headline">¶</a></h2>
<p>Use modprobe like this: /sbin/modprobe cops.o (IO #) (IRQ #)
If you do not specify any options the driver will try and use the IO = 0x240,
IRQ = 5. As of right now I would only use IRQ 5 for the card, if autoprobing.</p>
<p>To load multiple COPS driver Localtalk cards you can do one of the following:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>insmod cops io=0x240 irq=5
insmod -o cops2 cops io=0x260 irq=3
</pre></div>
</div>
<p>Or in lilo.conf put something like this:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>append=&quot;ether=5,0x240,lt0 ether=3,0x260,lt1&quot;
</pre></div>
</div>
<p>Then bring up the interface with ifconfig. It will look something like this:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>lt0       Link encap:UNSPEC  HWaddr 00-00-00-00-00-00-00-F7-00-00-00-00-00-00-00-00
          inet addr:192.168.1.2  Bcast:192.168.1.255  Mask:255.255.255.0
          UP BROADCAST RUNNING NOARP MULTICAST  MTU:600  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0 coll:0
</pre></div>
</div>
</div>
<div class="section" id="netatalk-configuration">
<h2>Netatalk Configuration<a class="headerlink" href="#netatalk-configuration" title="Permalink to this headline">¶</a></h2>
<p>You will need to configure atalkd with something like the following to make
it work with the cops.c driver.</p>
<ul>
<li><p class="first">For single LTalk card use:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>dummy -seed -phase 2 -net 2000 -addr 2000.10 -zone &quot;1033&quot;
lt0 -seed -phase 1 -net 1000 -addr 1000.50 -zone &quot;1033&quot;
</pre></div>
</div>
</li>
<li><p class="first">For multiple cards, Ethernet and LocalTalk:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>eth0 -seed -phase 2 -net 3000 -addr 3000.20 -zone &quot;1033&quot;
lt0 -seed -phase 1 -net 1000 -addr 1000.50 -zone &quot;1033&quot;
</pre></div>
</div>
</li>
<li><p class="first">For multiple LocalTalk cards, and an Ethernet card.</p>
</li>
<li><p class="first">Order seems to matter here, Ethernet last:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>lt0 -seed -phase 1 -net 1000 -addr 1000.10 -zone &quot;LocalTalk1&quot;
lt1 -seed -phase 1 -net 2000 -addr 2000.20 -zone &quot;LocalTalk2&quot;
eth0 -seed -phase 2 -net 3000 -addr 3000.30 -zone &quot;EtherTalk&quot;
</pre></div>
</div>
</li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Kernel Memory Layout on ARM Linux &mdash; The Linux Kernel  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.7.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/mm/damon/index.html">DAMON: Data Access MONitor</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Kernel Memory Layout on ARM Linux</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/arm/memory.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="kernel-memory-layout-on-arm-linux">
<h1>Kernel Memory Layout on ARM Linux<a class="headerlink" href="#kernel-memory-layout-on-arm-linux" title="Permalink to this headline">Â¶</a></h1>
<blockquote>
<div><p>Russell King &lt;<a class="reference external" href="mailto:rmk&#37;&#52;&#48;arm&#46;linux&#46;org&#46;uk">rmk<span>&#64;</span>arm<span>&#46;</span>linux<span>&#46;</span>org<span>&#46;</span>uk</a>&gt;</p>
<blockquote>
<div>November 17, 2005 (2.6.15)</div></blockquote>
</div></blockquote>
<p>This document describes the virtual memory layout which the Linux
kernel uses for ARM processors.  It indicates which regions are
free for platforms to use, and which are used by generic code.</p>
<p>The ARM CPU is capable of addressing a maximum of 4GB virtual memory
space, and this must be shared between user space processes, the
kernel, and hardware devices.</p>
<p>As the ARM architecture matures, it becomes necessary to reserve
certain regions of VM space for use for new facilities; therefore
this document may reserve more VM space over time.</p>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="19%" />
<col width="61%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Start</th>
<th class="head">End</th>
<th class="head">Use</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>ffff8000</td>
<td>ffffffff</td>
<td>copy_user_page / clear_user_page use.
For SA11xx and Xscale, this is used to
setup a minicache mapping.</td>
</tr>
<tr class="row-odd"><td>ffff4000</td>
<td>ffffffff</td>
<td>cache aliasing on ARMv6 and later CPUs.</td>
</tr>
<tr class="row-even"><td>ffff1000</td>
<td>ffff7fff</td>
<td>Reserved.
Platforms must not use this address range.</td>
</tr>
<tr class="row-odd"><td>ffff0000</td>
<td>ffff0fff</td>
<td>CPU vector page.
The CPU vectors are mapped here if the
CPU supports vector relocation (control
register V bit.)</td>
</tr>
<tr class="row-even"><td>fffe0000</td>
<td>fffeffff</td>
<td>XScale cache flush area.  This is used
in proc-xscale.S to flush the whole data
cache. (XScale does not have TCM.)</td>
</tr>
<tr class="row-odd"><td>fffe8000</td>
<td>fffeffff</td>
<td>DTCM mapping area for platforms with
DTCM mounted inside the CPU.</td>
</tr>
<tr class="row-even"><td>fffe0000</td>
<td>fffe7fff</td>
<td>ITCM mapping area for platforms with
ITCM mounted inside the CPU.</td>
</tr>
<tr class="row-odd"><td>ffc00000</td>
<td>ffefffff</td>
<td>Fixmap mapping region.  Addresses provided
by fix_to_virt() will be located here.</td>
</tr>
<tr class="row-even"><td>fee00000</td>
<td>feffffff</td>
<td>Mapping of PCI I/O space. This is a static
mapping within the vmalloc space.</td>
</tr>
<tr class="row-odd"><td>VMALLOC_START</td>
<td>VMALLOC_END-1</td>
<td><a class="reference internal" href="../core-api/mm-api.html#c.vmalloc" title="vmalloc"><code class="xref c c-func docutils literal notranslate"><span class="pre">vmalloc()</span></code></a> / <a class="reference internal" href="../driver-api/device-io.html#c.ioremap" title="ioremap"><code class="xref c c-func docutils literal notranslate"><span class="pre">ioremap()</span></code></a> space.
Memory returned by vmalloc/ioremap will
be dynamically placed in this region.
Machine specific static mappings are also
located here through iotable_init().
VMALLOC_START is based upon the value
of the high_memory variable, and VMALLOC_END
is equal to 0xff800000.</td>
</tr>
<tr class="row-even"><td>PAGE_OFFSET</td>
<td>high_memory-1</td>
<td>Kernel direct-mapped RAM region.
This maps the platforms RAM, and typically
maps all platform RAM in a 1:1 relationship.</td>
</tr>
<tr class="row-odd"><td>PKMAP_BASE</td>
<td>PAGE_OFFSET-1</td>
<td>Permanent kernel mappings
One way of mapping HIGHMEM pages into kernel
space.</td>
</tr>
<tr class="row-even"><td>MODULES_VADDR</td>
<td>MODULES_END-1</td>
<td>Kernel module space
Kernel modules inserted via insmod are
placed here using dynamic mappings.</td>
</tr>
<tr class="row-odd"><td>00001000</td>
<td>TASK_SIZE-1</td>
<td>User space mappings
Per-thread mappings are placed here via
the mmap() system call.</td>
</tr>
<tr class="row-even"><td>00000000</td>
<td>00000fff</td>
<td>CPU vector page / null pointer trap
CPUs which do not support vector remapping
place their vector page here.  NULL pointer
dereferences by both the kernel and user
space are also caught via this mapping.</td>
</tr>
</tbody>
</table>
<p>Please note that mappings which collide with the above areas may result
in a non-bootable kernel, or may cause the kernel to (eventually) panic
at run time.</p>
<p>Since future CPUs may impact the kernel mapping layout, user programs
must not access any memory which is not mapped inside their 0x0001000
to TASK_SIZE address range.  If they wish to access these areas, they
must set up their own mappings using open() and mmap().</p>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Kernel drivers ltc2947-i2c and ltc2947-spi &mdash; The Linux Kernel  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.8.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/mm/damon/index.html">Monitoring Data Accesses</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../vm/damon/index.html">DAMON: Data Access MONitor</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Kernel drivers ltc2947-i2c and ltc2947-spi</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/hwmon/ltc2947.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="kernel-drivers-ltc2947-i2c-and-ltc2947-spi">
<h1>Kernel drivers ltc2947-i2c and ltc2947-spi<a class="headerlink" href="#kernel-drivers-ltc2947-i2c-and-ltc2947-spi" title="Permalink to this headline">¶</a></h1>
<p>Supported chips:</p>
<blockquote>
<div><ul>
<li><p class="first">Analog Devices LTC2947</p>
<p>Prefix: ‘ltc2947’</p>
<p>Addresses scanned: -</p>
<p>Datasheet:</p>
<blockquote>
<div><p><a class="reference external" href="https://www.analog.com/media/en/technical-documentation/data-sheets/LTC2947.pdf">https://www.analog.com/media/en/technical-documentation/data-sheets/LTC2947.pdf</a></p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<p>Author: Nuno Sá &lt;<a class="reference external" href="mailto:nuno&#46;sa&#37;&#52;&#48;analog&#46;com">nuno<span>&#46;</span>sa<span>&#64;</span>analog<span>&#46;</span>com</a>&gt;</p>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>The LTC2947 is a high precision power and energy monitor that measures current,
voltage, power, temperature, charge and energy. The device supports both SPI
and I2C depending on the chip configuration.
The device also measures accumulated quantities as energy. It has two banks of
register’s to read/set energy related values. These banks can be configured
independently to have setups like: energy1 accumulates always and enrgy2 only
accumulates if current is positive (to check battery charging efficiency for
example). The device also supports a GPIO pin that can be configured as output
to control a fan as a function of measured temperature. Then, the GPIO becomes
active as soon as a temperature reading is higher than a defined threshold. The
temp2 channel is used to control this thresholds and to read the respective
alarms.</p>
</div>
<div class="section" id="sysfs-entries">
<h2>Sysfs entries<a class="headerlink" href="#sysfs-entries" title="Permalink to this headline">¶</a></h2>
<p>The following attributes are supported. Limits are read-write, reset_history
is write-only and all the other attributes are read-only.</p>
<table border="1" class="docutils">
<colgroup>
<col width="35%" />
<col width="65%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>in0_input</td>
<td>VP-VM voltage (mV).</td>
</tr>
<tr class="row-even"><td>in0_min</td>
<td>Undervoltage threshold</td>
</tr>
<tr class="row-odd"><td>in0_max</td>
<td>Overvoltage threshold</td>
</tr>
<tr class="row-even"><td>in0_lowest</td>
<td>Lowest measured voltage</td>
</tr>
<tr class="row-odd"><td>in0_highest</td>
<td>Highest measured voltage</td>
</tr>
<tr class="row-even"><td>in0_reset_history</td>
<td>Write 1 to reset in1 history</td>
</tr>
<tr class="row-odd"><td>in0_min_alarm</td>
<td>Undervoltage alarm</td>
</tr>
<tr class="row-even"><td>in0_max_alarm</td>
<td>Overvoltage alarm</td>
</tr>
<tr class="row-odd"><td>in0_label</td>
<td>Channel label (VP-VM)</td>
</tr>
<tr class="row-even"><td>in1_input</td>
<td>DVCC voltage (mV)</td>
</tr>
<tr class="row-odd"><td>in1_min</td>
<td>Undervoltage threshold</td>
</tr>
<tr class="row-even"><td>in1_max</td>
<td>Overvoltage threshold</td>
</tr>
<tr class="row-odd"><td>in1_lowest</td>
<td>Lowest measured voltage</td>
</tr>
<tr class="row-even"><td>in1_highest</td>
<td>Highest measured voltage</td>
</tr>
<tr class="row-odd"><td>in1_reset_history</td>
<td>Write 1 to reset in2 history</td>
</tr>
<tr class="row-even"><td>in1_min_alarm</td>
<td>Undervoltage alarm</td>
</tr>
<tr class="row-odd"><td>in1_max_alarm</td>
<td>Overvoltage alarm</td>
</tr>
<tr class="row-even"><td>in1_label</td>
<td>Channel label (DVCC)</td>
</tr>
<tr class="row-odd"><td>curr1_input</td>
<td>IP-IM Sense current (mA)</td>
</tr>
<tr class="row-even"><td>curr1_min</td>
<td>Undercurrent threshold</td>
</tr>
<tr class="row-odd"><td>curr1_max</td>
<td>Overcurrent threshold</td>
</tr>
<tr class="row-even"><td>curr1_lowest</td>
<td>Lowest measured current</td>
</tr>
<tr class="row-odd"><td>curr1_highest</td>
<td>Highest measured current</td>
</tr>
<tr class="row-even"><td>curr1_reset_history</td>
<td>Write 1 to reset curr1 history</td>
</tr>
<tr class="row-odd"><td>curr1_min_alarm</td>
<td>Undercurrent alarm</td>
</tr>
<tr class="row-even"><td>curr1_max_alarm</td>
<td>Overcurrent alarm</td>
</tr>
<tr class="row-odd"><td>curr1_label</td>
<td>Channel label (IP-IM)</td>
</tr>
<tr class="row-even"><td>power1_input</td>
<td>Power (in uW)</td>
</tr>
<tr class="row-odd"><td>power1_min</td>
<td>Low power threshold</td>
</tr>
<tr class="row-even"><td>power1_max</td>
<td>High power threshold</td>
</tr>
<tr class="row-odd"><td>power1_input_lowest</td>
<td>Historical minimum power use</td>
</tr>
<tr class="row-even"><td>power1_input_highest</td>
<td>Historical maximum power use</td>
</tr>
<tr class="row-odd"><td>power1_reset_history</td>
<td>Write 1 to reset power1 history</td>
</tr>
<tr class="row-even"><td>power1_min_alarm</td>
<td>Low power alarm</td>
</tr>
<tr class="row-odd"><td>power1_max_alarm</td>
<td>High power alarm</td>
</tr>
<tr class="row-even"><td>power1_label</td>
<td>Channel label (Power)</td>
</tr>
<tr class="row-odd"><td>temp1_input</td>
<td>Chip Temperature (in milliC)</td>
</tr>
<tr class="row-even"><td>temp1_min</td>
<td>Low temperature threshold</td>
</tr>
<tr class="row-odd"><td>temp1_max</td>
<td>High temperature threshold</td>
</tr>
<tr class="row-even"><td>temp1_input_lowest</td>
<td>Historical minimum temperature use</td>
</tr>
<tr class="row-odd"><td>temp1_input_highest</td>
<td>Historical maximum temperature use</td>
</tr>
<tr class="row-even"><td>temp1_reset_history</td>
<td>Write 1 to reset temp1 history</td>
</tr>
<tr class="row-odd"><td>temp1_min_alarm</td>
<td>Low temperature alarm</td>
</tr>
<tr class="row-even"><td>temp1_max_alarm</td>
<td>High temperature alarm</td>
</tr>
<tr class="row-odd"><td>temp1_label</td>
<td>Channel label (Ambient)</td>
</tr>
<tr class="row-even"><td>temp2_min</td>
<td>Low temperature threshold for fan control</td>
</tr>
<tr class="row-odd"><td>temp2_max</td>
<td>High temperature threshold for fan control</td>
</tr>
<tr class="row-even"><td>temp2_min_alarm</td>
<td>Low temperature fan control alarm</td>
</tr>
<tr class="row-odd"><td>temp2_max_alarm</td>
<td>High temperature fan control alarm</td>
</tr>
<tr class="row-even"><td>temp2_label</td>
<td>Channel label (TEMPFAN)</td>
</tr>
<tr class="row-odd"><td>energy1_input</td>
<td>Measured energy over time (in microJoule)</td>
</tr>
<tr class="row-even"><td>energy2_input</td>
<td>Measured energy over time (in microJoule)</td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
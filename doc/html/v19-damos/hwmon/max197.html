

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Kernel driver max197 &mdash; The Linux Kernel  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.8.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/mm/damon/index.html">Monitoring Data Accesses</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../vm/damon/index.html">DAMON: Data Access MONitor</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Kernel driver max197</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/hwmon/max197.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="kernel-driver-max197">
<h1>Kernel driver max197<a class="headerlink" href="#kernel-driver-max197" title="Permalink to this headline">¶</a></h1>
<p>Author:</p>
<blockquote>
<div><ul class="simple">
<li>Vivien Didelot &lt;<a class="reference external" href="mailto:vivien&#46;didelot&#37;&#52;&#48;savoirfairelinux&#46;com">vivien<span>&#46;</span>didelot<span>&#64;</span>savoirfairelinux<span>&#46;</span>com</a>&gt;</li>
</ul>
</div></blockquote>
<p>Supported chips:</p>
<blockquote>
<div><ul>
<li><p class="first">Maxim MAX197</p>
<p>Prefix: ‘max197’</p>
<p>Datasheet: <a class="reference external" href="http://datasheets.maxim-ic.com/en/ds/MAX197.pdf">http://datasheets.maxim-ic.com/en/ds/MAX197.pdf</a></p>
</li>
<li><p class="first">Maxim MAX199</p>
<p>Prefix: ‘max199’</p>
<p>Datasheet: <a class="reference external" href="http://datasheets.maxim-ic.com/en/ds/MAX199.pdf">http://datasheets.maxim-ic.com/en/ds/MAX199.pdf</a></p>
</li>
</ul>
</div></blockquote>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>The A/D converters MAX197, and MAX199 are both 8-Channel, Multi-Range, 5V,
12-Bit DAS with 8+4 Bus Interface and Fault Protection.</p>
<p>The available ranges for the MAX197 are {0,-5V} to 5V, and {0,-10V} to 10V,
while they are {0,-2V} to 2V, and {0,-4V} to 4V on the MAX199.</p>
</div>
<div class="section" id="platform-data">
<h2>Platform data<a class="headerlink" href="#platform-data" title="Permalink to this headline">¶</a></h2>
<p>The MAX197 platform data (defined in linux/platform_data/max197.h) should be
filled with a pointer to a conversion function, defined like:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>int convert(u8 ctrl);
</pre></div>
</div>
<p>ctrl is the control byte to write to start a new conversion.
On success, the function must return the 12-bit raw value read from the chip,
or a negative error code otherwise.</p>
<p>Control byte format:</p>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="16%" />
<col width="72%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Bit</td>
<td>Name</td>
<td>Description</td>
</tr>
<tr class="row-even"><td>7,6</td>
<td>PD1,PD0</td>
<td>Clock and Power-Down modes</td>
</tr>
<tr class="row-odd"><td>5</td>
<td>ACQMOD</td>
<td>Internal or External Controlled Acquisition</td>
</tr>
<tr class="row-even"><td>4</td>
<td>RNG</td>
<td>Full-scale voltage magnitude at the input</td>
</tr>
<tr class="row-odd"><td>3</td>
<td>BIP</td>
<td>Unipolar or Bipolar conversion mode</td>
</tr>
<tr class="row-even"><td>2,1,0</td>
<td>A2,A1,A0</td>
<td>Channel</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="sysfs-interface">
<h2>Sysfs interface<a class="headerlink" href="#sysfs-interface" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="82%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>in[0-7]_input</td>
<td>The conversion value for the corresponding channel.
RO</td>
</tr>
<tr class="row-even"><td>in[0-7]_min</td>
<td>The lower limit (in mV) for the corresponding channel.
For the MAX197, it will be adjusted to -10000, -5000, or 0.
For the MAX199, it will be adjusted to -4000, -2000, or 0.
RW</td>
</tr>
<tr class="row-odd"><td>in[0-7]_max</td>
<td>The higher limit (in mV) for the corresponding channel.
For the MAX197, it will be adjusted to 0, 5000, or 10000.
For the MAX199, it will be adjusted to 0, 2000, or 4000.
RW</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
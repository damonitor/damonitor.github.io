

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Embedded device command line partition parsing &mdash; The Linux Kernel  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.7.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/mm/damon/index.html">Monitoring Data Accesses</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../vm/damon/index.html">DAMON: Data Access MONitor</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Embedded device command line partition parsing</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/block/cmdline-partition.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="embedded-device-command-line-partition-parsing">
<h1>Embedded device command line partition parsing<a class="headerlink" href="#embedded-device-command-line-partition-parsing" title="Permalink to this headline">¶</a></h1>
<p>The “blkdevparts” command line option adds support for reading the
block device partition table from the kernel command line.</p>
<p>It is typically used for fixed block (eMMC) embedded devices.
It has no MBR, so saves storage space. Bootloader can be easily accessed
by absolute address of data on the block device.
Users can easily change the partition.</p>
<p>The format for the command line is just like mtdparts:</p>
<dl class="docutils">
<dt>blkdevparts=&lt;blkdev-def&gt;[;&lt;blkdev-def&gt;]</dt>
<dd><dl class="first last docutils">
<dt>&lt;blkdev-def&gt; := &lt;blkdev-id&gt;:&lt;partdef&gt;[,&lt;partdef&gt;]</dt>
<dd>&lt;partdef&gt; := &lt;size&gt;[&#64;&lt;offset&gt;](part-name)</dd>
</dl>
</dd>
<dt>&lt;blkdev-id&gt;</dt>
<dd>block device disk name. Embedded device uses fixed block device.
Its disk name is also fixed, such as: mmcblk0, mmcblk1, mmcblk0boot0.</dd>
<dt>&lt;size&gt;</dt>
<dd><p class="first">partition size, in bytes, such as: 512, 1m, 1G.
size may contain an optional suffix of (upper or lower case):</p>
<blockquote>
<div>K, M, G, T, P, E.</div></blockquote>
<p class="last">“-” is used to denote all remaining space.</p>
</dd>
<dt>&lt;offset&gt;</dt>
<dd><p class="first">partition start address, in bytes.
offset may contain an optional suffix of (upper or lower case):</p>
<blockquote class="last">
<div>K, M, G, T, P, E.</div></blockquote>
</dd>
<dt>(part-name)</dt>
<dd>partition name. Kernel sends uevent with “PARTNAME”. Application can
create a link to block device partition with the name “PARTNAME”.
User space application can access partition by partition name.</dd>
</dl>
<p>Example:</p>
<blockquote>
<div><blockquote>
<div>eMMC disk names are “mmcblk0” and “mmcblk0boot0”.</div></blockquote>
<p>bootargs:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&#39;blkdevparts=mmcblk0:1G(data0),1G(data1),-;mmcblk0boot0:1m(boot),-(kernel)&#39;
</pre></div>
</div>
<p>dmesg:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mmcblk0: p1(data0) p2(data1) p3()
mmcblk0boot0: p1(boot) p2(kernel)
</pre></div>
</div>
</div></blockquote>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
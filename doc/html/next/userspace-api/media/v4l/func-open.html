

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>7.66. V4L2 open() &mdash; The Linux Kernel  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../../',
              VERSION:'',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.8.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../admin-guide/mm/damon/index.html">Monitoring Data Accesses</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../vm/damon/index.html">DAMON: Data Access MONitor</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
      <li>7.66. V4L2 open()</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/userspace-api/media/v4l/func-open.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="v4l2-open">
<span id="func-open"></span><h1>7.66. V4L2 open()<a class="headerlink" href="#v4l2-open" title="Permalink to this headline">¶</a></h1>
<div class="section" id="name">
<h2>7.66.1. Name<a class="headerlink" href="#name" title="Permalink to this headline">¶</a></h2>
<p>v4l2-open - Open a V4L2 device</p>
</div>
<div class="section" id="synopsis">
<h2>7.66.2. Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;fcntl.h&gt;</span><span class="cp"></span>
</pre></div>
</div>
<dl class="function">
<dt id="c.v4l2-open">
int <code class="descname">open</code><span class="sig-paren">(</span>const char<em>&nbsp;*device_name</em>, int<em>&nbsp;flags</em><span class="sig-paren">)</span><a class="headerlink" href="#c.v4l2-open" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="arguments">
<h2>7.66.3. Arguments<a class="headerlink" href="#arguments" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">device_name</span></code></dt>
<dd>Device to be opened.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">flags</span></code></dt>
<dd><p class="first">Open flags. Access mode must be <code class="docutils literal notranslate"><span class="pre">O_RDWR</span></code>. This is just a
technicality, input devices still support only reading and output
devices only writing.</p>
<p>When the <code class="docutils literal notranslate"><span class="pre">O_NONBLOCK</span></code> flag is given, the <a class="reference internal" href="func-read.html#func-read"><span class="std std-ref">read()</span></a>
function and the <a class="reference internal" href="vidioc-qbuf.html#vidioc-qbuf"><span class="std std-ref">VIDIOC_DQBUF</span></a> ioctl will
return the <code class="docutils literal notranslate"><span class="pre">EAGAIN</span></code> error code when no data is available or no
buffer is in the driver outgoing queue, otherwise these functions
block until data becomes available. All V4L2 drivers exchanging data
with applications must support the <code class="docutils literal notranslate"><span class="pre">O_NONBLOCK</span></code> flag.</p>
<p class="last">Other flags have no effect.</p>
</dd>
</dl>
</div>
<div class="section" id="description">
<h2>7.66.4. Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>To open a V4L2 device applications call <a class="reference internal" href="#func-open"><span class="std std-ref">open()</span></a> with the
desired device name. This function has no side effects; all data format
parameters, current input or output, control values or other properties
remain unchanged. At the first <a class="reference internal" href="#func-open"><span class="std std-ref">open()</span></a> call after loading the
driver they will be reset to default values, drivers are never in an
undefined state.</p>
</div>
<div class="section" id="return-value">
<h2>7.66.5. Return Value<a class="headerlink" href="#return-value" title="Permalink to this headline">¶</a></h2>
<p>On success <a class="reference internal" href="#func-open"><span class="std std-ref">open()</span></a> returns the new file descriptor. On error
-1 is returned, and the <code class="docutils literal notranslate"><span class="pre">errno</span></code> variable is set appropriately.
Possible error codes are:</p>
<dl class="docutils">
<dt>EACCES</dt>
<dd>The caller has no permission to access the device.</dd>
<dt>EBUSY</dt>
<dd>The driver does not support multiple opens and the device is already
in use.</dd>
<dt>ENXIO</dt>
<dd>No device corresponding to this device special file exists.</dd>
<dt>ENOMEM</dt>
<dd>Not enough kernel memory was available to complete the request.</dd>
<dt>EMFILE</dt>
<dd>The process already has the maximum number of files open.</dd>
<dt>ENFILE</dt>
<dd>The limit on the total number of files open on the system has been
reached.</dd>
</dl>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>3. Infrared remote control support in video4linux drivers &mdash; The Linux Kernel  documentation</title><link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/theme_rtd_colors.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> The Linux Kernel
          </a>
              <div class="version">
                5.19.0-rc2-mm-unstable-damon
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../mm/damon/index.html">Monitoring Data Accesses</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../vm/damon/index.html">DAMON: Data Access MONitor</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">The Linux Kernel</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li><span class="section-number">3. </span>Infrared remote control support in video4linux drivers</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/admin-guide/media/remote-controller.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="infrared-remote-control-support-in-video4linux-drivers">
<h1><span class="section-number">3. </span>Infrared remote control support in video4linux drivers<a class="headerlink" href="#infrared-remote-control-support-in-video4linux-drivers" title="Permalink to this headline">¶</a></h1>
<p>Authors: Gerd Hoffmann, Mauro Carvalho Chehab</p>
<section id="basics">
<h2><span class="section-number">3.1. </span>Basics<a class="headerlink" href="#basics" title="Permalink to this headline">¶</a></h2>
<p>Most analog and digital TV boards support remote controllers. Several of
them have a microprocessor that receives the IR carriers, convert into
pulse/space sequences and then to scan codes, returning such codes to
userspace (“scancode mode”). Other boards return just the pulse/space
sequences (“raw mode”).</p>
<p>The support for remote controller in scancode mode is provided by the
standard Linux input layer. The support for raw mode is provided via LIRC.</p>
<p>In order to check the support and test it, it is suggested to download
the <a class="reference external" href="https://git.linuxtv.org/v4l-utils.git/">v4l-utils</a>. It provides
two tools to handle remote controllers:</p>
<ul class="simple">
<li><p>ir-keytable: provides a way to query the remote controller, list the
protocols it supports, enable in-kernel support for IR decoder or
switch the protocol and to test the reception of scan codes;</p></li>
<li><p>ir-ctl: provide tools to handle remote controllers that support raw mode
via LIRC interface.</p></li>
</ul>
<p>Usually, the remote controller module is auto-loaded when the TV card is
detected. However, for a few devices, you need to manually load the
ir-kbd-i2c module.</p>
</section>
<section id="how-it-works">
<h2><span class="section-number">3.2. </span>How it works<a class="headerlink" href="#how-it-works" title="Permalink to this headline">¶</a></h2>
<p>The modules register the remote as keyboard within the linux input
layer, i.e. you’ll see the keys of the remote as normal key strokes
(if CONFIG_INPUT_KEYBOARD is enabled).</p>
<p>Using the event devices (CONFIG_INPUT_EVDEV) it is possible for
applications to access the remote via /dev/input/event&lt;n&gt; devices.
The udev/systemd will automatically create the devices. If you install
the <a class="reference external" href="https://git.linuxtv.org/v4l-utils.git/">v4l-utils</a>, it may also
automatically load a different keytable than the default one. Please see
<a class="reference external" href="https://git.linuxtv.org/v4l-utils.git/">v4l-utils</a> ir-keytable.1
man page for details.</p>
<p>The ir-keytable tool is nice for trouble shooting, i.e. to check
whenever the input device is really present, which of the devices it
is, check whenever pressing keys on the remote actually generates
events and the like.  You can also use any other input utility that changes
the keymaps, like the input kbd utility.</p>
<section id="using-with-lircd">
<h3><span class="section-number">3.2.1. </span>Using with lircd<a class="headerlink" href="#using-with-lircd" title="Permalink to this headline">¶</a></h3>
<p>The latest versions of the lircd daemon supports reading events from the
linux input layer (via event device). It also supports receiving IR codes
in lirc mode.</p>
</section>
<section id="using-without-lircd">
<h3><span class="section-number">3.2.2. </span>Using without lircd<a class="headerlink" href="#using-without-lircd" title="Permalink to this headline">¶</a></h3>
<p>Xorg recognizes several IR keycodes that have its numerical value lower
than 247. With the advent of Wayland, the input driver got updated too,
and should now accept all keycodes. Yet, you may want to just reassign
the keycodes to something that your favorite media application likes.</p>
<p>This can be done by setting
<a class="reference external" href="https://git.linuxtv.org/v4l-utils.git/">v4l-utils</a> to load your own
keytable in runtime. Please read  ir-keytable.1 man page for details.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright The kernel development community.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>
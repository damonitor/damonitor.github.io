

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Devlink Params &mdash; The Linux Kernel  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../',
              VERSION:'',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.7.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../admin-guide/mm/damon/index.html">DAMON: Data Access MONitor</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>Devlink Params</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/networking/devlink/devlink-params.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="devlink-params">
<h1>Devlink Params<a class="headerlink" href="#devlink-params" title="Permalink to this headline">¶</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">devlink</span></code> provides capability for a driver to expose device parameters for low
level device functionality. Since devlink can operate at the device-wide
level, it can be used to provide configuration that may affect multiple
ports on a single device.</p>
<p>This document describes a number of generic parameters that are supported
across multiple drivers. Each driver is also free to add their own
parameters. Each driver must document the specific parameters they support,
whether generic or not.</p>
<div class="section" id="configuration-modes">
<h2>Configuration modes<a class="headerlink" href="#configuration-modes" title="Permalink to this headline">¶</a></h2>
<p>Parameters may be set in different configuration modes.</p>
<table border="1" class="colwidths-given docutils" id="id1">
<caption><span class="caption-text">Possible configuration modes</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="5%" />
<col width="95%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Name</td>
<td>Description</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">runtime</span></code></td>
<td>set while the driver is running, and takes effect immediately. No
reset is required.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">driverinit</span></code></td>
<td>applied while the driver initializes. Requires the user to restart
the driver using the <code class="docutils literal notranslate"><span class="pre">devlink</span></code> reload command.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">permanent</span></code></td>
<td>written to the device’s non-volatile memory. A hard reset is required
for it to take effect.</td>
</tr>
</tbody>
</table>
<div class="section" id="reloading">
<h3>Reloading<a class="headerlink" href="#reloading" title="Permalink to this headline">¶</a></h3>
<p>In order for <code class="docutils literal notranslate"><span class="pre">driverinit</span></code> parameters to take effect, the driver must
support reloading via the <code class="docutils literal notranslate"><span class="pre">devlink-reload</span></code> command. This command will
request a reload of the device driver.</p>
</div>
</div>
<div class="section" id="generic-configuration-parameters">
<span id="devlink-params-generic"></span><h2>Generic configuration parameters<a class="headerlink" href="#generic-configuration-parameters" title="Permalink to this headline">¶</a></h2>
<p>The following is a list of generic configuration parameters that drivers may
add. Use of generic parameters is preferred over each driver creating their
own name.</p>
<table border="1" class="colwidths-given docutils" id="id2">
<caption><span class="caption-text">List of generic parameters</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="5%" />
<col width="5%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Name</td>
<td>Type</td>
<td>Description</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">enable_sriov</span></code></td>
<td>Boolean</td>
<td>Enable Single Root I/O Virtualization (SRIOV) in the device.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">ignore_ari</span></code></td>
<td>Boolean</td>
<td>Ignore Alternative Routing-ID Interpretation (ARI) capability. If
enabled, the adapter will ignore ARI capability even when the
platform has support enabled. The device will create the same number
of partitions as when the platform does not support ARI.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">msix_vec_per_pf_max</span></code></td>
<td>u32</td>
<td>Provides the maximum number of MSI-X interrupts that a device can
create. Value is the same across all physical functions (PFs) in the
device.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">msix_vec_per_pf_min</span></code></td>
<td>u32</td>
<td>Provides the minimum number of MSI-X interrupts required for the
device to initialize. Value is the same across all physical functions
(PFs) in the device.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">fw_load_policy</span></code></td>
<td>u8</td>
<td><dl class="first last docutils">
<dt>Control the device’s firmware loading policy.</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal notranslate"><span class="pre">DEVLINK_PARAM_FW_LOAD_POLICY_VALUE_DRIVER</span></code> (0)
Load firmware version preferred by the driver.</li>
<li><code class="docutils literal notranslate"><span class="pre">DEVLINK_PARAM_FW_LOAD_POLICY_VALUE_FLASH</span></code> (1)
Load firmware currently stored in flash.</li>
<li><code class="docutils literal notranslate"><span class="pre">DEVLINK_PARAM_FW_LOAD_POLICY_VALUE_DISK</span></code> (2)
Load firmware currently available on host’s disk.</li>
</ul>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">reset_dev_on_drv_probe</span></code></td>
<td>u8</td>
<td><dl class="first last docutils">
<dt>Controls the device’s reset policy on driver probe.</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal notranslate"><span class="pre">DEVLINK_PARAM_RESET_DEV_ON_DRV_PROBE_VALUE_UNKNOWN</span></code> (0)
Unknown or invalid value.</li>
<li><code class="docutils literal notranslate"><span class="pre">DEVLINK_PARAM_RESET_DEV_ON_DRV_PROBE_VALUE_ALWAYS</span></code> (1)
Always reset device on driver probe.</li>
<li><code class="docutils literal notranslate"><span class="pre">DEVLINK_PARAM_RESET_DEV_ON_DRV_PROBE_VALUE_NEVER</span></code> (2)
Never reset device on driver probe.</li>
<li><code class="docutils literal notranslate"><span class="pre">DEVLINK_PARAM_RESET_DEV_ON_DRV_PROBE_VALUE_DISK</span></code> (3)
Reset the device only if firmware can be found in the filesystem.</li>
</ul>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">enable_roce</span></code></td>
<td>Boolean</td>
<td>Enable handling of RoCE traffic in the device.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">internal_err_reset</span></code></td>
<td>Boolean</td>
<td>When enabled, the device driver will reset the device on internal
errors.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">max_macs</span></code></td>
<td>u32</td>
<td>Specifies the maximum number of MAC addresses per ethernet port of
this device.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">region_snapshot_enable</span></code></td>
<td>Boolean</td>
<td>Enable capture of <code class="docutils literal notranslate"><span class="pre">devlink-region</span></code> snapshots.</td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>clang-format &mdash; The Linux Kernel  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../../',
              VERSION:'',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.8.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../admin-guide/mm/damon/index.html">Monitoring Data Accesses</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../vm/damon/index.html">DAMON: Data Access MONitor</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
      <li>clang-format</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/translations/it_IT/process/clang-format.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">In caso di dubbi sulla correttezza del contenuto di questa traduzione,
l’unico riferimento valido è la documentazione ufficiale in inglese.
Per maggiori informazioni consultate le <a class="reference internal" href="../index.html#it-disclaimer"><span class="std std-ref">avvertenze</span></a>.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Original:</th><td class="field-body"><a class="reference internal" href="../../../process/clang-format.html#clangformat"><span class="std std-ref">Documentation/process/clang-format.rst</span></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Translator:</th><td class="field-body">Federico Vaga &lt;<a class="reference external" href="mailto:federico&#46;vaga&#37;&#52;&#48;vaga&#46;pv&#46;it">federico<span>&#46;</span>vaga<span>&#64;</span>vaga<span>&#46;</span>pv<span>&#46;</span>it</a>&gt;</td>
</tr>
</tbody>
</table>
<div class="section" id="clang-format">
<span id="it-clangformat"></span><h1>clang-format<a class="headerlink" href="#clang-format" title="Permalink to this headline">¶</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">clang-format</span></code> è uno strumento per formattare codice C/C++/… secondo
un gruppo di regole ed euristiche. Come tutti gli strumenti, non è perfetto
e non copre tutti i singoli casi, ma è abbastanza buono per essere utile.</p>
<p><code class="docutils literal notranslate"><span class="pre">clang-format</span></code> può essere usato per diversi fini:</p>
<blockquote>
<div><ul class="simple">
<li>Per riformattare rapidamente un blocco di codice secondo lo stile del
kernel. Particolarmente utile quando si sposta del codice e lo si
allinea/ordina. Vedere <a class="reference internal" href="#it-clangformatreformat">it_clangformatreformat</a>.</li>
<li>Identificare errori di stile, refusi e possibili miglioramenti nei
file che mantieni, le modifiche che revisioni, le differenze,
eccetera. Vedere <a class="reference internal" href="#it-clangformatreview">it_clangformatreview</a>.</li>
<li>Ti aiuta a seguire lo stile del codice, particolarmente utile per i
nuovi arrivati o per coloro che lavorano allo stesso tempo su diversi
progetti con stili di codifica differenti.</li>
</ul>
</div></blockquote>
<p>Il suo file di configurazione è <code class="docutils literal notranslate"><span class="pre">.clang-format</span></code> e si trova nella cartella
principale dei sorgenti del kernel. Le regole scritte in quel file tentano
di approssimare le lo stile di codifica del kernel. Si tenta anche di seguire
il più possibile
<a class="reference internal" href="coding-style.html#it-codingstyle"><span class="std std-ref">Documentation/translations/it_IT/process/coding-style.rst</span></a>.
Dato che non tutto il kernel segue lo stesso stile, potreste voler aggiustare
le regole di base per un particolare sottosistema o cartella. Per farlo,
potete sovrascriverle scrivendole in un altro file <code class="docutils literal notranslate"><span class="pre">.clang-format</span></code> in
una sottocartella.</p>
<p>Questo strumento è già stato incluso da molto tempo nelle distribuzioni
Linux più popolari. Cercate <code class="docutils literal notranslate"><span class="pre">clang-format</span></code> nel vostro repositorio.
Altrimenti, potete scaricare una versione pre-generata dei binari di LLVM/clang
oppure generarlo dai codici sorgenti:</p>
<blockquote>
<div><a class="reference external" href="http://releases.llvm.org/download.html">http://releases.llvm.org/download.html</a></div></blockquote>
<p>Troverete più informazioni ai seguenti indirizzi:</p>
<blockquote>
<div><p><a class="reference external" href="https://clang.llvm.org/docs/ClangFormat.html">https://clang.llvm.org/docs/ClangFormat.html</a></p>
<p><a class="reference external" href="https://clang.llvm.org/docs/ClangFormatStyleOptions.html">https://clang.llvm.org/docs/ClangFormatStyleOptions.html</a></p>
</div></blockquote>
<div class="section" id="revisionare-lo-stile-di-codifica-per-file-e-modifiche">
<span id="it-clangformatreview"></span><h2>Revisionare lo stile di codifica per file e modifiche<a class="headerlink" href="#revisionare-lo-stile-di-codifica-per-file-e-modifiche" title="Permalink to this headline">¶</a></h2>
<p>Eseguendo questo programma, potrete revisionare un intero sottosistema,
cartella o singoli file alla ricerca di errori di stile, refusi o
miglioramenti.</p>
<p>Per farlo, potete eseguire qualcosa del genere:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># Make sure your working directory is clean!
clang-format -i kernel/*.[ch]
</pre></div>
</div>
<p>E poi date un’occhiata a <em>git diff</em>.</p>
<p>Osservare le righe di questo diff è utile a migliorare/aggiustare
le opzioni di stile nel file di configurazione; così come per verificare
le nuove funzionalità/versioni di <code class="docutils literal notranslate"><span class="pre">clang-format</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">clang-format</span></code> è in grado di leggere diversi diff unificati, quindi
potrete revisionare facilmente delle modifiche e <em>git diff</em>.
La documentazione si trova al seguente indirizzo:</p>
<blockquote>
<div><a class="reference external" href="https://clang.llvm.org/docs/ClangFormat.html#script-for-patch-reformatting">https://clang.llvm.org/docs/ClangFormat.html#script-for-patch-reformatting</a></div></blockquote>
<p>Per evitare che <code class="docutils literal notranslate"><span class="pre">clang-format</span></code> formatti alcune parti di un file, potete
scrivere nel codice:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>int formatted_code;
// clang-format off
    void    unformatted_code  ;
// clang-format on
void formatted_code_again;
</pre></div>
</div>
<p>Nonostante si attraente l’idea di utilizzarlo per mantenere un file
sempre in sintonia con <code class="docutils literal notranslate"><span class="pre">clang-format</span></code>, specialmente per file nuovi o
se siete un manutentore, ricordatevi che altre persone potrebbero usare
una versione diversa di <code class="docutils literal notranslate"><span class="pre">clang-format</span></code> oppure non utilizzarlo del tutto.
Quindi, dovreste trattenervi dall’usare questi marcatori nel codice del
kernel; almeno finché non vediamo che <code class="docutils literal notranslate"><span class="pre">clang-format</span></code> è diventato largamente
utilizzato.</p>
</div>
<div class="section" id="riformattare-blocchi-di-codice">
<span id="it-clangformatreformat"></span><h2>Riformattare blocchi di codice<a class="headerlink" href="#riformattare-blocchi-di-codice" title="Permalink to this headline">¶</a></h2>
<p>Utilizzando dei plugin per il vostro editor, potete riformattare una
blocco (selezione) di codice con una singola combinazione di tasti.
Questo è particolarmente utile: quando si riorganizza il codice, per codice
complesso, macro multi-riga (e allineare le loro “barre”), eccetera.</p>
<p>Ricordatevi che potete sempre aggiustare le modifiche in quei casi dove
questo strumento non ha fatto un buon lavoro. Ma come prima approssimazione,
può essere davvero molto utile.</p>
<p>Questo programma si integra con molti dei più popolari editor. Alcuni di
essi come vim, emacs, BBEdit, Visaul Studio, lo supportano direttamente.
Al seguente indirizzo troverete le istruzioni:</p>
<blockquote>
<div><a class="reference external" href="https://clang.llvm.org/docs/ClangFormat.html">https://clang.llvm.org/docs/ClangFormat.html</a></div></blockquote>
<p>Per Atom, Eclipse, Sublime Text, Visual Studio Code, XCode e altri editor
e IDEs dovreste essere in grado di trovare dei plugin pronti all’uso.</p>
<p>Per questo caso d’uso, considerate l’uso di un secondo <code class="docutils literal notranslate"><span class="pre">.clang-format</span></code>
che potete personalizzare con le vostre opzioni.
Consultare <a class="reference internal" href="#it-clangformatextra">it_clangformatextra</a>.</p>
</div>
<div class="section" id="cose-non-supportate">
<span id="it-clangformatmissing"></span><h2>Cose non supportate<a class="headerlink" href="#cose-non-supportate" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">clang-format</span></code> non ha il supporto per alcune cose che sono comuni nel
codice del kernel. Sono facili da ricordare; quindi, se lo usate
regolarmente, imparerete rapidamente a evitare/ignorare certi problemi.</p>
<p>In particolare, quelli più comuni che noterete sono:</p>
<blockquote>
<div><ul>
<li><p class="first">Allineamento di <code class="docutils literal notranslate"><span class="pre">#define</span></code> su una singola riga, per esempio:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#define TRACING_MAP_BITS_DEFAULT       11
#define TRACING_MAP_BITS_MAX           17
#define TRACING_MAP_BITS_MIN           7
</pre></div>
</div>
<p>contro:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#define TRACING_MAP_BITS_DEFAULT 11
#define TRACING_MAP_BITS_MAX 17
#define TRACING_MAP_BITS_MIN 7
</pre></div>
</div>
</li>
<li><p class="first">Allineamento dei valori iniziali, per esempio:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>static const struct file_operations uprobe_events_ops = {
        .owner          = THIS_MODULE,
        .open           = probes_open,
        .read           = seq_read,
        .llseek         = seq_lseek,
        .release        = seq_release,
        .write          = probes_write,
};
</pre></div>
</div>
<p>contro:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>static const struct file_operations uprobe_events_ops = {
        .owner = THIS_MODULE,
        .open = probes_open,
        .read = seq_read,
        .llseek = seq_lseek,
        .release = seq_release,
        .write = probes_write,
};
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="funzionalita-e-opzioni-aggiuntive">
<span id="it-clangformatextra"></span><h2>Funzionalità e opzioni aggiuntive<a class="headerlink" href="#funzionalita-e-opzioni-aggiuntive" title="Permalink to this headline">¶</a></h2>
<p>Al fine di minimizzare le differenze fra il codice attuale e l’output
del programma, alcune opzioni di stile e funzionalità non sono abilitate
nella configurazione base. In altre parole, lo scopo è di rendere le
differenze le più piccole possibili, permettendo la semplificazione
della revisione di file, differenze e modifiche.</p>
<p>In altri casi (per esempio un particolare sottosistema/cartella/file), lo
stile del kernel potrebbe essere diverso e abilitare alcune di queste
opzioni potrebbe dare risultati migliori.</p>
<p>Per esempio:</p>
<blockquote>
<div><ul class="simple">
<li>Allineare assegnamenti (<code class="docutils literal notranslate"><span class="pre">AlignConsecutiveAssignments</span></code>).</li>
<li>Allineare dichiarazioni (<code class="docutils literal notranslate"><span class="pre">AlignConsecutiveDeclarations</span></code>).</li>
<li>Riorganizzare il testo nei commenti (<code class="docutils literal notranslate"><span class="pre">ReflowComments</span></code>).</li>
<li>Ordinare gli <code class="docutils literal notranslate"><span class="pre">#include</span></code> (<code class="docutils literal notranslate"><span class="pre">SortIncludes</span></code>).</li>
</ul>
</div></blockquote>
<p>Piuttosto che per interi file, solitamente sono utili per la riformattazione
di singoli blocchi. In alternativa, potete creare un altro file
<code class="docutils literal notranslate"><span class="pre">.clang-format</span></code> da utilizzare con il vostro editor/IDE.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Qlogic FASXXX Family Driver Notes &mdash; The Linux Kernel  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.7.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/mm/damon/index.html">Monitoring Data Accesses</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../vm/damon/index.html">DAMON: Data Access MONitor</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Qlogic FASXXX Family Driver Notes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/scsi/qlogicfas.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="qlogic-fasxxx-family-driver-notes">
<h1>Qlogic FASXXX Family Driver Notes<a class="headerlink" href="#qlogic-fasxxx-family-driver-notes" title="Permalink to this headline">¶</a></h1>
<p>This driver supports the Qlogic FASXXX family of chips.  This driver
only works with the ISA, VLB, and PCMCIA versions of the Qlogic
FastSCSI!  cards as well as any other card based on the FASXX chip
(including the Control Concepts SCSI/IDE/SIO/PIO/FDC cards).</p>
<p>This driver does NOT support the PCI version.  Support for these PCI
Qlogic boards:</p>
<blockquote>
<div><ul class="simple">
<li>IQ-PCI</li>
<li>IQ-PCI-10</li>
<li>IQ-PCI-D</li>
</ul>
</div></blockquote>
<p>is provided by the qla1280 driver.</p>
<p>Nor does it support the PCI-Basic, which is supported by the
‘am53c974’ driver.</p>
<div class="section" id="pcmcia-support">
<h2>PCMCIA Support<a class="headerlink" href="#pcmcia-support" title="Permalink to this headline">¶</a></h2>
<p>This currently only works if the card is enabled first from DOS.  This
means you will have to load your socket and card services, and
QL41DOS.SYS and QL40ENBL.SYS.  These are a minimum, but loading the
rest of the modules won’t interfere with the operation.  The next
thing to do is load the kernel without resetting the hardware, which
can be a simple ctrl-alt-delete with a boot floppy, or by using
loadlin with the kernel image accessible from DOS.  If you are using
the Linux PCMCIA driver, you will have to adjust it or otherwise stop
it from configuring the card.</p>
<p>I am working with the PCMCIA group to make it more flexible, but that
may take a while.</p>
</div>
<div class="section" id="all-cards">
<h2>All Cards<a class="headerlink" href="#all-cards" title="Permalink to this headline">¶</a></h2>
<p>The top of the qlogic.c file has a number of defines that controls
configuration.  As shipped, it provides a balance between speed and
function.  If there are any problems, try setting SLOW_CABLE to 1, and
then try changing USE_IRQ and TURBO_PDMA to zero.  If you are familiar
with SCSI, there are other settings which can tune the bus.</p>
<p>It may be a good idea to enable RESET_AT_START, especially if the
devices may not have been just powered up, or if you are restarting
after a crash, since they may be busy trying to complete the last
command or something.  It comes up faster if this is set to zero, and
if you have reliable hardware and connections it may be more useful to
not reset things.</p>
</div>
<div class="section" id="some-troubleshooting-tips">
<h2>Some Troubleshooting Tips<a class="headerlink" href="#some-troubleshooting-tips" title="Permalink to this headline">¶</a></h2>
<p>Make sure it works properly under DOS.  You should also do an initial FDISK
on a new drive if you want partitions.</p>
<p>Don’t enable all the speedups first.  If anything is wrong, they will make
any problem worse.</p>
</div>
<div class="section" id="important">
<h2>Important<a class="headerlink" href="#important" title="Permalink to this headline">¶</a></h2>
<p>The best way to test if your cables, termination, etc. are good is to
copy a very big file (e.g. a doublespace container file, or a very
large executable or archive).  It should be at least 5 megabytes, but
you can do multiple tests on smaller files.  Then do a COMP to verify
that the file copied properly.  (Turn off all caching when doing these
tests, otherwise you will test your RAM and not the files).  Then do
10 COMPs, comparing the same file on the SCSI hard drive, i.e. “COMP
realbig.doc realbig.doc”.  Then do it after the computer gets warm.</p>
<p>I noticed my system which seems to work 100% would fail this test if
the computer was left on for a few hours.  It was worse with longer
cables, and more devices on the SCSI bus.  What seems to happen is
that it gets a false ACK causing an extra byte to be inserted into the
stream (and this is not detected).  This can be caused by bad
termination (the ACK can be reflected), or by noise when the chips
work less well because of the heat, or when cables get too long for
the speed.</p>
<p>Remember, if it doesn’t work under DOS, it probably won’t work under
Linux.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
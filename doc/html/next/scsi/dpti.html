

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Adaptec dpti driver &mdash; The Linux Kernel  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.7.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/mm/damon/index.html">DAMON: Data Access MONitor</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Adaptec dpti driver</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/scsi/dpti.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="adaptec-dpti-driver">
<h1>Adaptec dpti driver<a class="headerlink" href="#adaptec-dpti-driver" title="Permalink to this headline">¶</a></h1>
<p>Redistribution and use in source form, with or without modification, are
permitted provided that redistributions of source code must retain the
above copyright notice, this list of conditions and the following disclaimer.</p>
<p>This software is provided <code class="docutils literal notranslate"><span class="pre">as</span> <span class="pre">is</span></code> by Adaptec and
any express or implied warranties, including, but not limited to, the
implied warranties of merchantability and fitness for a particular purpose,
are disclaimed. In no event shall Adaptec be
liable for any direct, indirect, incidental, special, exemplary or
consequential damages (including, but not limited to, procurement of
substitute goods or services; loss of use, data, or profits; or business
interruptions) however caused and on any theory of liability, whether in
contract, strict liability, or tort (including negligence or otherwise)
arising in any way out of the use of this driver software, even if advised
of the possibility of such damage.</p>
<p>This driver supports the Adaptec I2O RAID and DPT SmartRAID V I2O boards.</p>
<div class="section" id="credits">
<h2>Credits<a class="headerlink" href="#credits" title="Permalink to this headline">¶</a></h2>
<p>The original linux driver was ported to Linux by Karen White while at
Dell Computer.  It was ported from Bob Pasteur’s (of DPT) original
non-Linux driver.  Mark Salyzyn and Bob Pasteur consulted on the original
driver.</p>
<p>2.0 version of the driver by Deanna Bonds and Mark Salyzyn.</p>
</div>
<div class="section" id="history">
<h2>History<a class="headerlink" href="#history" title="Permalink to this headline">¶</a></h2>
<p>The driver was originally ported to linux version 2.0.34</p>
<table border="1" class="docutils">
<colgroup>
<col width="5%" />
<col width="95%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>V2.0</td>
<td>Rewrite of driver.  Re-architectured based on i2o subsystem.
This was the first full GPL version since the last version used
i2osig headers which were not GPL.  Developer Testing version.</td>
</tr>
<tr class="row-even"><td>V2.1</td>
<td>Internal testing</td>
</tr>
<tr class="row-odd"><td>V2.2</td>
<td>First released version</td>
</tr>
<tr class="row-even"><td>V2.3</td>
<td><p class="first">Changes:</p>
<ul class="last simple">
<li>Added Raptor Support</li>
<li>Fixed bug causing system to hang under extreme load with</li>
<li>management utilities running (removed GFP_DMA from kmalloc flags)</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td>V2.4</td>
<td><p class="first">First version ready to be submitted to be embedded in the kernel</p>
<p>Changes:</p>
<ul class="last simple">
<li>Implemented suggestions from Alan Cox</li>
<li>Added calculation of resid for sg layer</li>
<li>Better error handling</li>
<li>Added checking underflow conditions</li>
<li>Added DATAPROTECT checking</li>
<li>Changed error return codes</li>
<li>Fixed pointer bug in bus reset routine</li>
<li>Enabled hba reset from ioctls (allows a FW flash to reboot and use
the new FW without having to reboot)</li>
<li>Changed proc output</li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="todo">
<h2>TODO<a class="headerlink" href="#todo" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Add 64 bit Scatter Gather when compiled on 64 bit architectures</li>
<li>Add sparse lun scanning</li>
<li>Add code that checks if a device that had been taken offline is
now online (at the FW level) when test unit ready or inquiry
command from scsi-core</li>
<li>Add proc read interface</li>
<li>busrescan command</li>
<li>rescan command</li>
<li>Add code to rescan routine that notifies scsi-core about new devices</li>
<li>Add support for C-PCI (hotplug stuff)</li>
<li>Add ioctl passthru error recovery</li>
</ul>
</div>
<div class="section" id="notes">
<h2>Notes<a class="headerlink" href="#notes" title="Permalink to this headline">¶</a></h2>
<p>The DPT card optimizes the order of processing commands.  Consequently,
a command may take up to 6 minutes to complete after it has been sent
to the board.</p>
<p>The files dpti_ioctl.h dptsig.h osd_defs.h osd_util.h sys_info.h are part of the
interface files for Adaptec’s management routines.  These define the structures used
in the ioctls.  They are written to be portable.  They are hard to read, but I need
to use them ‘as is’ or I can miss changes in the interface.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
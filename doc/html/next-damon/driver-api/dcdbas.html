

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Dell Systems Management Base Driver &mdash; The Linux Kernel  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.8.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/mm/damon/index.html">Monitoring Data Accesses</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../vm/damon/index.html">DAMON: Data Access MONitor</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Dell Systems Management Base Driver</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/driver-api/dcdbas.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="dell-systems-management-base-driver">
<h1>Dell Systems Management Base Driver<a class="headerlink" href="#dell-systems-management-base-driver" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>The Dell Systems Management Base Driver provides a sysfs interface for
systems management software such as Dell OpenManage to perform system
management interrupts and host control actions (system power cycle or
power off after OS shutdown) on certain Dell systems.</p>
<p>Dell OpenManage requires this driver on the following Dell PowerEdge systems:
300, 1300, 1400, 400SC, 500SC, 1500SC, 1550, 600SC, 1600SC, 650, 1655MC,
700, and 750.  Other Dell software such as the open source libsmbios project
is expected to make use of this driver, and it may include the use of this
driver on other Dell systems.</p>
<p>The Dell libsmbios project aims towards providing access to as much BIOS
information as possible.  See <a class="reference external" href="http://linux.dell.com/libsmbios/main/">http://linux.dell.com/libsmbios/main/</a> for
more information about the libsmbios project.</p>
</div>
<div class="section" id="system-management-interrupt">
<h2>System Management Interrupt<a class="headerlink" href="#system-management-interrupt" title="Permalink to this headline">¶</a></h2>
<p>On some Dell systems, systems management software must access certain
management information via a system management interrupt (SMI).  The SMI data
buffer must reside in 32-bit address space, and the physical address of the
buffer is required for the SMI.  The driver maintains the memory required for
the SMI and provides a way for the application to generate the SMI.
The driver creates the following sysfs entries for systems management
software to perform these system management interrupts:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>/sys/devices/platform/dcdbas/smi_data
/sys/devices/platform/dcdbas/smi_data_buf_phys_addr
/sys/devices/platform/dcdbas/smi_data_buf_size
/sys/devices/platform/dcdbas/smi_request
</pre></div>
</div>
<p>Systems management software must perform the following steps to execute
a SMI using this driver:</p>
<ol class="arabic simple">
<li>Lock smi_data.</li>
<li>Write system management command to smi_data.</li>
<li>Write “1” to smi_request to generate a calling interface SMI or
“2” to generate a raw SMI.</li>
<li>Read system management command response from smi_data.</li>
<li>Unlock smi_data.</li>
</ol>
</div>
<div class="section" id="host-control-action">
<h2>Host Control Action<a class="headerlink" href="#host-control-action" title="Permalink to this headline">¶</a></h2>
<p>Dell OpenManage supports a host control feature that allows the administrator
to perform a power cycle or power off of the system after the OS has finished
shutting down.  On some Dell systems, this host control feature requires that
a driver perform a SMI after the OS has finished shutting down.</p>
<p>The driver creates the following sysfs entries for systems management software
to schedule the driver to perform a power cycle or power off host control
action after the system has finished shutting down:</p>
<p>/sys/devices/platform/dcdbas/host_control_action
/sys/devices/platform/dcdbas/host_control_smi_type
/sys/devices/platform/dcdbas/host_control_on_shutdown</p>
<p>Dell OpenManage performs the following steps to execute a power cycle or
power off host control action using this driver:</p>
<ol class="arabic simple">
<li>Write host control action to be performed to host_control_action.</li>
<li>Write type of SMI that driver needs to perform to host_control_smi_type.</li>
<li>Write “1” to host_control_on_shutdown to enable host control action.</li>
<li>Initiate OS shutdown.
(Driver will perform host control SMI when it is notified that the OS
has finished shutting down.)</li>
</ol>
</div>
<div class="section" id="host-control-smi-type">
<h2>Host Control SMI Type<a class="headerlink" href="#host-control-smi-type" title="Permalink to this headline">¶</a></h2>
<p>The following table shows the value to write to host_control_smi_type to
perform a power cycle or power off host control action:</p>
<table border="1" class="docutils">
<colgroup>
<col width="48%" />
<col width="53%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">PowerEdge System</th>
<th class="head">Host Control SMI Type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>300</td>
<td>HC_SMITYPE_TYPE1</td>
</tr>
<tr class="row-odd"><td>1300</td>
<td>HC_SMITYPE_TYPE1</td>
</tr>
<tr class="row-even"><td>1400</td>
<td>HC_SMITYPE_TYPE2</td>
</tr>
<tr class="row-odd"><td>500SC</td>
<td>HC_SMITYPE_TYPE2</td>
</tr>
<tr class="row-even"><td>1500SC</td>
<td>HC_SMITYPE_TYPE2</td>
</tr>
<tr class="row-odd"><td>1550</td>
<td>HC_SMITYPE_TYPE2</td>
</tr>
<tr class="row-even"><td>600SC</td>
<td>HC_SMITYPE_TYPE2</td>
</tr>
<tr class="row-odd"><td>1600SC</td>
<td>HC_SMITYPE_TYPE2</td>
</tr>
<tr class="row-even"><td>650</td>
<td>HC_SMITYPE_TYPE2</td>
</tr>
<tr class="row-odd"><td>1655MC</td>
<td>HC_SMITYPE_TYPE2</td>
</tr>
<tr class="row-even"><td>700</td>
<td>HC_SMITYPE_TYPE3</td>
</tr>
<tr class="row-odd"><td>750</td>
<td>HC_SMITYPE_TYPE3</td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
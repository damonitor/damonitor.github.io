

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Kernel driver w1_ds28e17 &mdash; The Linux Kernel  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../',
              VERSION:'',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.6.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../admin-guide/mm/damon/index.html">DAMON: Data Access MONitor</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>Kernel driver w1_ds28e17</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/w1/slaves/w1_ds28e17.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="kernel-driver-w1-ds28e17">
<h1>Kernel driver w1_ds28e17<a class="headerlink" href="#kernel-driver-w1-ds28e17" title="Permalink to this headline">¶</a></h1>
<p>Supported chips:</p>
<blockquote>
<div><ul class="simple">
<li>Maxim DS28E17 1-Wire-to-I2C Master Bridge</li>
</ul>
</div></blockquote>
<p>supported family codes:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="81%" />
<col width="19%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>W1_FAMILY_DS28E17</td>
<td>0x19</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Author: Jan Kandziora &lt;<a class="reference external" href="mailto:jjj&#37;&#52;&#48;gmx&#46;de">jjj<span>&#64;</span>gmx<span>&#46;</span>de</a>&gt;</p>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>The DS28E17 is a Onewire slave device which acts as an I2C bus master.</p>
<p>This driver creates a new I2C bus for any DS28E17 device detected. I2C buses
come and go as the DS28E17 devices come and go. I2C slave devices connected to
a DS28E17 can be accessed by the kernel or userspace tools as if they were
connected to a “native” I2C bus master.</p>
<p>An udev rule like the following:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>SUBSYSTEM==&quot;i2c-dev&quot;, KERNEL==&quot;i2c-[0-9]*&quot;, ATTRS{name}==&quot;w1-19-*&quot;, \
        SYMLINK+=&quot;i2c-$attr{name}&quot;
</pre></div>
</div>
<p>may be used to create stable /dev/i2c- entries based on the unique id of the
DS28E17 chip.</p>
<p>Driver parameters are:</p>
<dl class="docutils">
<dt>speed:</dt>
<dd><p class="first">This sets up the default I2C speed a DS28E17 get configured for as soon
it is connected. The power-on default   of the DS28E17 is 400kBaud, but
chips may come and go on the Onewire bus without being de-powered and
as soon the “w1_ds28e17” driver notices a freshly connected, or
reconnected DS28E17 device on the Onewire bus, it will re-apply this
setting.</p>
<p class="last">Valid values are 100, 400, 900 [kBaud]. Any other value means to leave
alone the current DS28E17 setting on detect. The default value is 100.</p>
</dd>
<dt>stretch:</dt>
<dd><p class="first">This sets up the default stretch value used for freshly connected
DS28E17 devices. It is a multiplier used on the calculation of the busy
wait time for an I2C transfer. This is to account for I2C slave devices
which make heavy use of the I2C clock stretching feature and thus, the
needed timeout cannot be pre-calculated correctly. As the w1_ds28e17
driver checks the DS28E17’s busy flag in a loop after the precalculated
wait time, it should be hardly needed to tweak this setting.</p>
<p>Leave it at 1 unless you get ETIMEDOUT errors and a “w1_slave_driver
19-00000002dbd8: busy timeout” in the kernel log.</p>
<p class="last">Valid values are 1 to 9. The default is 1.</p>
</dd>
</dl>
<p>The driver creates sysfs files /sys/bus/w1/devices/19-&lt;id&gt;/speed and
/sys/bus/w1/devices/19-&lt;id&gt;/stretch for each device, preloaded with the default
settings from the driver parameters. They may be changed anytime. In addition a
directory /sys/bus/w1/devices/19-&lt;id&gt;/i2c-&lt;nnn&gt; for the I2C bus master sysfs
structure is created.</p>
<p>See <a class="reference external" href="https://github.com/ianka/w1_ds28e17">https://github.com/ianka/w1_ds28e17</a> for even more information.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
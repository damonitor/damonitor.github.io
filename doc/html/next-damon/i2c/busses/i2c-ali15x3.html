

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Kernel driver i2c-ali15x3 &mdash; The Linux Kernel  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../',
              VERSION:'',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.8.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../admin-guide/mm/damon/index.html">Monitoring Data Accesses</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../vm/damon/index.html">DAMON: Data Access MONitor</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>Kernel driver i2c-ali15x3</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/i2c/busses/i2c-ali15x3.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="kernel-driver-i2c-ali15x3">
<h1>Kernel driver i2c-ali15x3<a class="headerlink" href="#kernel-driver-i2c-ali15x3" title="Permalink to this headline">¶</a></h1>
<dl class="docutils">
<dt>Supported adapters:</dt>
<dd><ul class="first last">
<li><p class="first">Acer Labs, Inc. ALI 1533 and 1543C (south bridge)</p>
<dl class="docutils">
<dt>Datasheet: Now under NDA</dt>
<dd><p class="first last"><a class="reference external" href="http://www.ali.com.tw/">http://www.ali.com.tw/</a></p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt>Authors:</dt>
<dd><ul class="first last simple">
<li>Frodo Looijaard &lt;<a class="reference external" href="mailto:frodol&#37;&#52;&#48;dds&#46;nl">frodol<span>&#64;</span>dds<span>&#46;</span>nl</a>&gt;,</li>
<li>Philip Edelbrock &lt;<a class="reference external" href="mailto:phil&#37;&#52;&#48;netroedge&#46;com">phil<span>&#64;</span>netroedge<span>&#46;</span>com</a>&gt;,</li>
<li>Mark D. Studebaker &lt;<a class="reference external" href="mailto:mdsxyz123&#37;&#52;&#48;yahoo&#46;com">mdsxyz123<span>&#64;</span>yahoo<span>&#46;</span>com</a>&gt;</li>
</ul>
</dd>
</dl>
<div class="section" id="module-parameters">
<h2>Module Parameters<a class="headerlink" href="#module-parameters" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><dl class="first docutils">
<dt>force_addr: int</dt>
<dd>Initialize the base address of the i2c controller</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="notes">
<h2>Notes<a class="headerlink" href="#notes" title="Permalink to this headline">¶</a></h2>
<p>The force_addr parameter is useful for boards that don’t set the address in
the BIOS. Does not do a PCI force; the device must still be present in
lspci. Don’t use this unless the driver complains that the base address is
not set.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>modprobe i2c-ali15x3 force_addr=0xe800
</pre></div>
</div>
<p>SMBus periodically hangs on ASUS P5A motherboards and can only be cleared
by a power cycle. Cause unknown (see Issues below).</p>
</div>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This is the driver for the SMB Host controller on Acer Labs Inc. (ALI)
M1541 and M1543C South Bridges.</p>
<p>The M1543C is a South bridge for desktop systems.</p>
<p>The M1541 is a South bridge for portable systems.</p>
<p>They are part of the following ALI chipsets:</p>
<blockquote>
<div><ul>
<li><p class="first">“Aladdin Pro 2” includes the M1621 Slot 1 North bridge with AGP and
100MHz CPU Front Side bus</p>
</li>
<li><p class="first">“Aladdin V” includes the M1541 Socket 7 North bridge with AGP and 100MHz
CPU Front Side bus</p>
<dl class="docutils">
<dt>Some Aladdin V motherboards:</dt>
<dd><ul class="first last simple">
<li>Asus P5A</li>
<li>Atrend ATC-5220</li>
<li>BCM/GVC VP1541</li>
<li>Biostar M5ALA</li>
<li>Gigabyte GA-5AX (Generally doesn’t work because the BIOS doesn’t
enable the 7101 device!)</li>
<li>Iwill XA100 Plus</li>
<li>Micronics C200</li>
<li>Microstar (MSI) MS-5169</li>
</ul>
</dd>
</dl>
</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>“Aladdin IV” includes the M1541 Socket 7 North bridge
with host bus up to 83.3 MHz.</li>
</ul>
</div></blockquote>
</div></blockquote>
<p>For an overview of these chips see <a class="reference external" href="http://www.acerlabs.com">http://www.acerlabs.com</a>. At this time the
full data sheets on the web site are password protected, however if you
contact the ALI office in San Jose they may give you the password.</p>
<p>The M1533/M1543C devices appear as FOUR separate devices on the PCI bus. An
output of lspci will show something similar to the following:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>00:02.0 USB Controller: Acer Laboratories Inc. M5237 (rev 03)
00:03.0 Bridge: Acer Laboratories Inc. M7101      &lt;= THIS IS THE ONE WE NEED
00:07.0 ISA bridge: Acer Laboratories Inc. M1533 (rev c3)
00:0f.0 IDE interface: Acer Laboratories Inc. M5229 (rev c1)
</pre></div>
</div>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p>If you have a M1533 or M1543C on the board and you get
“ali15x3: Error: Can’t detect ali15x3!”
then run lspci.</p>
<p>If you see the 1533 and 5229 devices but NOT the 7101 device,
then you must enable ACPI, the PMU, SMB, or something similar
in the BIOS.</p>
<p class="last">The driver won’t work if it can’t find the M7101 device.</p>
</div>
<p>The SMB controller is part of the M7101 device, which is an ACPI-compliant
Power Management Unit (PMU).</p>
<p>The whole M7101 device has to be enabled for the SMB to work. You can’t
just enable the SMB alone. The SMB and the ACPI have separate I/O spaces.
We make sure that the SMB is enabled. We leave the ACPI alone.</p>
</div>
<div class="section" id="features">
<h2>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h2>
<p>This driver controls the SMB Host only. The SMB Slave
controller on the M15X3 is not enabled. This driver does not use
interrupts.</p>
</div>
<div class="section" id="issues">
<h2>Issues<a class="headerlink" href="#issues" title="Permalink to this headline">¶</a></h2>
<p>This driver requests the I/O space for only the SMB
registers. It doesn’t use the ACPI region.</p>
<p>On the ASUS P5A motherboard, there are several reports that
the SMBus will hang and this can only be resolved by
powering off the computer. It appears to be worse when the board
gets hot, for example under heavy CPU load, or in the summer.
There may be electrical problems on this board.
On the P5A, the W83781D sensor chip is on both the ISA and
SMBus. Therefore the SMBus hangs can generally be avoided
by accessing the W83781D on the ISA bus only.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>7.62. ioctl VIDIOC_SUBSCRIBE_EVENT, VIDIOC_UNSUBSCRIBE_EVENT &mdash; The Linux Kernel  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../../',
              VERSION:'',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.7.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../admin-guide/mm/damon/index.html">Monitoring Data Accesses</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../vm/damon/index.html">DAMON: Data Access MONitor</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
      <li>7.62. ioctl VIDIOC_SUBSCRIBE_EVENT, VIDIOC_UNSUBSCRIBE_EVENT</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/media/uapi/v4l/vidioc-subscribe-event.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="ioctl-vidioc-subscribe-event-vidioc-unsubscribe-event">
<span id="vidioc-unsubscribe-event"></span><span id="vidioc-subscribe-event"></span><h1>7.62. ioctl VIDIOC_SUBSCRIBE_EVENT, VIDIOC_UNSUBSCRIBE_EVENT<a class="headerlink" href="#ioctl-vidioc-subscribe-event-vidioc-unsubscribe-event" title="Permalink to this headline">¶</a></h1>
<div class="section" id="name">
<h2>7.62.1. Name<a class="headerlink" href="#name" title="Permalink to this headline">¶</a></h2>
<p>VIDIOC_SUBSCRIBE_EVENT - VIDIOC_UNSUBSCRIBE_EVENT - Subscribe or unsubscribe event</p>
</div>
<div class="section" id="synopsis">
<h2>7.62.2. Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="c.VIDIOC_SUBSCRIBE_EVENT">
int <code class="descname">ioctl</code><span class="sig-paren">(</span>int<em>&nbsp;fd</em>, <a class="reference internal" href="#c.VIDIOC_SUBSCRIBE_EVENT" title="VIDIOC_SUBSCRIBE_EVENT">VIDIOC_SUBSCRIBE_EVENT</a>, struct <a class="reference internal" href="#c.v4l2_event_subscription" title="v4l2_event_subscription">v4l2_event_subscription</a><em>&nbsp;*argp</em><span class="sig-paren">)</span><a class="headerlink" href="#c.VIDIOC_SUBSCRIBE_EVENT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.VIDIOC_UNSUBSCRIBE_EVENT">
int <code class="descname">ioctl</code><span class="sig-paren">(</span>int<em>&nbsp;fd</em>, <a class="reference internal" href="#c.VIDIOC_UNSUBSCRIBE_EVENT" title="VIDIOC_UNSUBSCRIBE_EVENT">VIDIOC_UNSUBSCRIBE_EVENT</a>, struct <a class="reference internal" href="#c.v4l2_event_subscription" title="v4l2_event_subscription">v4l2_event_subscription</a><em>&nbsp;*argp</em><span class="sig-paren">)</span><a class="headerlink" href="#c.VIDIOC_UNSUBSCRIBE_EVENT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="arguments">
<h2>7.62.3. Arguments<a class="headerlink" href="#arguments" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">fd</span></code></dt>
<dd>File descriptor returned by <a class="reference internal" href="func-open.html#func-open"><span class="std std-ref">open()</span></a>.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">argp</span></code></dt>
<dd>Pointer to struct <a class="reference internal" href="#c.v4l2_event_subscription" title="v4l2_event_subscription"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_event_subscription</span></code></a>.</dd>
</dl>
</div>
<div class="section" id="description">
<h2>7.62.4. Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Subscribe or unsubscribe V4L2 event. Subscribed events are dequeued by
using the <a class="reference internal" href="vidioc-dqevent.html#vidioc-dqevent"><span class="std std-ref">ioctl VIDIOC_DQEVENT</span></a> ioctl.</p>
<dl class="type">
<dt id="c.v4l2_event_subscription">
<code class="descname">v4l2_event_subscription</code><a class="headerlink" href="#c.v4l2_event_subscription" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<table border="1" class="docutils" id="id1">
<caption><span class="caption-text">struct v4l2_event_subscription</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>__u32</td>
<td><code class="docutils literal notranslate"><span class="pre">type</span></code></td>
<td><p class="first">Type of the event, see <a class="reference internal" href="vidioc-dqevent.html#event-type"><span class="std std-ref">Event Types</span></a>.</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">V4L2_EVENT_ALL</span></code> can be used with
<a class="reference internal" href="#vidioc-subscribe-event"><span class="std std-ref">VIDIOC_UNSUBSCRIBE_EVENT</span></a> for
unsubscribing all events at once.</p>
</div>
</td>
</tr>
<tr class="row-even"><td>__u32</td>
<td><code class="docutils literal notranslate"><span class="pre">id</span></code></td>
<td>ID of the event source. If there is no ID associated with the
event source, then set this to 0. Whether or not an event needs an
ID depends on the event type.</td>
</tr>
<tr class="row-odd"><td>__u32</td>
<td><code class="docutils literal notranslate"><span class="pre">flags</span></code></td>
<td>Event flags, see <a class="reference internal" href="#event-flags"><span class="std std-ref">Event Flags</span></a>.</td>
</tr>
<tr class="row-even"><td>__u32</td>
<td><code class="docutils literal notranslate"><span class="pre">reserved</span></code>[5]</td>
<td>Reserved for future extensions. Drivers and applications must set
the array to zero.</td>
</tr>
</tbody>
</table>
<span id="event-flags"></span><table border="1" class="docutils" id="id2">
<caption><span class="caption-text">Event Flags</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="38%" />
<col width="13%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">V4L2_EVENT_SUB_FL_SEND_INITIAL</span></code></td>
<td>0x0001</td>
<td>When this event is subscribed an initial event will be sent
containing the current status. This only makes sense for events
that are triggered by a status change such as <code class="docutils literal notranslate"><span class="pre">V4L2_EVENT_CTRL</span></code>.
Other events will ignore this flag.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">V4L2_EVENT_SUB_FL_ALLOW_FEEDBACK</span></code></td>
<td>0x0002</td>
<td><p class="first">If set, then events directly caused by an ioctl will also be sent
to the filehandle that called that ioctl. For example, changing a
control using <a class="reference internal" href="vidioc-g-ctrl.html#vidioc-g-ctrl"><span class="std std-ref">VIDIOC_S_CTRL</span></a> will cause
a V4L2_EVENT_CTRL to be sent back to that same filehandle.
Normally such events are suppressed to prevent feedback loops
where an application changes a control to a one value and then
another, and then receives an event telling it that that control
has changed to the first value.</p>
<p>Since it can’t tell whether that event was caused by another
application or by the <a class="reference internal" href="vidioc-g-ctrl.html#vidioc-g-ctrl"><span class="std std-ref">VIDIOC_S_CTRL</span></a>
call it is hard to decide whether to set the control to the value
in the event, or ignore it.</p>
<p class="last">Think carefully when you set this flag so you won’t get into
situations like that.</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="return-value">
<h2>7.62.5. Return Value<a class="headerlink" href="#return-value" title="Permalink to this headline">¶</a></h2>
<p>On success 0 is returned, on error -1 and the <code class="docutils literal notranslate"><span class="pre">errno</span></code> variable is set
appropriately. The generic error codes are described at the
<a class="reference internal" href="../gen-errors.html#id1"><span class="std std-ref">Generic Error Codes</span></a> chapter.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
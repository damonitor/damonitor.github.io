

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Bisecting a bug &mdash; The Linux Kernel  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.12.0-rc3-mm1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="mm/damon/index.html">Monitoring Data Accesses</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../vm/damon/index.html">DAMON: Data Access MONitor</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Bisecting a bug</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/admin-guide/bug-bisect.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="bisecting-a-bug">
<h1>Bisecting a bug<a class="headerlink" href="#bisecting-a-bug" title="Permalink to this headline">¶</a></h1>
<p>Last updated: 28 October 2016</p>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Always try the latest kernel from kernel.org and build from source. If you are
not confident in doing that please report the bug to your distribution vendor
instead of to a kernel developer.</p>
<p>Finding bugs is not always easy. Have a go though. If you can’t find it don’t
give up. Report as much as you have found to the relevant maintainer. See
MAINTAINERS for who that is for the subsystem you have worked on.</p>
<p>Before you submit a bug report read
‘<a class="reference internal" href="reporting-issues.html"><span class="doc">Reporting issues</span></a>’.</p>
</div>
<div class="section" id="devices-not-appearing">
<h2>Devices not appearing<a class="headerlink" href="#devices-not-appearing" title="Permalink to this headline">¶</a></h2>
<p>Often this is caused by udev/systemd. Check that first before blaming it
on the kernel.</p>
</div>
<div class="section" id="finding-patch-that-caused-a-bug">
<h2>Finding patch that caused a bug<a class="headerlink" href="#finding-patch-that-caused-a-bug" title="Permalink to this headline">¶</a></h2>
<p>Using the provided tools with <code class="docutils literal notranslate"><span class="pre">git</span></code> makes finding bugs easy provided the bug
is reproducible.</p>
<p>Steps to do it:</p>
<ul>
<li><p>build the Kernel from its git source</p></li>
<li><p>start bisect with <a class="footnote-reference brackets" href="#f1" id="id1">1</a>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ git bisect start
</pre></div>
</div>
</li>
<li><p>mark the broken changeset with:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ git bisect bad [commit]
</pre></div>
</div>
</li>
<li><p>mark a changeset where the code is known to work with:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ git bisect good [commit]
</pre></div>
</div>
</li>
<li><p>rebuild the Kernel and test</p></li>
<li><p>interact with git bisect by using either:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ git bisect good
</pre></div>
</div>
<p>or:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ git bisect bad
</pre></div>
</div>
<p>depending if the bug happened on the changeset you’re testing</p>
</li>
<li><p>After some interactions, git bisect will give you the changeset that
likely caused the bug.</p></li>
<li><p>For example, if you know that the current version is bad, and version
4.8 is good, you could do:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ git bisect start
$ git bisect bad                 # Current version is bad
$ git bisect good v4.8
</pre></div>
</div>
</li>
</ul>
<dl class="footnote brackets">
<dt class="label" id="f1"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>You can, optionally, provide both good and bad arguments at git
start with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">bisect</span> <span class="pre">start</span> <span class="pre">[BAD]</span> <span class="pre">[GOOD]</span></code></p>
</dd>
</dl>
<p>For further references, please read:</p>
<ul class="simple">
<li><p>The man page for <code class="docutils literal notranslate"><span class="pre">git-bisect</span></code></p></li>
<li><p><a class="reference external" href="https://www.kernel.org/pub/software/scm/git/docs/git-bisect-lk2009.html">Fighting regressions with git bisect</a></p></li>
<li><p><a class="reference external" href="https://lwn.net/Articles/317154">Fully automated bisecting with “git bisect run”</a></p></li>
<li><p><a class="reference external" href="http://webchick.net/node/99">Using Git bisect to figure out when brokenness was introduced</a></p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright The kernel development community

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
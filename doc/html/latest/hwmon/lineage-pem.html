

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Kernel driver lineage-pem &mdash; The Linux Kernel  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.7.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/mm/damon/index.html">Monitoring Data Accesses</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../vm/damon/index.html">DAMON: Data Access MONitor</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Kernel driver lineage-pem</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/hwmon/lineage-pem.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="kernel-driver-lineage-pem">
<h1>Kernel driver lineage-pem<a class="headerlink" href="#kernel-driver-lineage-pem" title="Permalink to this headline">¶</a></h1>
<p>Supported devices:</p>
<blockquote>
<div><ul>
<li><p class="first">Lineage Compact Power Line Power Entry Modules</p>
<p>Prefix: ‘lineage-pem’</p>
<p>Addresses scanned: -</p>
<p>Documentation:</p>
<blockquote>
<div><p><a class="reference external" href="http://www.lineagepower.com/oem/pdf/CPLI2C.pdf">http://www.lineagepower.com/oem/pdf/CPLI2C.pdf</a></p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<p>Author: Guenter Roeck &lt;<a class="reference external" href="mailto:linux&#37;&#52;&#48;roeck-us&#46;net">linux<span>&#64;</span>roeck-us<span>&#46;</span>net</a>&gt;</p>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This driver supports various Lineage Compact Power Line DC/DC and AC/DC
converters such as CP1800, CP2000AC, CP2000DC, CP2100DC, and others.</p>
<p>Lineage CPL power entry modules are nominally PMBus compliant. However, most
standard PMBus commands are not supported. Specifically, all hardware monitoring
and status reporting commands are non-standard. For this reason, a standard
PMBus driver can not be used.</p>
</div>
<div class="section" id="usage-notes">
<h2>Usage Notes<a class="headerlink" href="#usage-notes" title="Permalink to this headline">¶</a></h2>
<p>This driver does not probe for Lineage CPL devices, since there is no register
which can be safely used to identify the chip. You will have to instantiate
the devices explicitly.</p>
<p>Example: the following will load the driver for a Lineage PEM at address 0x40
on I2C bus #1:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ modprobe lineage-pem
$ echo lineage-pem 0x40 &gt; /sys/bus/i2c/devices/i2c-1/new_device
</pre></div>
</div>
<p>All Lineage CPL power entry modules have a built-in I2C bus master selector
(PCA9541). To ensure device access, this driver should only be used as client
driver to the pca9541 I2C master selector driver.</p>
</div>
<div class="section" id="sysfs-entries">
<h2>Sysfs entries<a class="headerlink" href="#sysfs-entries" title="Permalink to this headline">¶</a></h2>
<p>All Lineage CPL devices report output voltage and device temperature as well as
alarms for output voltage, temperature, input voltage, input current, input power,
and fan status.</p>
<p>Input voltage, input current, input power, and fan speed measurement is only
supported on newer devices. The driver detects if those attributes are supported,
and only creates respective sysfs entries if they are.</p>
<table border="1" class="docutils">
<colgroup>
<col width="43%" />
<col width="57%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>in1_input</td>
<td>Output voltage (mV)</td>
</tr>
<tr class="row-even"><td>in1_min_alarm</td>
<td>Output undervoltage alarm</td>
</tr>
<tr class="row-odd"><td>in1_max_alarm</td>
<td>Output overvoltage alarm</td>
</tr>
<tr class="row-even"><td>in1_crit</td>
<td>Output voltage critical alarm</td>
</tr>
<tr class="row-odd"><td>in2_input</td>
<td>Input voltage (mV, optional)</td>
</tr>
<tr class="row-even"><td>in2_alarm</td>
<td>Input voltage alarm</td>
</tr>
<tr class="row-odd"><td>curr1_input</td>
<td>Input current (mA, optional)</td>
</tr>
<tr class="row-even"><td>curr1_alarm</td>
<td>Input overcurrent alarm</td>
</tr>
<tr class="row-odd"><td>power1_input</td>
<td>Input power (uW, optional)</td>
</tr>
<tr class="row-even"><td>power1_alarm</td>
<td>Input power alarm</td>
</tr>
<tr class="row-odd"><td>fan1_input</td>
<td>Fan 1 speed (rpm, optional)</td>
</tr>
<tr class="row-even"><td>fan2_input</td>
<td>Fan 2 speed (rpm, optional)</td>
</tr>
<tr class="row-odd"><td>fan3_input</td>
<td>Fan 3 speed (rpm, optional)</td>
</tr>
<tr class="row-even"><td>temp1_input</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>temp1_max</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>temp1_crit</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>temp1_alarm</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>temp1_crit_alarm</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>temp1_fault</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2.13.2. V4L2_META_FMT_IPU3_PARAMS (‘ip3p’), V4L2_META_FMT_IPU3_3A (‘ip3s’) &mdash; The Linux Kernel  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../../',
              VERSION:'',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="2.13.3. V4L2_META_FMT_UVC (‘UVCH’)" href="pixfmt-meta-uvc.html" />
    <link rel="prev" title="2.13.1. V4L2_META_FMT_D4XX (‘D4XX’)" href="pixfmt-meta-d4xx.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.6.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../admin-guide/index.html">The Linux kernel user’s and administrator’s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../kbuild/index.html">Kernel Build System</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../firmware-guide/index.html">The Linux kernel firmware guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../userspace-api/index.html">The Linux kernel user-space API guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../process/index.html">Working with the kernel development community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev-tools/index.html">Development tools for the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../doc-guide/index.html">How to write kernel documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../kernel-hacking/index.html">Kernel Hacking Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../trace/index.html">Linux Tracing Technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../maintainer/index.html">Kernel Maintainer Handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fault-injection/index.html">fault-injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../livepatch/index.html">Kernel Livepatching</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../driver-api/index.html">The Linux driver implementer’s API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../core-api/index.html">Core API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../locking/index.html">locking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../accounting/index.html">Accounting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../block/index.html">Block</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cdrom/index.html">cdrom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ide/index.html">Integrated Drive Electronics (IDE)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fb/index.html">Frame Buffer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fpga/index.html">fpga</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hid/index.html">Human Interface Devices (HID)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../i2c/index.html">I2C/SMBus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../iio/index.html">Industrial I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../isdn/index.html">ISDN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../infiniband/index.html">InfiniBand</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../leds/index.html">LEDs</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Linux Media Subsystem Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../media_uapi.html">Linux Media Infrastructure userspace API</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../intro.html">Introduction</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="v4l2.html">Part I - Video for Linux API</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="common.html">1. Common API Elements</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="pixfmt.html">2. Image Formats</a></li>
<li class="toctree-l4"><a class="reference internal" href="io.html">3. Input/Output</a></li>
<li class="toctree-l4"><a class="reference internal" href="devices.html">4. Interfaces</a></li>
<li class="toctree-l4"><a class="reference internal" href="libv4l.html">5. Libv4l Userspace Library</a></li>
<li class="toctree-l4"><a class="reference internal" href="compat.html">6. Changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="user-func.html">7. Function Reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="common-defs.html">8. Common definitions for V4L2 and V4L2 subdev interfaces</a></li>
<li class="toctree-l4"><a class="reference internal" href="videodev.html">9. Video For Linux Two Header File</a></li>
<li class="toctree-l4"><a class="reference internal" href="capture-example.html">10. Video Capture Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2grab-example.html">11. Video Grabber example using libv4l</a></li>
<li class="toctree-l4"><a class="reference internal" href="biblio.html">12. References</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2.html#revision-and-copyright">Revision and Copyright</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2.html#revision-history">Revision History</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../dvb/dvbapi.html">Part II - Digital TV API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rc/remote_controllers.html">Part III - Remote Controller API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mediactl/media-controller.html">Part IV - Media Controller API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cec/cec-api.html">Part V - Consumer Electronics Control API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gen-errors.html">Generic Error Codes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fdl-appendix.html">GNU Free Documentation License</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../media_kapi.html">Media subsystem kernel internal API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../dvb-drivers/index.html">Linux Digital TV driver-specific documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../v4l-drivers/index.html">Video4Linux (V4L)  driver-specific documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cec-drivers/index.html">CEC driver-specific documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../netlabel/index.html">NetLabel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../networking/index.html">Linux Networking Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pcmcia/index.html">pcmcia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../power/index.html">Power Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../target/index.html">TCM Virtual Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../timers/index.html">timers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../spi/index.html">Serial Peripheral Interface (SPI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../w1/index.html">1-Wire Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../watchdog/index.html">Linux Watchdog Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../virt/index.html">Linux Virtualization Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../input/index.html">The Linux Input Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hwmon/index.html">Linux Hardware Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../gpu/index.html">Linux GPU Driver Developer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security/index.html">Security Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sound/index.html">Linux Sound Subsystem Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../crypto/index.html">Linux Kernel Crypto API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../filesystems/index.html">Filesystems in the Linux kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../vm/index.html">Linux Memory Management Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bpf/index.html">BPF Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usb/index.html">USB support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../PCI/index.html">Linux PCI Bus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../misc-devices/index.html">Assorted Miscellaneous Devices Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mic/index.html">Intel Many Integrated Core (MIC) architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scheduler/index.html">Linux Scheduler</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../asm-annotations.html">Assembler Annotations</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../arm/index.html">ARM Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../arm64/index.html">ARM64 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ia64/index.html">IA-64 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../m68k/index.html">m68k Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mips/index.html">MIPS-specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nios2/nios2.html">Linux on the Nios II architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../openrisc/index.html">OpenRISC Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../parisc/index.html">PA-RISC Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../powerpc/index.html">powerpc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../riscv/index.html">RISC-V architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../s390/index.html">s390 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sh/index.html">SuperH Interfaces Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sparc/index.html">Sparc Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../x86/index.html">x86-specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../xtensa/index.html">Xtensa Architecture</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../filesystems/ext4/index.html">ext4 Data Structures and Algorithms</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../translations/index.html">Translations</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Linux Media Subsystem Documentation</a> &raquo;</li>
        
          <li><a href="../../media_uapi.html">Linux Media Infrastructure userspace API</a> &raquo;</li>
        
          <li><a href="v4l2.html">Part I - Video for Linux API</a> &raquo;</li>
        
          <li><a href="pixfmt.html">2. Image Formats</a> &raquo;</li>
        
          <li><a href="meta-formats.html">2.13. Metadata Formats</a> &raquo;</li>
        
      <li>2.13.2. V4L2_META_FMT_IPU3_PARAMS (‘ip3p’), V4L2_META_FMT_IPU3_3A (‘ip3s’)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/media/uapi/v4l/pixfmt-meta-intel-ipu3.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="v4l2-meta-fmt-ipu3-params-ip3p-v4l2-meta-fmt-ipu3-3a-ip3s">
<span id="v4l2-meta-fmt-stat-3a"></span><span id="v4l2-meta-fmt-params"></span><h1>2.13.2. V4L2_META_FMT_IPU3_PARAMS (‘ip3p’), V4L2_META_FMT_IPU3_3A (‘ip3s’)<a class="headerlink" href="#v4l2-meta-fmt-ipu3-params-ip3p-v4l2-meta-fmt-ipu3-3a-ip3s" title="Permalink to this headline">¶</a></h1>
<div class="section" id="a-statistics">
<h2>2.13.2.1. 3A statistics<a class="headerlink" href="#a-statistics" title="Permalink to this headline">¶</a></h2>
<p>The IPU3 ImgU 3A statistics accelerators collect different statistics over
an input Bayer frame. Those statistics are obtained from the “ipu3-imgu [01] 3a
stat” metadata capture video nodes, using the <a class="reference internal" href="dev-meta.html#c.v4l2_meta_format" title="v4l2_meta_format"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_meta_format</span></code></a>
interface. They are formatted as described by the <a class="reference internal" href="#c.ipu3_uapi_stats_3a" title="ipu3_uapi_stats_3a"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_stats_3a</span></code></a>
structure.</p>
<p>The statistics collected are AWB (Auto-white balance) RGBS (Red, Green, Blue and
Saturation measure) cells, AWB filter response, AF (Auto-focus) filter response,
and AE (Auto-exposure) histogram.</p>
<p>The struct <a class="reference internal" href="#c.ipu3_uapi_4a_config" title="ipu3_uapi_4a_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_4a_config</span></code></a> saves all configurable parameters.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span> <span class="n">ipu3_uapi_stats_3a</span> <span class="p">{</span>
        <span class="k">struct</span> <span class="n">ipu3_uapi_awb_raw_buffer</span> <span class="n">awb_raw_buffer</span><span class="p">;</span>
        <span class="k">struct</span> <span class="n">ipu3_uapi_ae_raw_buffer_aligned</span> <span class="n">ae_raw_buffer</span><span class="p">[</span><span class="n">IPU3_UAPI_MAX_STRIPES</span><span class="p">];</span>
        <span class="k">struct</span> <span class="n">ipu3_uapi_af_raw_buffer</span> <span class="n">af_raw_buffer</span><span class="p">;</span>
        <span class="k">struct</span> <span class="n">ipu3_uapi_awb_fr_raw_buffer</span> <span class="n">awb_fr_raw_buffer</span><span class="p">;</span>
        <span class="k">struct</span> <span class="n">ipu3_uapi_4a_config</span> <span class="n">stats_4a_config</span><span class="p">;</span>
        <span class="n">__u32</span> <span class="n">ae_join_buffers</span><span class="p">;</span>
        <span class="n">__u8</span> <span class="n">padding</span><span class="p">[</span><span class="mi">28</span><span class="p">];</span>
        <span class="k">struct</span> <span class="n">ipu3_uapi_stats_3a_bubble_info_per_stripe</span> <span class="n">stats_3a_bubble_per_stripe</span><span class="p">;</span>
        <span class="k">struct</span> <span class="n">ipu3_uapi_ff_status</span> <span class="n">stats_3a_status</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
</div>
<div class="section" id="pipeline-parameters">
<h2>2.13.2.2. Pipeline parameters<a class="headerlink" href="#pipeline-parameters" title="Permalink to this headline">¶</a></h2>
<p>The pipeline parameters are passed to the “ipu3-imgu [01] parameters” metadata
output video nodes, using the <a class="reference internal" href="dev-meta.html#c.v4l2_meta_format" title="v4l2_meta_format"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_meta_format</span></code></a> interface. They are
formatted as described by the <a class="reference internal" href="#c.ipu3_uapi_params" title="ipu3_uapi_params"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_params</span></code></a> structure.</p>
<p>Both 3A statistics and pipeline parameters described here are closely tied to
the underlying camera sub-system (CSS) APIs. They are usually consumed and
produced by dedicated user space libraries that comprise the important tuning
tools, thus freeing the developers from being bothered with the low level
hardware and algorithm details.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span> <span class="n">ipu3_uapi_params</span> <span class="p">{</span>
        <span class="cm">/* Flags which of the settings below are to be applied */</span>
        <span class="k">struct</span> <span class="n">ipu3_uapi_flags</span> <span class="n">use</span><span class="p">;</span>

        <span class="cm">/* Accelerator cluster parameters */</span>
        <span class="k">struct</span> <span class="n">ipu3_uapi_acc_param</span> <span class="n">acc_param</span><span class="p">;</span>

        <span class="cm">/* ISP vector address space parameters */</span>
        <span class="k">struct</span> <span class="n">ipu3_uapi_isp_lin_vmem_params</span> <span class="n">lin_vmem_params</span><span class="p">;</span>
        <span class="k">struct</span> <span class="n">ipu3_uapi_isp_tnr3_vmem_params</span> <span class="n">tnr3_vmem_params</span><span class="p">;</span>
        <span class="k">struct</span> <span class="n">ipu3_uapi_isp_xnr3_vmem_params</span> <span class="n">xnr3_vmem_params</span><span class="p">;</span>

        <span class="cm">/* ISP data memory (DMEM) parameters */</span>
        <span class="k">struct</span> <span class="n">ipu3_uapi_isp_tnr3_params</span> <span class="n">tnr3_dmem_params</span><span class="p">;</span>
        <span class="k">struct</span> <span class="n">ipu3_uapi_isp_xnr3_params</span> <span class="n">xnr3_dmem_params</span><span class="p">;</span>

        <span class="cm">/* Optical black level compensation */</span>
        <span class="k">struct</span> <span class="n">ipu3_uapi_obgrid_param</span> <span class="n">obgrid_param</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
</div>
<div class="section" id="intel-ipu3-imgu-uapi-data-types">
<h2>2.13.2.3. Intel IPU3 ImgU uAPI data types<a class="headerlink" href="#intel-ipu3-imgu-uapi-data-types" title="Permalink to this headline">¶</a></h2>
<dl class="type">
<dt id="c.ipu3_uapi_grid_config">
struct <code class="descname">ipu3_uapi_grid_config</code><a class="headerlink" href="#c.ipu3_uapi_grid_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Grid plane config</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_grid_config {
  __u8 width;
  __u8 height;
  __u16 block_width_log2:3;
  __u16 block_height_log2:3;
  __u16 height_per_slice:8;
  __u16 x_start;
  __u16 y_start;
  __u16 x_end;
  __u16 y_end;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">width</span></code></dt>
<dd>Grid horizontal dimensions, in number of grid blocks(cells).</dd>
<dt><code class="docutils literal notranslate"><span class="pre">height</span></code></dt>
<dd>Grid vertical dimensions, in number of grid cells.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">block_width_log2</span></code></dt>
<dd>Log2 of the width of each cell in pixels.
for (2^3, 2^4, 2^5, 2^6, 2^7), values [3, 7].</dd>
<dt><code class="docutils literal notranslate"><span class="pre">block_height_log2</span></code></dt>
<dd>Log2 of the height of each cell in pixels.
for (2^3, 2^4, 2^5, 2^6, 2^7), values [3, 7].</dd>
<dt><code class="docutils literal notranslate"><span class="pre">height_per_slice</span></code></dt>
<dd>The number of blocks in vertical axis per slice.
Default 2.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">x_start</span></code></dt>
<dd>X value of top left corner of Region of Interest(ROI).</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y_start</span></code></dt>
<dd>Y value of top left corner of ROI</dd>
<dt><code class="docutils literal notranslate"><span class="pre">x_end</span></code></dt>
<dd>X value of bottom right corner of ROI</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y_end</span></code></dt>
<dd>Y value of bottom right corner of ROI</dd>
</dl>
<p><strong>Description</strong></p>
<p>Due to the size of total amount of collected data, most statistics
create a grid-based output, and the data is then divided into “slices”.</p>
<dl class="type">
<dt id="c.ipu3_uapi_awb_raw_buffer">
struct <code class="descname">ipu3_uapi_awb_raw_buffer</code><a class="headerlink" href="#c.ipu3_uapi_awb_raw_buffer" title="Permalink to this definition">¶</a></dt>
<dd><p>AWB raw buffer</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_awb_raw_buffer {
  __u8 meta_data[IPU3_UAPI_AWB_MAX_BUFFER_SIZE] ;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">meta_data</span></code></dt>
<dd>buffer to hold auto white balance meta data which is
the average values for each color channel.</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_awb_config_s">
struct <code class="descname">ipu3_uapi_awb_config_s</code><a class="headerlink" href="#c.ipu3_uapi_awb_config_s" title="Permalink to this definition">¶</a></dt>
<dd><p>AWB config</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_awb_config_s {
  __u16 rgbs_thr_gr;
  __u16 rgbs_thr_r;
  __u16 rgbs_thr_gb;
  __u16 rgbs_thr_b;
  struct ipu3_uapi_grid_config grid;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">rgbs_thr_gr</span></code></dt>
<dd>gr threshold value.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">rgbs_thr_r</span></code></dt>
<dd>Red threshold value.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">rgbs_thr_gb</span></code></dt>
<dd>gb threshold value.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">rgbs_thr_b</span></code></dt>
<dd>Blue threshold value.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">grid</span></code></dt>
<dd><a class="reference internal" href="#c.ipu3_uapi_grid_config" title="ipu3_uapi_grid_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_grid_config</span></code></a>, the default grid resolution is 16x16 cells.</dd>
</dl>
<p><strong>Description</strong></p>
<p>The threshold is a saturation measure range [0, 8191], 8191 is default.
Values over threshold may be optionally rejected for averaging.</p>
<dl class="type">
<dt id="c.ipu3_uapi_awb_config">
struct <code class="descname">ipu3_uapi_awb_config</code><a class="headerlink" href="#c.ipu3_uapi_awb_config" title="Permalink to this definition">¶</a></dt>
<dd><p>AWB config wrapper</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_awb_config {
  struct ipu3_uapi_awb_config_s config ;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">config</span></code></dt>
<dd>config for auto white balance as defined by <a class="reference internal" href="#c.ipu3_uapi_awb_config_s" title="ipu3_uapi_awb_config_s"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_awb_config_s</span></code></a></dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_ae_raw_buffer">
struct <code class="descname">ipu3_uapi_ae_raw_buffer</code><a class="headerlink" href="#c.ipu3_uapi_ae_raw_buffer" title="Permalink to this definition">¶</a></dt>
<dd><p>AE global weighted histogram</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_ae_raw_buffer {
  __u32 vals[IPU3_UAPI_AE_BINS * IPU3_UAPI_AE_COLORS];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">vals</span></code></dt>
<dd>Sum of IPU3_UAPI_AE_COLORS in cell</dd>
</dl>
<p><strong>Description</strong></p>
<p>Each histogram contains IPU3_UAPI_AE_BINS bins. Each bin has 24 bit unsigned
for counting the number of the pixel.</p>
<dl class="type">
<dt id="c.ipu3_uapi_ae_raw_buffer_aligned">
struct <code class="descname">ipu3_uapi_ae_raw_buffer_aligned</code><a class="headerlink" href="#c.ipu3_uapi_ae_raw_buffer_aligned" title="Permalink to this definition">¶</a></dt>
<dd><p>AE raw buffer</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_ae_raw_buffer_aligned {
  struct ipu3_uapi_ae_raw_buffer buff ;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">buff</span></code></dt>
<dd><a class="reference internal" href="#c.ipu3_uapi_ae_raw_buffer" title="ipu3_uapi_ae_raw_buffer"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_ae_raw_buffer</span></code></a> to hold full frame meta data.</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_ae_grid_config">
struct <code class="descname">ipu3_uapi_ae_grid_config</code><a class="headerlink" href="#c.ipu3_uapi_ae_grid_config" title="Permalink to this definition">¶</a></dt>
<dd><p>AE weight grid</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_ae_grid_config {
  __u8 width;
  __u8 height;
  __u8 block_width_log2:4;
  __u8 block_height_log2:4;
  __u8 reserved0:5;
  __u8 ae_en:1;
  __u8 rst_hist_array:1;
  __u8 done_rst_hist_array:1;
  __u16 x_start;
  __u16 y_start;
  __u16 x_end;
  __u16 y_end;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">width</span></code></dt>
<dd>Grid horizontal dimensions. Value: [16, 32], default 16.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">height</span></code></dt>
<dd>Grid vertical dimensions. Value: [16, 24], default 16.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">block_width_log2</span></code></dt>
<dd>Log2 of the width of the grid cell, value: [3, 7].</dd>
<dt><code class="docutils literal notranslate"><span class="pre">block_height_log2</span></code></dt>
<dd>Log2 of the height of the grid cell, value: [3, 7].
default is 3 (cell size 8x8), 4 cell per grid.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved0</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ae_en</span></code></dt>
<dd>0: does not write to <a class="reference internal" href="#c.ipu3_uapi_ae_raw_buffer_aligned" title="ipu3_uapi_ae_raw_buffer_aligned"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_ae_raw_buffer_aligned</span></code></a> array,
1: write normally.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">rst_hist_array</span></code></dt>
<dd>write 1 to trigger histogram array reset.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">done_rst_hist_array</span></code></dt>
<dd>flag for histogram array reset done.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">x_start</span></code></dt>
<dd>X value of top left corner of ROI, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y_start</span></code></dt>
<dd>Y value of top left corner of ROI, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">x_end</span></code></dt>
<dd>X value of bottom right corner of ROI</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y_end</span></code></dt>
<dd>Y value of bottom right corner of ROI</dd>
</dl>
<p><strong>Description</strong></p>
<p>The AE block accumulates 4 global weighted histograms(R, G, B, Y) over
a defined ROI within the frame. The contribution of each pixel into the
histogram, defined by <a class="reference internal" href="#c.ipu3_uapi_ae_weight_elem" title="ipu3_uapi_ae_weight_elem"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_ae_weight_elem</span></code></a> LUT, is indexed by a grid.</p>
<dl class="type">
<dt id="c.ipu3_uapi_ae_weight_elem">
struct <code class="descname">ipu3_uapi_ae_weight_elem</code><a class="headerlink" href="#c.ipu3_uapi_ae_weight_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>AE weights LUT</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_ae_weight_elem {
  __u32 cell0:4;
  __u32 cell1:4;
  __u32 cell2:4;
  __u32 cell3:4;
  __u32 cell4:4;
  __u32 cell5:4;
  __u32 cell6:4;
  __u32 cell7:4;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">cell0</span></code></dt>
<dd>weighted histogram grid value.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">cell1</span></code></dt>
<dd>weighted histogram grid value.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">cell2</span></code></dt>
<dd>weighted histogram grid value.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">cell3</span></code></dt>
<dd>weighted histogram grid value.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">cell4</span></code></dt>
<dd>weighted histogram grid value.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">cell5</span></code></dt>
<dd>weighted histogram grid value.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">cell6</span></code></dt>
<dd>weighted histogram grid value.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">cell7</span></code></dt>
<dd>weighted histogram grid value.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Use weighted grid value to give a different contribution factor to each cell.
Precision u4, range [0, 15].</p>
<dl class="type">
<dt id="c.ipu3_uapi_ae_ccm">
struct <code class="descname">ipu3_uapi_ae_ccm</code><a class="headerlink" href="#c.ipu3_uapi_ae_ccm" title="Permalink to this definition">¶</a></dt>
<dd><p>AE coefficients for WB and CCM</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_ae_ccm {
  __u16 gain_gr;
  __u16 gain_r;
  __u16 gain_b;
  __u16 gain_gb;
  __s16 mat[16];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">gain_gr</span></code></dt>
<dd>WB gain factor for the gr channels. Default 256.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gain_r</span></code></dt>
<dd>WB gain factor for the r channel. Default 256.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gain_b</span></code></dt>
<dd>WB gain factor for the b channel. Default 256.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gain_gb</span></code></dt>
<dd>WB gain factor for the gb channels. Default 256.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">mat</span></code></dt>
<dd>4x4 matrix that transforms Bayer quad output from WB to RGB+Y.</dd>
</dl>
<p><strong>Description</strong></p>
<dl class="docutils">
<dt>Default:</dt>
<dd>128, 0, 0, 0,
0, 128, 0, 0,
0, 0, 128, 0,
0, 0, 0, 128,</dd>
</dl>
<p>As part of the raw frame pre-process stage, the WB and color conversion need
to be applied to expose the impact of these gain operations.</p>
<dl class="type">
<dt id="c.ipu3_uapi_ae_config">
struct <code class="descname">ipu3_uapi_ae_config</code><a class="headerlink" href="#c.ipu3_uapi_ae_config" title="Permalink to this definition">¶</a></dt>
<dd><p>AE config</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_ae_config {
  struct ipu3_uapi_ae_grid_config grid_cfg ;
  struct ipu3_uapi_ae_weight_elem weights[ IPU3_UAPI_AE_WEIGHTS] ;
  struct ipu3_uapi_ae_ccm ae_ccm ;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">grid_cfg</span></code></dt>
<dd>config for auto exposure statistics grid. See struct
<a class="reference internal" href="#c.ipu3_uapi_ae_grid_config" title="ipu3_uapi_ae_grid_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_ae_grid_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">weights</span></code></dt>
<dd><code class="xref c c-type docutils literal notranslate"><span class="pre">IPU3_UAPI_AE_WEIGHTS</span></code> is based on 32x24 blocks in the grid.
Each grid cell has a corresponding value in weights LUT called
grid value, global histogram is updated based on grid value and
pixel value.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ae_ccm</span></code></dt>
<dd>Color convert matrix pre-processing block.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Calculate AE grid from image resolution, resample ae weights.</p>
<dl class="type">
<dt id="c.ipu3_uapi_af_filter_config">
struct <code class="descname">ipu3_uapi_af_filter_config</code><a class="headerlink" href="#c.ipu3_uapi_af_filter_config" title="Permalink to this definition">¶</a></dt>
<dd><p>AF 2D filter for contrast measurements</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_af_filter_config {
  struct {
    __u8 a1;
    __u8 a2;
    __u8 a3;
    __u8 a4;
  } y1_coeff_0;
  struct {
    __u8 a5;
    __u8 a6;
    __u8 a7;
    __u8 a8;
  } y1_coeff_1;
  struct {
    __u8 a9;
    __u8 a10;
    __u8 a11;
    __u8 a12;
  } y1_coeff_2;
  __u32 y1_sign_vec;
  struct {
    __u8 a1;
    __u8 a2;
    __u8 a3;
    __u8 a4;
  } y2_coeff_0;
  struct {
    __u8 a5;
    __u8 a6;
    __u8 a7;
    __u8 a8;
  } y2_coeff_1;
  struct {
    __u8 a9;
    __u8 a10;
    __u8 a11;
    __u8 a12;
  } y2_coeff_2;
  __u32 y2_sign_vec;
  struct {
    __u8 y_gen_rate_gr;
    __u8 y_gen_rate_r;
    __u8 y_gen_rate_b;
    __u8 y_gen_rate_gb;
  } y_calc;
  struct {
    __u32 reserved0:8;
    __u32 y1_nf:4;
    __u32 reserved1:4;
    __u32 y2_nf:4;
    __u32 reserved2:12;
  } nf;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">y1_coeff_0</span></code></dt>
<dd>filter Y1, structure: 3x11, support both symmetry and
anti-symmetry type. A12 is center, A1-A11 are neighbours.
for analyzing low frequency content, used to calculate sum
of gradients in x direction.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y1_coeff_0.a1</span></code></dt>
<dd>filter1 coefficients A1, u8, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y1_coeff_0.a2</span></code></dt>
<dd>filter1 coefficients A2, u8, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y1_coeff_0.a3</span></code></dt>
<dd>filter1 coefficients A3, u8, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y1_coeff_0.a4</span></code></dt>
<dd>filter1 coefficients A4, u8, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y1_coeff_1</span></code></dt>
<dd>Struct</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y1_coeff_1.a5</span></code></dt>
<dd>filter1 coefficients A5, u8, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y1_coeff_1.a6</span></code></dt>
<dd>filter1 coefficients A6, u8, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y1_coeff_1.a7</span></code></dt>
<dd>filter1 coefficients A7, u8, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y1_coeff_1.a8</span></code></dt>
<dd>filter1 coefficients A8, u8, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y1_coeff_2</span></code></dt>
<dd>Struct</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y1_coeff_2.a9</span></code></dt>
<dd>filter1 coefficients A9, u8, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y1_coeff_2.a10</span></code></dt>
<dd>filter1 coefficients A10, u8, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y1_coeff_2.a11</span></code></dt>
<dd>filter1 coefficients A11, u8, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y1_coeff_2.a12</span></code></dt>
<dd>filter1 coefficients A12, u8, default 128.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y1_sign_vec</span></code></dt>
<dd>Each bit corresponds to one coefficient sign bit,
0: positive, 1: negative, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y2_coeff_0</span></code></dt>
<dd>Y2, same structure as Y1. For analyzing high frequency content.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y2_coeff_0.a1</span></code></dt>
<dd>filter2 coefficients A1, u8, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y2_coeff_0.a2</span></code></dt>
<dd>filter2 coefficients A2, u8, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y2_coeff_0.a3</span></code></dt>
<dd>filter2 coefficients A3, u8, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y2_coeff_0.a4</span></code></dt>
<dd>filter2 coefficients A4, u8, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y2_coeff_1</span></code></dt>
<dd>Struct</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y2_coeff_1.a5</span></code></dt>
<dd>filter2 coefficients A5, u8, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y2_coeff_1.a6</span></code></dt>
<dd>filter2 coefficients A6, u8, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y2_coeff_1.a7</span></code></dt>
<dd>filter2 coefficients A7, u8, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y2_coeff_1.a8</span></code></dt>
<dd>filter2 coefficients A8, u8, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y2_coeff_2</span></code></dt>
<dd>Struct</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y2_coeff_2.a9</span></code></dt>
<dd>filter1 coefficients A9, u8, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y2_coeff_2.a10</span></code></dt>
<dd>filter1 coefficients A10, u8, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y2_coeff_2.a11</span></code></dt>
<dd>filter1 coefficients A11, u8, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y2_coeff_2.a12</span></code></dt>
<dd>filter1 coefficients A12, u8, default 128.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y2_sign_vec</span></code></dt>
<dd>Each bit corresponds to one coefficient sign bit,
0: positive, 1: negative, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y_calc</span></code></dt>
<dd>Pre-processing that converts Bayer quad to RGB+Y values to be
used for building histogram. Range [0, 32], default 8.
Rule:
y_gen_rate_gr + y_gen_rate_r + y_gen_rate_b + y_gen_rate_gb = 32
A single Y is calculated based on sum of Gr/R/B/Gb based on
their contribution ratio.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y_calc.y_gen_rate_gr</span></code></dt>
<dd>Contribution ratio Gr for Y</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y_calc.y_gen_rate_r</span></code></dt>
<dd>Contribution ratio R for Y</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y_calc.y_gen_rate_b</span></code></dt>
<dd>Contribution ratio B for Y</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y_calc.y_gen_rate_gb</span></code></dt>
<dd>Contribution ratio Gb for Y</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nf</span></code></dt>
<dd>The shift right value that should be applied during the Y1/Y2 filter to
make sure the total memory needed is 2 bytes per grid cell.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nf.reserved0</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nf.y1_nf</span></code></dt>
<dd>Normalization factor for the convolution coeffs of y1,
should be log2 of the sum of the abs values of the filter
coeffs, default 7 (2^7 = 128).</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nf.reserved1</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nf.y2_nf</span></code></dt>
<dd>Normalization factor for y2, should be log2 of the sum of the
abs values of the filter coeffs.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nf.reserved2</span></code></dt>
<dd>reserved</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_af_raw_buffer">
struct <code class="descname">ipu3_uapi_af_raw_buffer</code><a class="headerlink" href="#c.ipu3_uapi_af_raw_buffer" title="Permalink to this definition">¶</a></dt>
<dd><p>AF meta data</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_af_raw_buffer {
  __u8 y_table[IPU3_UAPI_AF_Y_TABLE_MAX_SIZE] ;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">y_table</span></code></dt>
<dd>Each color component will be convolved separately with filter1
and filter2 and the result will be summed out and averaged for
each cell.</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_af_config_s">
struct <code class="descname">ipu3_uapi_af_config_s</code><a class="headerlink" href="#c.ipu3_uapi_af_config_s" title="Permalink to this definition">¶</a></dt>
<dd><p>AF config</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_af_config_s {
  struct ipu3_uapi_af_filter_config filter_config ;
  __u8 padding[4];
  struct ipu3_uapi_grid_config grid_cfg ;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">filter_config</span></code></dt>
<dd>AF uses Y1 and Y2 filters as configured in
<a class="reference internal" href="#c.ipu3_uapi_af_filter_config" title="ipu3_uapi_af_filter_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_af_filter_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">padding</span></code></dt>
<dd>paddings</dd>
<dt><code class="docutils literal notranslate"><span class="pre">grid_cfg</span></code></dt>
<dd>See <a class="reference internal" href="#c.ipu3_uapi_grid_config" title="ipu3_uapi_grid_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_grid_config</span></code></a>, default resolution 16x16. Use large
grid size for large image and vice versa.</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_awb_fr_raw_buffer">
struct <code class="descname">ipu3_uapi_awb_fr_raw_buffer</code><a class="headerlink" href="#c.ipu3_uapi_awb_fr_raw_buffer" title="Permalink to this definition">¶</a></dt>
<dd><p>AWB filter response meta data</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_awb_fr_raw_buffer {
  __u8 meta_data[IPU3_UAPI_AWB_FR_BAYER_TABLE_MAX_SIZE] ;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">meta_data</span></code></dt>
<dd>Statistics output on the grid after convolving with 1D filter.</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_awb_fr_config_s">
struct <code class="descname">ipu3_uapi_awb_fr_config_s</code><a class="headerlink" href="#c.ipu3_uapi_awb_fr_config_s" title="Permalink to this definition">¶</a></dt>
<dd><p>AWB filter response config</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_awb_fr_config_s {
  struct ipu3_uapi_grid_config grid_cfg;
  __u8 bayer_coeff[6];
  __u16 reserved1;
  __u32 bayer_sign;
  __u8 bayer_nf;
  __u8 reserved2[7];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">grid_cfg</span></code></dt>
<dd>grid config, default 16x16.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bayer_coeff</span></code></dt>
<dd>1D Filter 1x11 center symmetry/anti-symmetry.
coefficients defaults { 0, 0, 0, 0, 0, 128 }.
Applied on whole image for each Bayer channel separately
by a weighted sum of its 11x1 neighbors.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bayer_sign</span></code></dt>
<dd>sign of filter coefficients, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bayer_nf</span></code></dt>
<dd>normalization factor for the convolution coeffs, to make sure
total memory needed is within pre-determined range.
NF should be the log2 of the sum of the abs values of the
filter coeffs, range [7, 14], default 7.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved2</span></code></dt>
<dd>reserved</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_4a_config">
struct <code class="descname">ipu3_uapi_4a_config</code><a class="headerlink" href="#c.ipu3_uapi_4a_config" title="Permalink to this definition">¶</a></dt>
<dd><p>4A config</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_4a_config {
  struct ipu3_uapi_awb_config_s awb_config ;
  struct ipu3_uapi_ae_grid_config ae_grd_config;
  __u8 padding[20];
  struct ipu3_uapi_af_config_s af_config;
  struct ipu3_uapi_awb_fr_config_s awb_fr_config;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">awb_config</span></code></dt>
<dd><a class="reference internal" href="#c.ipu3_uapi_awb_config_s" title="ipu3_uapi_awb_config_s"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_awb_config_s</span></code></a>, default resolution 16x16</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ae_grd_config</span></code></dt>
<dd>auto exposure statistics <a class="reference internal" href="#c.ipu3_uapi_ae_grid_config" title="ipu3_uapi_ae_grid_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_ae_grid_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">padding</span></code></dt>
<dd>paddings</dd>
<dt><code class="docutils literal notranslate"><span class="pre">af_config</span></code></dt>
<dd>auto focus config <a class="reference internal" href="#c.ipu3_uapi_af_config_s" title="ipu3_uapi_af_config_s"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_af_config_s</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">awb_fr_config</span></code></dt>
<dd><a class="reference internal" href="#c.ipu3_uapi_awb_fr_config_s" title="ipu3_uapi_awb_fr_config_s"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_awb_fr_config_s</span></code></a>, default resolution 16x16</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_bubble_info">
struct <code class="descname">ipu3_uapi_bubble_info</code><a class="headerlink" href="#c.ipu3_uapi_bubble_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Bubble info for host side debugging</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_bubble_info {
  __u32 num_of_stripes ;
  __u8 padding[28];
  __u32 num_sets;
  __u8 padding1[28];
  __u32 size_of_set;
  __u8 padding2[28];
  __u32 bubble_size;
  __u8 padding3[28];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">num_of_stripes</span></code></dt>
<dd>A single frame is divided into several parts called stripes
due to limitation on line buffer memory.
The separation between the stripes is vertical. Each such
stripe is processed as a single frame by the ISP pipe.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">padding</span></code></dt>
<dd>padding bytes.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">num_sets</span></code></dt>
<dd>number of sets.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">padding1</span></code></dt>
<dd>padding bytes.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">size_of_set</span></code></dt>
<dd>set size.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">padding2</span></code></dt>
<dd>padding bytes.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bubble_size</span></code></dt>
<dd>is the amount of padding in the bubble expressed in “sets”.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">padding3</span></code></dt>
<dd>padding bytes.</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_ff_status">
struct <code class="descname">ipu3_uapi_ff_status</code><a class="headerlink" href="#c.ipu3_uapi_ff_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable bits for each 3A fixed function</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_ff_status {
  __u32 awb_en ;
  __u8 padding[28];
  __u32 ae_en;
  __u8 padding1[28];
  __u32 af_en;
  __u8 padding2[28];
  __u32 awb_fr_en;
  __u8 padding3[28];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">awb_en</span></code></dt>
<dd>auto white balance enable</dd>
<dt><code class="docutils literal notranslate"><span class="pre">padding</span></code></dt>
<dd>padding config</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ae_en</span></code></dt>
<dd>auto exposure enable</dd>
<dt><code class="docutils literal notranslate"><span class="pre">padding1</span></code></dt>
<dd>padding config</dd>
<dt><code class="docutils literal notranslate"><span class="pre">af_en</span></code></dt>
<dd>auto focus enable</dd>
<dt><code class="docutils literal notranslate"><span class="pre">padding2</span></code></dt>
<dd>padding config</dd>
<dt><code class="docutils literal notranslate"><span class="pre">awb_fr_en</span></code></dt>
<dd>awb filter response enable bit</dd>
<dt><code class="docutils literal notranslate"><span class="pre">padding3</span></code></dt>
<dd>padding config</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_stats_3a">
struct <code class="descname">ipu3_uapi_stats_3a</code><a class="headerlink" href="#c.ipu3_uapi_stats_3a" title="Permalink to this definition">¶</a></dt>
<dd><p>3A statistics</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_stats_3a {
  struct ipu3_uapi_awb_raw_buffer awb_raw_buffer;
  struct ipu3_uapi_ae_raw_buffer_aligned ae_raw_buffer[IPU3_UAPI_MAX_STRIPES];
  struct ipu3_uapi_af_raw_buffer af_raw_buffer;
  struct ipu3_uapi_awb_fr_raw_buffer awb_fr_raw_buffer;
  struct ipu3_uapi_4a_config stats_4a_config;
  __u32 ae_join_buffers;
  __u8 padding[28];
  struct ipu3_uapi_stats_3a_bubble_info_per_stripe stats_3a_bubble_per_stripe;
  struct ipu3_uapi_ff_status stats_3a_status;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">awb_raw_buffer</span></code></dt>
<dd>auto white balance meta data <a class="reference internal" href="#c.ipu3_uapi_awb_raw_buffer" title="ipu3_uapi_awb_raw_buffer"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_awb_raw_buffer</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">ae_raw_buffer</span></code></dt>
<dd>auto exposure raw data <a class="reference internal" href="#c.ipu3_uapi_ae_raw_buffer_aligned" title="ipu3_uapi_ae_raw_buffer_aligned"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_ae_raw_buffer_aligned</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">af_raw_buffer</span></code></dt>
<dd><a class="reference internal" href="#c.ipu3_uapi_af_raw_buffer" title="ipu3_uapi_af_raw_buffer"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_af_raw_buffer</span></code></a> for auto focus meta data</dd>
<dt><code class="docutils literal notranslate"><span class="pre">awb_fr_raw_buffer</span></code></dt>
<dd>value as specified by <a class="reference internal" href="#c.ipu3_uapi_awb_fr_raw_buffer" title="ipu3_uapi_awb_fr_raw_buffer"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_awb_fr_raw_buffer</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">stats_4a_config</span></code></dt>
<dd>4a statistics config as defined by <a class="reference internal" href="#c.ipu3_uapi_4a_config" title="ipu3_uapi_4a_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_4a_config</span></code></a>.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ae_join_buffers</span></code></dt>
<dd>1 to use ae_raw_buffer.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">padding</span></code></dt>
<dd>padding config</dd>
<dt><code class="docutils literal notranslate"><span class="pre">stats_3a_bubble_per_stripe</span></code></dt>
<dd>a <code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_stats_3a_bubble_info_per_stripe</span></code></dd>
<dt><code class="docutils literal notranslate"><span class="pre">stats_3a_status</span></code></dt>
<dd>3a statistics status set in <a class="reference internal" href="#c.ipu3_uapi_ff_status" title="ipu3_uapi_ff_status"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_ff_status</span></code></a></dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_bnr_static_config_wb_gains_config">
struct <code class="descname">ipu3_uapi_bnr_static_config_wb_gains_config</code><a class="headerlink" href="#c.ipu3_uapi_bnr_static_config_wb_gains_config" title="Permalink to this definition">¶</a></dt>
<dd><p>White balance gains</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_bnr_static_config_wb_gains_config {
  __u16 gr;
  __u16 r;
  __u16 b;
  __u16 gb;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">gr</span></code></dt>
<dd>white balance gain for Gr channel.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">r</span></code></dt>
<dd>white balance gain for R channel.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">b</span></code></dt>
<dd>white balance gain for B channel.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gb</span></code></dt>
<dd>white balance gain for Gb channel.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Precision u3.13, range [0, 8). White balance correction is done by applying
a multiplicative gain to each color channels prior to BNR.</p>
<dl class="type">
<dt id="c.ipu3_uapi_bnr_static_config_wb_gains_thr_config">
struct <code class="descname">ipu3_uapi_bnr_static_config_wb_gains_thr_config</code><a class="headerlink" href="#c.ipu3_uapi_bnr_static_config_wb_gains_thr_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Threshold config</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_bnr_static_config_wb_gains_thr_config {
  __u8 gr;
  __u8 r;
  __u8 b;
  __u8 gb;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">gr</span></code></dt>
<dd>white balance threshold gain for Gr channel.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">r</span></code></dt>
<dd>white balance threshold gain for R channel.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">b</span></code></dt>
<dd>white balance threshold gain for B channel.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gb</span></code></dt>
<dd>white balance threshold gain for Gb channel.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Defines the threshold that specifies how different a defect pixel can be from
its neighbors.(used by dynamic defect pixel correction sub block)
Precision u4.4 range [0, 8].</p>
<dl class="type">
<dt id="c.ipu3_uapi_bnr_static_config_thr_coeffs_config">
struct <code class="descname">ipu3_uapi_bnr_static_config_thr_coeffs_config</code><a class="headerlink" href="#c.ipu3_uapi_bnr_static_config_thr_coeffs_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Noise model coefficients that controls noise threshold</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_bnr_static_config_thr_coeffs_config {
  __u32 cf:13;
  __u32 reserved0:3;
  __u32 cg:5;
  __u32 ci:5;
  __u32 reserved1:1;
  __u32 r_nf:5;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">cf</span></code></dt>
<dd>Free coefficient for threshold calculation, range [0, 8191], default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved0</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">cg</span></code></dt>
<dd>Gain coefficient for threshold calculation, [0, 31], default 8.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ci</span></code></dt>
<dd>Intensity coefficient for threshold calculation. range [0, 0x1f]
default 6.
format: u3.2 (3 most significant bits represent whole number,
2 least significant bits represent the fractional part
with each count representing 0.25)
e.g. 6 in binary format is 00110, that translates to 1.5</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">r_nf</span></code></dt>
<dd>Normalization shift value for r^2 calculation, range [12, 20]
where r is a radius of pixel [row, col] from centor of sensor.
default 14.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Threshold used to distinguish between noise and details.</p>
<dl class="type">
<dt id="c.ipu3_uapi_bnr_static_config_thr_ctrl_shd_config">
struct <code class="descname">ipu3_uapi_bnr_static_config_thr_ctrl_shd_config</code><a class="headerlink" href="#c.ipu3_uapi_bnr_static_config_thr_ctrl_shd_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Shading config</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_bnr_static_config_thr_ctrl_shd_config {
  __u8 gr;
  __u8 r;
  __u8 b;
  __u8 gb;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">gr</span></code></dt>
<dd>Coefficient defines lens shading gain approximation for gr channel</dd>
<dt><code class="docutils literal notranslate"><span class="pre">r</span></code></dt>
<dd>Coefficient defines lens shading gain approximation for r channel</dd>
<dt><code class="docutils literal notranslate"><span class="pre">b</span></code></dt>
<dd>Coefficient defines lens shading gain approximation for b channel</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gb</span></code></dt>
<dd>Coefficient defines lens shading gain approximation for gb channel</dd>
</dl>
<p><strong>Description</strong></p>
<p>Parameters for noise model (NM) adaptation of BNR due to shading correction.
All above have precision of u3.3, default to 0.</p>
<dl class="type">
<dt id="c.ipu3_uapi_bnr_static_config_opt_center_config">
struct <code class="descname">ipu3_uapi_bnr_static_config_opt_center_config</code><a class="headerlink" href="#c.ipu3_uapi_bnr_static_config_opt_center_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Optical center config</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_bnr_static_config_opt_center_config {
  __s32 x_reset:13;
  __u32 reserved0:3;
  __s32 y_reset:13;
  __u32 reserved2:3;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">x_reset</span></code></dt>
<dd>Reset value of X (col start - X center). Precision s12.0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved0</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y_reset</span></code></dt>
<dd>Reset value of Y (row start - Y center). Precision s12.0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved2</span></code></dt>
<dd>reserved</dd>
</dl>
<p><strong>Description</strong></p>
<p>Distance from corner to optical center for NM adaptation due to shading
correction (should be calculated based on shading tables)</p>
<dl class="type">
<dt id="c.ipu3_uapi_bnr_static_config_lut_config">
struct <code class="descname">ipu3_uapi_bnr_static_config_lut_config</code><a class="headerlink" href="#c.ipu3_uapi_bnr_static_config_lut_config" title="Permalink to this definition">¶</a></dt>
<dd><p>BNR square root lookup table</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_bnr_static_config_lut_config {
  __u8 values[IPU3_UAPI_BNR_LUT_SIZE];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">values</span></code></dt>
<dd>pre-calculated values of square root function.</dd>
</dl>
<p><strong>Description</strong></p>
<p>LUT implementation of square root operation.</p>
<dl class="type">
<dt id="c.ipu3_uapi_bnr_static_config_bp_ctrl_config">
struct <code class="descname">ipu3_uapi_bnr_static_config_bp_ctrl_config</code><a class="headerlink" href="#c.ipu3_uapi_bnr_static_config_bp_ctrl_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Detect bad pixels (bp)</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_bnr_static_config_bp_ctrl_config {
  __u32 bp_thr_gain:5;
  __u32 reserved0:2;
  __u32 defect_mode:1;
  __u32 bp_gain:6;
  __u32 reserved1:18;
  __u32 w0_coeff:4;
  __u32 reserved2:4;
  __u32 w1_coeff:4;
  __u32 reserved3:20;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">bp_thr_gain</span></code></dt>
<dd>Defines the threshold that specifies how different a
defect pixel can be from its neighbors. Threshold is
dependent on de-noise threshold calculated by algorithm.
Range [4, 31], default 4.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved0</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">defect_mode</span></code></dt>
<dd>Mode of addressed defect pixels,
0 - single defect pixel is expected,
1 - 2 adjacent defect pixels are expected, default 1.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bp_gain</span></code></dt>
<dd>Defines how 2nd derivation that passes through a defect pixel
is different from 2nd derivations that pass through
neighbor pixels. u4.2, range [0, 256], default 8.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">w0_coeff</span></code></dt>
<dd>Blending coefficient of defect pixel correction.
Precision u4, range [0, 8], default 8.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved2</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">w1_coeff</span></code></dt>
<dd>Enable influence of incorrect defect pixel correction to be
avoided. Precision u4, range [1, 8], default 8.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved3</span></code></dt>
<dd>reserved</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_bnr_static_config_dn_detect_ctrl_config">
struct <code class="descname">ipu3_uapi_bnr_static_config_dn_detect_ctrl_config</code><a class="headerlink" href="#c.ipu3_uapi_bnr_static_config_dn_detect_ctrl_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Denoising config</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_bnr_static_config_dn_detect_ctrl_config {
  __u32 alpha:4;
  __u32 beta:4;
  __u32 gamma:4;
  __u32 reserved0:4;
  __u32 max_inf:4;
  __u32 reserved1:7;
  __u32 gd_enable:1;
  __u32 bpc_enable:1;
  __u32 bnr_enable:1;
  __u32 ff_enable:1;
  __u32 reserved2:1;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">alpha</span></code></dt>
<dd>Weight of central element of smoothing filter.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">beta</span></code></dt>
<dd>Weight of peripheral elements of smoothing filter, default 4.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gamma</span></code></dt>
<dd>Weight of diagonal elements of smoothing filter, default 4.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved0</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">max_inf</span></code></dt>
<dd>Maximum increase of peripheral or diagonal element influence
relative to the pre-defined value range: [0x5, 0xa]</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gd_enable</span></code></dt>
<dd>Green disparity enable control, 0 - disable, 1 - enable.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bpc_enable</span></code></dt>
<dd>Bad pixel correction enable control, 0 - disable, 1 - enable.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bnr_enable</span></code></dt>
<dd>Bayer noise removal enable control, 0 - disable, 1 - enable.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ff_enable</span></code></dt>
<dd>Fixed function enable, 0 - disable, 1 - enable.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved2</span></code></dt>
<dd>reserved</dd>
</dl>
<p><strong>Description</strong></p>
<dl class="docutils">
<dt>beta and gamma parameter define the strength of the noise removal filter.</dt>
<dd>All above has precision u0.4, range [0, 0xf]
format: u0.4 (no / zero bits represent whole number,
4 bits represent the fractional part
with each count representing 0.0625)
e.g. 0xf translates to 0.0625x15 = 0.9375</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_bnr_static_config_opt_center_sqr_config">
struct <code class="descname">ipu3_uapi_bnr_static_config_opt_center_sqr_config</code><a class="headerlink" href="#c.ipu3_uapi_bnr_static_config_opt_center_sqr_config" title="Permalink to this definition">¶</a></dt>
<dd><p>BNR optical square</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_bnr_static_config_opt_center_sqr_config {
  __u32 x_sqr_reset;
  __u32 y_sqr_reset;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">x_sqr_reset</span></code></dt>
<dd>Reset value of X^2.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y_sqr_reset</span></code></dt>
<dd>Reset value of Y^2.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Please note:</p>
<blockquote>
<div><ol class="arabic simple">
<li>X and Y ref to
<a class="reference internal" href="#c.ipu3_uapi_bnr_static_config_opt_center_config" title="ipu3_uapi_bnr_static_config_opt_center_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_bnr_static_config_opt_center_config</span></code></a></li>
<li>Both structs are used in threshold formula to calculate r^2, where r
is a radius of pixel [row, col] from centor of sensor.</li>
</ol>
</div></blockquote>
<dl class="type">
<dt id="c.ipu3_uapi_bnr_static_config">
struct <code class="descname">ipu3_uapi_bnr_static_config</code><a class="headerlink" href="#c.ipu3_uapi_bnr_static_config" title="Permalink to this definition">¶</a></dt>
<dd><p>BNR static config</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_bnr_static_config {
  struct ipu3_uapi_bnr_static_config_wb_gains_config wb_gains;
  struct ipu3_uapi_bnr_static_config_wb_gains_thr_config wb_gains_thr;
  struct ipu3_uapi_bnr_static_config_thr_coeffs_config thr_coeffs;
  struct ipu3_uapi_bnr_static_config_thr_ctrl_shd_config thr_ctrl_shd;
  struct ipu3_uapi_bnr_static_config_opt_center_config opt_center;
  struct ipu3_uapi_bnr_static_config_lut_config lut;
  struct ipu3_uapi_bnr_static_config_bp_ctrl_config bp_ctrl;
  struct ipu3_uapi_bnr_static_config_dn_detect_ctrl_config dn_detect_ctrl;
  __u32 column_size;
  struct ipu3_uapi_bnr_static_config_opt_center_sqr_config opt_center_sqr;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">wb_gains</span></code></dt>
<dd>white balance gains <a class="reference internal" href="#c.ipu3_uapi_bnr_static_config_wb_gains_config" title="ipu3_uapi_bnr_static_config_wb_gains_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_bnr_static_config_wb_gains_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">wb_gains_thr</span></code></dt>
<dd>white balance gains threshold as defined by
<a class="reference internal" href="#c.ipu3_uapi_bnr_static_config_wb_gains_thr_config" title="ipu3_uapi_bnr_static_config_wb_gains_thr_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_bnr_static_config_wb_gains_thr_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">thr_coeffs</span></code></dt>
<dd>coefficients of threshold
<a class="reference internal" href="#c.ipu3_uapi_bnr_static_config_thr_coeffs_config" title="ipu3_uapi_bnr_static_config_thr_coeffs_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_bnr_static_config_thr_coeffs_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">thr_ctrl_shd</span></code></dt>
<dd>control of shading threshold
<a class="reference internal" href="#c.ipu3_uapi_bnr_static_config_thr_ctrl_shd_config" title="ipu3_uapi_bnr_static_config_thr_ctrl_shd_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_bnr_static_config_thr_ctrl_shd_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">opt_center</span></code></dt>
<dd>optical center <a class="reference internal" href="#c.ipu3_uapi_bnr_static_config_opt_center_config" title="ipu3_uapi_bnr_static_config_opt_center_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_bnr_static_config_opt_center_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">lut</span></code></dt>
<dd>lookup table <a class="reference internal" href="#c.ipu3_uapi_bnr_static_config_lut_config" title="ipu3_uapi_bnr_static_config_lut_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_bnr_static_config_lut_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">bp_ctrl</span></code></dt>
<dd>detect and remove bad pixels as defined in struct
<a class="reference internal" href="#c.ipu3_uapi_bnr_static_config_bp_ctrl_config" title="ipu3_uapi_bnr_static_config_bp_ctrl_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_bnr_static_config_bp_ctrl_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">dn_detect_ctrl</span></code></dt>
<dd>detect and remove noise.
<a class="reference internal" href="#c.ipu3_uapi_bnr_static_config_dn_detect_ctrl_config" title="ipu3_uapi_bnr_static_config_dn_detect_ctrl_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_bnr_static_config_dn_detect_ctrl_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">column_size</span></code></dt>
<dd>The number of pixels in column.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">opt_center_sqr</span></code></dt>
<dd>Reset value of r^2 to optical center, see
<a class="reference internal" href="#c.ipu3_uapi_bnr_static_config_opt_center_sqr_config" title="ipu3_uapi_bnr_static_config_opt_center_sqr_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_bnr_static_config_opt_center_sqr_config</span></code></a>.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Above parameters and opt_center_sqr are used for white balance and shading.</p>
<dl class="type">
<dt id="c.ipu3_uapi_bnr_static_config_green_disparity">
struct <code class="descname">ipu3_uapi_bnr_static_config_green_disparity</code><a class="headerlink" href="#c.ipu3_uapi_bnr_static_config_green_disparity" title="Permalink to this definition">¶</a></dt>
<dd><p>Correct green disparity</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_bnr_static_config_green_disparity {
  __u32 gd_red:6;
  __u32 reserved0:2;
  __u32 gd_green:6;
  __u32 reserved1:2;
  __u32 gd_blue:6;
  __u32 reserved2:10;
  __u32 gd_black:14;
  __u32 reserved3:2;
  __u32 gd_shading:7;
  __u32 reserved4:1;
  __u32 gd_support:2;
  __u32 reserved5:1;
  __u32 gd_clip:1;
  __u32 gd_central_weight:4;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">gd_red</span></code></dt>
<dd>Shading gain coeff for gr disparity level in bright red region.
Precision u0.6, default 4(0.0625).</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved0</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gd_green</span></code></dt>
<dd>Shading gain coeff for gr disparity level in bright green
region. Precision u0.6, default 4(0.0625).</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gd_blue</span></code></dt>
<dd>Shading gain coeff for gr disparity level in bright blue region.
Precision u0.6, default 4(0.0625).</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved2</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gd_black</span></code></dt>
<dd>Maximal green disparity level in dark region (stronger disparity
assumed to be image detail). Precision u14, default 80.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved3</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gd_shading</span></code></dt>
<dd>Change maximal green disparity level according to square
distance from image center.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved4</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gd_support</span></code></dt>
<dd>Lower bound for the number of second green color pixels in
current pixel neighborhood with less than threshold difference
from it.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved5</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gd_clip</span></code></dt>
<dd>Turn green disparity clip on/off, [0, 1], default 1.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gd_central_weight</span></code></dt>
<dd>Central pixel weight in 9 pixels weighted sum.</dd>
</dl>
<p><strong>Description</strong></p>
<p>The shading gain coeff of red, green, blue and black are used to calculate
threshold given a pixel’s color value and its coordinates in the image.</p>
<dl class="type">
<dt id="c.ipu3_uapi_dm_config">
struct <code class="descname">ipu3_uapi_dm_config</code><a class="headerlink" href="#c.ipu3_uapi_dm_config" title="Permalink to this definition">¶</a></dt>
<dd><p>De-mosaic parameters</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_dm_config {
  __u32 dm_en:1;
  __u32 ch_ar_en:1;
  __u32 fcc_en:1;
  __u32 reserved0:13;
  __u32 frame_width:16;
  __u32 gamma_sc:5;
  __u32 reserved1:3;
  __u32 lc_ctrl:5;
  __u32 reserved2:3;
  __u32 cr_param1:5;
  __u32 reserved3:3;
  __u32 cr_param2:5;
  __u32 reserved4:3;
  __u32 coring_param:5;
  __u32 reserved5:27;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">dm_en</span></code></dt>
<dd>de-mosaic enable.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ch_ar_en</span></code></dt>
<dd>Checker artifacts removal enable flag. Default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">fcc_en</span></code></dt>
<dd>False color correction (FCC) enable flag. Default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved0</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">frame_width</span></code></dt>
<dd>do not care</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gamma_sc</span></code></dt>
<dd>Sharpening coefficient (coefficient of 2-d derivation of
complementary color in Hamilton-Adams interpolation).
u5, range [0, 31], default 8.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">lc_ctrl</span></code></dt>
<dd>Parameter that controls weights of Chroma Homogeneity metric
in calculation of final homogeneity metric.
u5, range [0, 31], default 7.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved2</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">cr_param1</span></code></dt>
<dd>First parameter that defines Checker artifact removal
feature gain. Precision u5, range [0, 31], default 8.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved3</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">cr_param2</span></code></dt>
<dd>Second parameter that defines Checker artifact removal
feature gain. Precision u5, range [0, 31], default 8.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved4</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">coring_param</span></code></dt>
<dd>Defines power of false color correction operation.
low for preserving edge colors, high for preserving gray
edge artifacts.
Precision u1.4, range [0, 1.9375], default 4 (0.25).</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved5</span></code></dt>
<dd>reserved</dd>
</dl>
<p><strong>Description</strong></p>
<p>The demosaic fixed function block is responsible to covert Bayer(mosaiced)
images into color images based on demosaicing algorithm.</p>
<dl class="type">
<dt id="c.ipu3_uapi_ccm_mat_config">
struct <code class="descname">ipu3_uapi_ccm_mat_config</code><a class="headerlink" href="#c.ipu3_uapi_ccm_mat_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Color correction matrix</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_ccm_mat_config {
  __s16 coeff_m11;
  __s16 coeff_m12;
  __s16 coeff_m13;
  __s16 coeff_o_r;
  __s16 coeff_m21;
  __s16 coeff_m22;
  __s16 coeff_m23;
  __s16 coeff_o_g;
  __s16 coeff_m31;
  __s16 coeff_m32;
  __s16 coeff_m33;
  __s16 coeff_o_b;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">coeff_m11</span></code></dt>
<dd>CCM 3x3 coefficient, range [-65536, 65535]</dd>
<dt><code class="docutils literal notranslate"><span class="pre">coeff_m12</span></code></dt>
<dd>CCM 3x3 coefficient, range [-8192, 8191]</dd>
<dt><code class="docutils literal notranslate"><span class="pre">coeff_m13</span></code></dt>
<dd>CCM 3x3 coefficient, range [-32768, 32767]</dd>
<dt><code class="docutils literal notranslate"><span class="pre">coeff_o_r</span></code></dt>
<dd>Bias 3x1 coefficient, range [-8191, 8181]</dd>
<dt><code class="docutils literal notranslate"><span class="pre">coeff_m21</span></code></dt>
<dd>CCM 3x3 coefficient, range [-32767, 32767]</dd>
<dt><code class="docutils literal notranslate"><span class="pre">coeff_m22</span></code></dt>
<dd>CCM 3x3 coefficient, range [-8192, 8191]</dd>
<dt><code class="docutils literal notranslate"><span class="pre">coeff_m23</span></code></dt>
<dd>CCM 3x3 coefficient, range [-32768, 32767]</dd>
<dt><code class="docutils literal notranslate"><span class="pre">coeff_o_g</span></code></dt>
<dd>Bias 3x1 coefficient, range [-8191, 8181]</dd>
<dt><code class="docutils literal notranslate"><span class="pre">coeff_m31</span></code></dt>
<dd>CCM 3x3 coefficient, range [-32768, 32767]</dd>
<dt><code class="docutils literal notranslate"><span class="pre">coeff_m32</span></code></dt>
<dd>CCM 3x3 coefficient, range [-8192, 8191]</dd>
<dt><code class="docutils literal notranslate"><span class="pre">coeff_m33</span></code></dt>
<dd>CCM 3x3 coefficient, range [-32768, 32767]</dd>
<dt><code class="docutils literal notranslate"><span class="pre">coeff_o_b</span></code></dt>
<dd>Bias 3x1 coefficient, range [-8191, 8181]</dd>
</dl>
<p><strong>Description</strong></p>
<p>Transform sensor specific color space to standard sRGB by applying 3x3 matrix
and adding a bias vector O. The transformation is basically a rotation and
translation in the 3-dimensional color spaces. Here are the defaults:</p>
<blockquote>
<div>9775,   -2671,  1087,   0
-1071,  8303,   815,    0
-23,    -7887,  16103,  0</div></blockquote>
<dl class="type">
<dt id="c.ipu3_uapi_gamma_corr_ctrl">
struct <code class="descname">ipu3_uapi_gamma_corr_ctrl</code><a class="headerlink" href="#c.ipu3_uapi_gamma_corr_ctrl" title="Permalink to this definition">¶</a></dt>
<dd><p>Gamma correction</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_gamma_corr_ctrl {
  __u32 enable:1;
  __u32 reserved:31;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">enable</span></code></dt>
<dd>gamma correction enable.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved</span></code></dt>
<dd>reserved</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_gamma_corr_lut">
struct <code class="descname">ipu3_uapi_gamma_corr_lut</code><a class="headerlink" href="#c.ipu3_uapi_gamma_corr_lut" title="Permalink to this definition">¶</a></dt>
<dd><p>Per-pixel tone mapping implemented as LUT.</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_gamma_corr_lut {
  __u16 lut[IPU3_UAPI_GAMMA_CORR_LUT_ENTRIES];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">lut</span></code></dt>
<dd>256 tabulated values of the gamma function. LUT[1].. LUT[256]
format u13.0, range [0, 8191].</dd>
</dl>
<p><strong>Description</strong></p>
<p>The tone mapping operation is done by a Piece wise linear graph
that is implemented as a lookup table(LUT). The pixel component input
intensity is the X-axis of the graph which is the table entry.</p>
<dl class="type">
<dt id="c.ipu3_uapi_gamma_config">
struct <code class="descname">ipu3_uapi_gamma_config</code><a class="headerlink" href="#c.ipu3_uapi_gamma_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Gamma config</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_gamma_config {
  struct ipu3_uapi_gamma_corr_ctrl gc_ctrl ;
  struct ipu3_uapi_gamma_corr_lut gc_lut ;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">gc_ctrl</span></code></dt>
<dd>control of gamma correction <a class="reference internal" href="#c.ipu3_uapi_gamma_corr_ctrl" title="ipu3_uapi_gamma_corr_ctrl"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_gamma_corr_ctrl</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">gc_lut</span></code></dt>
<dd>lookup table of gamma correction <a class="reference internal" href="#c.ipu3_uapi_gamma_corr_lut" title="ipu3_uapi_gamma_corr_lut"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_gamma_corr_lut</span></code></a></dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_csc_mat_config">
struct <code class="descname">ipu3_uapi_csc_mat_config</code><a class="headerlink" href="#c.ipu3_uapi_csc_mat_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Color space conversion matrix config</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_csc_mat_config {
  __s16 coeff_c11;
  __s16 coeff_c12;
  __s16 coeff_c13;
  __s16 coeff_b1;
  __s16 coeff_c21;
  __s16 coeff_c22;
  __s16 coeff_c23;
  __s16 coeff_b2;
  __s16 coeff_c31;
  __s16 coeff_c32;
  __s16 coeff_c33;
  __s16 coeff_b3;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">coeff_c11</span></code></dt>
<dd>Conversion matrix value, format s0.14, range [-16384, 16383].</dd>
<dt><code class="docutils literal notranslate"><span class="pre">coeff_c12</span></code></dt>
<dd>Conversion matrix value, format s0.14, range [-8192, 8191].</dd>
<dt><code class="docutils literal notranslate"><span class="pre">coeff_c13</span></code></dt>
<dd>Conversion matrix value, format s0.14, range [-16384, 16383].</dd>
<dt><code class="docutils literal notranslate"><span class="pre">coeff_b1</span></code></dt>
<dd>Bias 3x1 coefficient, s13.0 range [-8192, 8191].</dd>
<dt><code class="docutils literal notranslate"><span class="pre">coeff_c21</span></code></dt>
<dd>Conversion matrix value, format s0.14, range [-16384, 16383].</dd>
<dt><code class="docutils literal notranslate"><span class="pre">coeff_c22</span></code></dt>
<dd>Conversion matrix value, format s0.14, range [-8192, 8191].</dd>
<dt><code class="docutils literal notranslate"><span class="pre">coeff_c23</span></code></dt>
<dd>Conversion matrix value, format s0.14, range [-16384, 16383].</dd>
<dt><code class="docutils literal notranslate"><span class="pre">coeff_b2</span></code></dt>
<dd>Bias 3x1 coefficient, s13.0 range [-8192, 8191].</dd>
<dt><code class="docutils literal notranslate"><span class="pre">coeff_c31</span></code></dt>
<dd>Conversion matrix value, format s0.14, range [-16384, 16383].</dd>
<dt><code class="docutils literal notranslate"><span class="pre">coeff_c32</span></code></dt>
<dd>Conversion matrix value, format s0.14, range [-8192, 8191].</dd>
<dt><code class="docutils literal notranslate"><span class="pre">coeff_c33</span></code></dt>
<dd>Conversion matrix value, format s0.14, range [-16384, 16383].</dd>
<dt><code class="docutils literal notranslate"><span class="pre">coeff_b3</span></code></dt>
<dd>Bias 3x1 coefficient, s13.0 range [-8192, 8191].</dd>
</dl>
<p><strong>Description</strong></p>
<p>To transform each pixel from RGB to YUV (Y - brightness/luminance,
UV -chroma) by applying the pixel’s values by a 3x3 matrix and adding an
optional bias 3x1 vector. Here are the default values for the matrix:</p>
<blockquote>
<div><p>4898,   9617,  1867, 0,
-2410, -4732,  7143, 0,
10076, -8437, -1638, 0,</p>
<p>(i.e. for real number 0.299, 0.299 * 2^14 becomes 4898.)</p>
</div></blockquote>
<dl class="type">
<dt id="c.ipu3_uapi_cds_params">
struct <code class="descname">ipu3_uapi_cds_params</code><a class="headerlink" href="#c.ipu3_uapi_cds_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Chroma down-scaling</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_cds_params {
  __u32 ds_c00:2;
  __u32 ds_c01:2;
  __u32 ds_c02:2;
  __u32 ds_c03:2;
  __u32 ds_c10:2;
  __u32 ds_c11:2;
  __u32 ds_c12:2;
  __u32 ds_c13:2;
  __u32 ds_nf:5;
  __u32 reserved0:3;
  __u32 csc_en:1;
  __u32 uv_bin_output:1;
  __u32 reserved1:6;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">ds_c00</span></code></dt>
<dd>range [0, 3]</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ds_c01</span></code></dt>
<dd>range [0, 3]</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ds_c02</span></code></dt>
<dd>range [0, 3]</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ds_c03</span></code></dt>
<dd>range [0, 3]</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ds_c10</span></code></dt>
<dd>range [0, 3]</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ds_c11</span></code></dt>
<dd>range [0, 3]</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ds_c12</span></code></dt>
<dd>range [0, 3]</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ds_c13</span></code></dt>
<dd>range [0, 3]</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ds_nf</span></code></dt>
<dd>Normalization factor for Chroma output downscaling filter,
range 0,4, default 2.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved0</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">csc_en</span></code></dt>
<dd>Color space conversion enable</dd>
<dt><code class="docutils literal notranslate"><span class="pre">uv_bin_output</span></code></dt>
<dd>0: output YUV 4.2.0, 1: output YUV 4.2.2(default).</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>reserved</dd>
</dl>
<p><strong>Description</strong></p>
<dl class="docutils">
<dt>In case user does not provide, above 4x2 filter will use following defaults:</dt>
<dd>1, 3, 3, 1,
1, 3, 3, 1,</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_shd_grid_config">
struct <code class="descname">ipu3_uapi_shd_grid_config</code><a class="headerlink" href="#c.ipu3_uapi_shd_grid_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Bayer shading(darkening) correction</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_shd_grid_config {
  __u8 width;
  __u8 height;
  __u8 block_width_log2:3;
  __u8 reserved0:1;
  __u8 block_height_log2:3;
  __u8 reserved1:1;
  __u8 grid_height_per_slice;
  __s16 x_start;
  __s16 y_start;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">width</span></code></dt>
<dd>Grid horizontal dimensions, u8, [8, 128], default 73</dd>
<dt><code class="docutils literal notranslate"><span class="pre">height</span></code></dt>
<dd>Grid vertical dimensions, u8, [8, 128], default 56</dd>
<dt><code class="docutils literal notranslate"><span class="pre">block_width_log2</span></code></dt>
<dd>Log2 of the width of the grid cell in pixel count
u4, [0, 15], default value 5.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved0</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">block_height_log2</span></code></dt>
<dd>Log2 of the height of the grid cell in pixel count
u4, [0, 15], default value 6.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">grid_height_per_slice</span></code></dt>
<dd>SHD_MAX_CELLS_PER_SET/width.
(with SHD_MAX_CELLS_PER_SET = 146).</dd>
<dt><code class="docutils literal notranslate"><span class="pre">x_start</span></code></dt>
<dd>X value of top left corner of sensor relative to ROI
s13, [-4096, 0], default 0, only negative values.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y_start</span></code></dt>
<dd>Y value of top left corner of sensor relative to ROI
s13, [-4096, 0], default 0, only negative values.</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_shd_general_config">
struct <code class="descname">ipu3_uapi_shd_general_config</code><a class="headerlink" href="#c.ipu3_uapi_shd_general_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Shading general config</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_shd_general_config {
  __u32 init_set_vrt_offst_ul:8;
  __u32 shd_enable:1;
  __u32 gain_factor:2;
  __u32 reserved:21;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">init_set_vrt_offst_ul</span></code></dt>
<dd>set vertical offset,
y_start &gt;&gt; block_height_log2 % grid_height_per_slice.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">shd_enable</span></code></dt>
<dd>shading enable.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gain_factor</span></code></dt>
<dd>Gain factor. Shift calculated anti shading value. Precision u2.
0x0 - gain factor [1, 5], means no shift interpolated value.
0x1 - gain factor [1, 9], means shift interpolated by 1.
0x2 - gain factor [1, 17], means shift interpolated by 2.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved</span></code></dt>
<dd>reserved</dd>
</dl>
<p><strong>Description</strong></p>
<p>Correction is performed by multiplying a gain factor for each of the 4 Bayer
channels as a function of the pixel location in the sensor.</p>
<dl class="type">
<dt id="c.ipu3_uapi_shd_black_level_config">
struct <code class="descname">ipu3_uapi_shd_black_level_config</code><a class="headerlink" href="#c.ipu3_uapi_shd_black_level_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Black level correction</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_shd_black_level_config {
  __s16 bl_r;
  __s16 bl_gr;
  __s16 bl_gb;
  __s16 bl_b;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">bl_r</span></code></dt>
<dd>Bios values for green red. s11 range [-2048, 2047].</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bl_gr</span></code></dt>
<dd>Bios values for green blue. s11 range [-2048, 2047].</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bl_gb</span></code></dt>
<dd>Bios values for red. s11 range [-2048, 2047].</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bl_b</span></code></dt>
<dd>Bios values for blue. s11 range [-2048, 2047].</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_shd_config_static">
struct <code class="descname">ipu3_uapi_shd_config_static</code><a class="headerlink" href="#c.ipu3_uapi_shd_config_static" title="Permalink to this definition">¶</a></dt>
<dd><p>Shading config static</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_shd_config_static {
  struct ipu3_uapi_shd_grid_config grid;
  struct ipu3_uapi_shd_general_config general;
  struct ipu3_uapi_shd_black_level_config black_level;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">grid</span></code></dt>
<dd>shading grid config <a class="reference internal" href="#c.ipu3_uapi_shd_grid_config" title="ipu3_uapi_shd_grid_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_shd_grid_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">general</span></code></dt>
<dd>shading general config <a class="reference internal" href="#c.ipu3_uapi_shd_general_config" title="ipu3_uapi_shd_general_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_shd_general_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">black_level</span></code></dt>
<dd>black level config for shading correction as defined by
<a class="reference internal" href="#c.ipu3_uapi_shd_black_level_config" title="ipu3_uapi_shd_black_level_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_shd_black_level_config</span></code></a></dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_shd_lut">
struct <code class="descname">ipu3_uapi_shd_lut</code><a class="headerlink" href="#c.ipu3_uapi_shd_lut" title="Permalink to this definition">¶</a></dt>
<dd><p>Shading gain factor lookup table.</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_shd_lut {
  struct {
    struct {
      __u16 r;
      __u16 gr;
    } r_and_gr[IPU3_UAPI_SHD_MAX_CELLS_PER_SET];
    __u8 reserved1[24];
    struct {
      __u16 gb;
      __u16 b;
    } gb_and_b[IPU3_UAPI_SHD_MAX_CELLS_PER_SET];
    __u8 reserved2[24];
  } sets[IPU3_UAPI_SHD_MAX_CFG_SETS];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">sets</span></code></dt>
<dd>array</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sets.r_and_gr</span></code></dt>
<dd>Red and GreenR Lookup table.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sets.r_and_gr.r</span></code></dt>
<dd>Red shading factor.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sets.r_and_gr.gr</span></code></dt>
<dd>GreenR shading factor.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sets.reserved1</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sets.gb_and_b</span></code></dt>
<dd>GreenB and Blue Lookup table.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sets.gb_and_b.gb</span></code></dt>
<dd>GreenB shading factor.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sets.gb_and_b.b</span></code></dt>
<dd>Blue shading factor.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sets.reserved2</span></code></dt>
<dd>reserved</dd>
</dl>
<p><strong>Description</strong></p>
<p>Map to shading correction LUT register set.</p>
<dl class="type">
<dt id="c.ipu3_uapi_shd_config">
struct <code class="descname">ipu3_uapi_shd_config</code><a class="headerlink" href="#c.ipu3_uapi_shd_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Shading config</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_shd_config {
  struct ipu3_uapi_shd_config_static shd ;
  struct ipu3_uapi_shd_lut shd_lut ;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">shd</span></code></dt>
<dd>shading static config, see <a class="reference internal" href="#c.ipu3_uapi_shd_config_static" title="ipu3_uapi_shd_config_static"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_shd_config_static</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">shd_lut</span></code></dt>
<dd>shading lookup table <a class="reference internal" href="#c.ipu3_uapi_shd_lut" title="ipu3_uapi_shd_lut"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_shd_lut</span></code></a></dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_iefd_cux2">
struct <code class="descname">ipu3_uapi_iefd_cux2</code><a class="headerlink" href="#c.ipu3_uapi_iefd_cux2" title="Permalink to this definition">¶</a></dt>
<dd><p>IEFd Config Unit 2 parameters</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_iefd_cux2 {
  __u32 x0:9;
  __u32 x1:9;
  __u32 a01:9;
  __u32 b01:5;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">x0</span></code></dt>
<dd>X0 point of Config Unit, u9.0, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">x1</span></code></dt>
<dd>X1 point of Config Unit, u9.0, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">a01</span></code></dt>
<dd>Slope A of Config Unit, s4.4, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">b01</span></code></dt>
<dd>Slope B, always 0.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Calculate weight for blending directed and non-directed denoise elements</p>
<p><strong>Note</strong></p>
<p>Each instance of Config Unit needs X coordinate of n points and
slope A factor between points calculated by driver based on calibration
parameters.</p>
<p>All CU inputs are unsigned, they will be converted to signed when written
to register, i.e. a01 will be written to 9 bit register in s4.4 format.
The data precision s4.4 means 4 bits for integer parts and 4 bits for the
fractional part, the first bit indicates positive or negative value.
For userspace software (commonly the imaging library), the computation for
the CU slope values should be based on the slope resolution 1/16 (binary
0.0001 - the minimal interval value), the slope value range is [-256, +255].
This applies to <a class="reference internal" href="#c.ipu3_uapi_iefd_cux6_ed" title="ipu3_uapi_iefd_cux6_ed"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_iefd_cux6_ed</span></code></a>, <a class="reference internal" href="#c.ipu3_uapi_iefd_cux2_1" title="ipu3_uapi_iefd_cux2_1"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_iefd_cux2_1</span></code></a>,
<a class="reference internal" href="#c.ipu3_uapi_iefd_cux2_1" title="ipu3_uapi_iefd_cux2_1"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_iefd_cux2_1</span></code></a>, <a class="reference internal" href="#c.ipu3_uapi_iefd_cux4" title="ipu3_uapi_iefd_cux4"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_iefd_cux4</span></code></a> and <a class="reference internal" href="#c.ipu3_uapi_iefd_cux6_rad" title="ipu3_uapi_iefd_cux6_rad"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_iefd_cux6_rad</span></code></a>.</p>
<dl class="type">
<dt id="c.ipu3_uapi_iefd_cux6_ed">
struct <code class="descname">ipu3_uapi_iefd_cux6_ed</code><a class="headerlink" href="#c.ipu3_uapi_iefd_cux6_ed" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate power of non-directed sharpening element, Config Unit 6 for edge detail (ED).</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_iefd_cux6_ed {
  __u32 x0:9;
  __u32 x1:9;
  __u32 x2:9;
  __u32 reserved0:5;
  __u32 x3:9;
  __u32 x4:9;
  __u32 x5:9;
  __u32 reserved1:5;
  __u32 a01:9;
  __u32 a12:9;
  __u32 a23:9;
  __u32 reserved2:5;
  __u32 a34:9;
  __u32 a45:9;
  __u32 reserved3:14;
  __u32 b01:9;
  __u32 b12:9;
  __u32 b23:9;
  __u32 reserved4:5;
  __u32 b34:9;
  __u32 b45:9;
  __u32 reserved5:14;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">x0</span></code></dt>
<dd>X coordinate of point 0, u9.0, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">x1</span></code></dt>
<dd>X coordinate of point 1, u9.0, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">x2</span></code></dt>
<dd>X coordinate of point 2, u9.0, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved0</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">x3</span></code></dt>
<dd>X coordinate of point 3, u9.0, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">x4</span></code></dt>
<dd>X coordinate of point 4, u9.0, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">x5</span></code></dt>
<dd>X coordinate of point 5, u9.0, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">a01</span></code></dt>
<dd>slope A points 01, s4.4, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">a12</span></code></dt>
<dd>slope A points 12, s4.4, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">a23</span></code></dt>
<dd>slope A points 23, s4.4, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved2</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">a34</span></code></dt>
<dd>slope A points 34, s4.4, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">a45</span></code></dt>
<dd>slope A points 45, s4.4, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved3</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">b01</span></code></dt>
<dd>slope B points 01, s4.4, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">b12</span></code></dt>
<dd>slope B points 12, s4.4, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">b23</span></code></dt>
<dd>slope B points 23, s4.4, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved4</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">b34</span></code></dt>
<dd>slope B points 34, s4.4, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">b45</span></code></dt>
<dd>slope B points 45, s4.4, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved5</span></code></dt>
<dd>reserved.</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_iefd_cux2_1">
struct <code class="descname">ipu3_uapi_iefd_cux2_1</code><a class="headerlink" href="#c.ipu3_uapi_iefd_cux2_1" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate power of non-directed denoise element apply.</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_iefd_cux2_1 {
  __u32 x0:9;
  __u32 x1:9;
  __u32 a01:9;
  __u32 reserved1:5;
  __u32 b01:8;
  __u32 reserved2:24;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">x0</span></code></dt>
<dd>X0 point of Config Unit, u9.0, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">x1</span></code></dt>
<dd>X1 point of Config Unit, u9.0, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">a01</span></code></dt>
<dd>Slope A of Config Unit, s4.4, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">b01</span></code></dt>
<dd>offset B0 of Config Unit, u7.0, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved2</span></code></dt>
<dd>reserved</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_iefd_cux4">
struct <code class="descname">ipu3_uapi_iefd_cux4</code><a class="headerlink" href="#c.ipu3_uapi_iefd_cux4" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate power of non-directed sharpening element.</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_iefd_cux4 {
  __u32 x0:9;
  __u32 x1:9;
  __u32 x2:9;
  __u32 reserved0:5;
  __u32 x3:9;
  __u32 a01:9;
  __u32 a12:9;
  __u32 reserved1:5;
  __u32 a23:9;
  __u32 b01:8;
  __u32 b12:8;
  __u32 reserved2:7;
  __u32 b23:8;
  __u32 reserved3:24;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">x0</span></code></dt>
<dd>X0 point of Config Unit, u9.0, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">x1</span></code></dt>
<dd>X1 point of Config Unit, u9.0, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">x2</span></code></dt>
<dd>X2 point of Config Unit, u9.0, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved0</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">x3</span></code></dt>
<dd>X3 point of Config Unit, u9.0, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">a01</span></code></dt>
<dd>Slope A0 of Config Unit, s4.4, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">a12</span></code></dt>
<dd>Slope A1 of Config Unit, s4.4, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">a23</span></code></dt>
<dd>Slope A2 of Config Unit, s4.4, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">b01</span></code></dt>
<dd>Offset B0 of Config Unit, s7.0, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">b12</span></code></dt>
<dd>Offset B1 of Config Unit, s7.0, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved2</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">b23</span></code></dt>
<dd>Offset B2 of Config Unit, s7.0, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved3</span></code></dt>
<dd>reserved</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_iefd_cux6_rad">
struct <code class="descname">ipu3_uapi_iefd_cux6_rad</code><a class="headerlink" href="#c.ipu3_uapi_iefd_cux6_rad" title="Permalink to this definition">¶</a></dt>
<dd><p>Radial Config Unit (CU)</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_iefd_cux6_rad {
  __u32 x0:8;
  __u32 x1:8;
  __u32 x2:8;
  __u32 x3:8;
  __u32 x4:8;
  __u32 x5:8;
  __u32 reserved1:16;
  __u32 a01:16;
  __u32 a12:16;
  __u32 a23:16;
  __u32 a34:16;
  __u32 a45:16;
  __u32 reserved2:16;
  __u32 b01:10;
  __u32 b12:10;
  __u32 b23:10;
  __u32 reserved4:2;
  __u32 b34:10;
  __u32 b45:10;
  __u32 reserved5:12;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">x0</span></code></dt>
<dd>x0 points of Config Unit radial, u8.0</dd>
<dt><code class="docutils literal notranslate"><span class="pre">x1</span></code></dt>
<dd>x1 points of Config Unit radial, u8.0</dd>
<dt><code class="docutils literal notranslate"><span class="pre">x2</span></code></dt>
<dd>x2 points of Config Unit radial, u8.0</dd>
<dt><code class="docutils literal notranslate"><span class="pre">x3</span></code></dt>
<dd>x3 points of Config Unit radial, u8.0</dd>
<dt><code class="docutils literal notranslate"><span class="pre">x4</span></code></dt>
<dd>x4 points of Config Unit radial, u8.0</dd>
<dt><code class="docutils literal notranslate"><span class="pre">x5</span></code></dt>
<dd>x5 points of Config Unit radial, u8.0</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">a01</span></code></dt>
<dd>Slope A of Config Unit radial, s7.8</dd>
<dt><code class="docutils literal notranslate"><span class="pre">a12</span></code></dt>
<dd>Slope A of Config Unit radial, s7.8</dd>
<dt><code class="docutils literal notranslate"><span class="pre">a23</span></code></dt>
<dd>Slope A of Config Unit radial, s7.8</dd>
<dt><code class="docutils literal notranslate"><span class="pre">a34</span></code></dt>
<dd>Slope A of Config Unit radial, s7.8</dd>
<dt><code class="docutils literal notranslate"><span class="pre">a45</span></code></dt>
<dd>Slope A of Config Unit radial, s7.8</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved2</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">b01</span></code></dt>
<dd>Slope B of Config Unit radial, s9.0</dd>
<dt><code class="docutils literal notranslate"><span class="pre">b12</span></code></dt>
<dd>Slope B of Config Unit radial, s9.0</dd>
<dt><code class="docutils literal notranslate"><span class="pre">b23</span></code></dt>
<dd>Slope B of Config Unit radial, s9.0</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved4</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">b34</span></code></dt>
<dd>Slope B of Config Unit radial, s9.0</dd>
<dt><code class="docutils literal notranslate"><span class="pre">b45</span></code></dt>
<dd>Slope B of Config Unit radial, s9.0</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved5</span></code></dt>
<dd>reserved</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_yuvp1_iefd_cfg_units">
struct <code class="descname">ipu3_uapi_yuvp1_iefd_cfg_units</code><a class="headerlink" href="#c.ipu3_uapi_yuvp1_iefd_cfg_units" title="Permalink to this definition">¶</a></dt>
<dd><p>IEFd Config Units parameters</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_yuvp1_iefd_cfg_units {
  struct ipu3_uapi_iefd_cux2 cu_1;
  struct ipu3_uapi_iefd_cux6_ed cu_ed;
  struct ipu3_uapi_iefd_cux2 cu_3;
  struct ipu3_uapi_iefd_cux2_1 cu_5;
  struct ipu3_uapi_iefd_cux4 cu_6;
  struct ipu3_uapi_iefd_cux2 cu_7;
  struct ipu3_uapi_iefd_cux4 cu_unsharp;
  struct ipu3_uapi_iefd_cux6_rad cu_radial;
  struct ipu3_uapi_iefd_cux2 cu_vssnlm;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">cu_1</span></code></dt>
<dd>calculate weight for blending directed and
non-directed denoise elements. See <a class="reference internal" href="#c.ipu3_uapi_iefd_cux2" title="ipu3_uapi_iefd_cux2"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_iefd_cux2</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">cu_ed</span></code></dt>
<dd>calculate power of non-directed sharpening element, see
<a class="reference internal" href="#c.ipu3_uapi_iefd_cux6_ed" title="ipu3_uapi_iefd_cux6_ed"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_iefd_cux6_ed</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">cu_3</span></code></dt>
<dd>calculate weight for blending directed and
non-directed denoise elements. A <a class="reference internal" href="#c.ipu3_uapi_iefd_cux2" title="ipu3_uapi_iefd_cux2"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_iefd_cux2</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">cu_5</span></code></dt>
<dd>calculate power of non-directed denoise element apply, use
<a class="reference internal" href="#c.ipu3_uapi_iefd_cux2_1" title="ipu3_uapi_iefd_cux2_1"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_iefd_cux2_1</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">cu_6</span></code></dt>
<dd>calculate power of non-directed sharpening element. See
<a class="reference internal" href="#c.ipu3_uapi_iefd_cux4" title="ipu3_uapi_iefd_cux4"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_iefd_cux4</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">cu_7</span></code></dt>
<dd>calculate weight for blending directed and
non-directed denoise elements. Use <a class="reference internal" href="#c.ipu3_uapi_iefd_cux2" title="ipu3_uapi_iefd_cux2"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_iefd_cux2</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">cu_unsharp</span></code></dt>
<dd>Config Unit of unsharp <a class="reference internal" href="#c.ipu3_uapi_iefd_cux4" title="ipu3_uapi_iefd_cux4"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_iefd_cux4</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">cu_radial</span></code></dt>
<dd>Config Unit of radial <a class="reference internal" href="#c.ipu3_uapi_iefd_cux6_rad" title="ipu3_uapi_iefd_cux6_rad"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_iefd_cux6_rad</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">cu_vssnlm</span></code></dt>
<dd>Config Unit of vssnlm <a class="reference internal" href="#c.ipu3_uapi_iefd_cux2" title="ipu3_uapi_iefd_cux2"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_iefd_cux2</span></code></a></dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_yuvp1_iefd_config_s">
struct <code class="descname">ipu3_uapi_yuvp1_iefd_config_s</code><a class="headerlink" href="#c.ipu3_uapi_yuvp1_iefd_config_s" title="Permalink to this definition">¶</a></dt>
<dd><p>IEFd config</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_yuvp1_iefd_config_s {
  __u32 horver_diag_coeff:7;
  __u32 reserved0:1;
  __u32 clamp_stitch:6;
  __u32 reserved1:2;
  __u32 direct_metric_update:5;
  __u32 reserved2:3;
  __u32 ed_horver_diag_coeff:7;
  __u32 reserved3:1;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">horver_diag_coeff</span></code></dt>
<dd>Gradient compensation. Compared with vertical /
horizontal (0 / 90 degree), coefficient of diagonal (45 /
135 degree) direction should be corrected by approx.
1/sqrt(2).</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved0</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">clamp_stitch</span></code></dt>
<dd>Slope to stitch between clamped and unclamped edge values</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">direct_metric_update</span></code></dt>
<dd>Update coeff for direction metric</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved2</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ed_horver_diag_coeff</span></code></dt>
<dd>Radial Coefficient that compensates for
different distance for vertical/horizontal and
diagonal gradient calculation (approx. 1/sqrt(2))</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved3</span></code></dt>
<dd>reserved</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_yuvp1_iefd_control">
struct <code class="descname">ipu3_uapi_yuvp1_iefd_control</code><a class="headerlink" href="#c.ipu3_uapi_yuvp1_iefd_control" title="Permalink to this definition">¶</a></dt>
<dd><p>IEFd control</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_yuvp1_iefd_control {
  __u32 iefd_en:1;
  __u32 denoise_en:1;
  __u32 direct_smooth_en:1;
  __u32 rad_en:1;
  __u32 vssnlm_en:1;
  __u32 reserved:27;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">iefd_en</span></code></dt>
<dd>Enable IEFd</dd>
<dt><code class="docutils literal notranslate"><span class="pre">denoise_en</span></code></dt>
<dd>Enable denoise</dd>
<dt><code class="docutils literal notranslate"><span class="pre">direct_smooth_en</span></code></dt>
<dd>Enable directional smooth</dd>
<dt><code class="docutils literal notranslate"><span class="pre">rad_en</span></code></dt>
<dd>Enable radial update</dd>
<dt><code class="docutils literal notranslate"><span class="pre">vssnlm_en</span></code></dt>
<dd>Enable VSSNLM output filter</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved</span></code></dt>
<dd>reserved</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_sharp_cfg">
struct <code class="descname">ipu3_uapi_sharp_cfg</code><a class="headerlink" href="#c.ipu3_uapi_sharp_cfg" title="Permalink to this definition">¶</a></dt>
<dd><p>Sharpening config</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_sharp_cfg {
  __u32 nega_lmt_txt:13;
  __u32 reserved0:19;
  __u32 posi_lmt_txt:13;
  __u32 reserved1:19;
  __u32 nega_lmt_dir:13;
  __u32 reserved2:19;
  __u32 posi_lmt_dir:13;
  __u32 reserved3:19;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">nega_lmt_txt</span></code></dt>
<dd>Sharpening limit for negative overshoots for texture.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved0</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">posi_lmt_txt</span></code></dt>
<dd>Sharpening limit for positive overshoots for texture.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nega_lmt_dir</span></code></dt>
<dd>Sharpening limit for negative overshoots for direction (edge).</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved2</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">posi_lmt_dir</span></code></dt>
<dd>Sharpening limit for positive overshoots for direction (edge).</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved3</span></code></dt>
<dd>reserved</dd>
</dl>
<p><strong>Description</strong></p>
<p>Fixed point type u13.0, range [0, 8191].</p>
<dl class="type">
<dt id="c.ipu3_uapi_far_w">
struct <code class="descname">ipu3_uapi_far_w</code><a class="headerlink" href="#c.ipu3_uapi_far_w" title="Permalink to this definition">¶</a></dt>
<dd><p>Sharpening config for far sub-group</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_far_w {
  __u32 dir_shrp:7;
  __u32 reserved0:1;
  __u32 dir_dns:7;
  __u32 reserved1:1;
  __u32 ndir_dns_powr:7;
  __u32 reserved2:9;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">dir_shrp</span></code></dt>
<dd>Weight of wide direct sharpening, u1.6, range [0, 64], default 64.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved0</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">dir_dns</span></code></dt>
<dd>Weight of wide direct denoising, u1.6, range [0, 64], default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ndir_dns_powr</span></code></dt>
<dd>Power of non-direct denoising,
Precision u1.6, range [0, 64], default 64.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved2</span></code></dt>
<dd>reserved</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_unsharp_cfg">
struct <code class="descname">ipu3_uapi_unsharp_cfg</code><a class="headerlink" href="#c.ipu3_uapi_unsharp_cfg" title="Permalink to this definition">¶</a></dt>
<dd><p>Unsharp config</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_unsharp_cfg {
  __u32 unsharp_weight:7;
  __u32 reserved0:1;
  __u32 unsharp_amount:9;
  __u32 reserved1:15;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">unsharp_weight</span></code></dt>
<dd>Unsharp mask blending weight.
u1.6, range [0, 64], default 16.
0 - disabled, 64 - use only unsharp.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved0</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">unsharp_amount</span></code></dt>
<dd>Unsharp mask amount, u4.5, range [0, 511], default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>reserved</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_yuvp1_iefd_shrp_cfg">
struct <code class="descname">ipu3_uapi_yuvp1_iefd_shrp_cfg</code><a class="headerlink" href="#c.ipu3_uapi_yuvp1_iefd_shrp_cfg" title="Permalink to this definition">¶</a></dt>
<dd><p>IEFd sharpness config</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_yuvp1_iefd_shrp_cfg {
  struct ipu3_uapi_sharp_cfg cfg;
  struct ipu3_uapi_far_w far_w;
  struct ipu3_uapi_unsharp_cfg unshrp_cfg;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">cfg</span></code></dt>
<dd>sharpness config <a class="reference internal" href="#c.ipu3_uapi_sharp_cfg" title="ipu3_uapi_sharp_cfg"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_sharp_cfg</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">far_w</span></code></dt>
<dd>wide range config, value as specified by <a class="reference internal" href="#c.ipu3_uapi_far_w" title="ipu3_uapi_far_w"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_far_w</span></code></a>:
The 5x5 environment is separated into 2 sub-groups, the 3x3 nearest
neighbors (8 pixels called Near), and the second order neighborhood
around them (16 pixels called Far).</dd>
<dt><code class="docutils literal notranslate"><span class="pre">unshrp_cfg</span></code></dt>
<dd>unsharpness config. <a class="reference internal" href="#c.ipu3_uapi_unsharp_cfg" title="ipu3_uapi_unsharp_cfg"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_unsharp_cfg</span></code></a></dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_unsharp_coef0">
struct <code class="descname">ipu3_uapi_unsharp_coef0</code><a class="headerlink" href="#c.ipu3_uapi_unsharp_coef0" title="Permalink to this definition">¶</a></dt>
<dd><p>Unsharp mask coefficients</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_unsharp_coef0 {
  __u32 c00:9;
  __u32 c01:9;
  __u32 c02:9;
  __u32 reserved:5;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">c00</span></code></dt>
<dd>Coeff11, s0.8, range [-255, 255], default 1.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">c01</span></code></dt>
<dd>Coeff12, s0.8, range [-255, 255], default 5.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">c02</span></code></dt>
<dd>Coeff13, s0.8, range [-255, 255], default 9.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved</span></code></dt>
<dd>reserved</dd>
</dl>
<p><strong>Description</strong></p>
<p>Configurable registers for common sharpening support.</p>
<dl class="type">
<dt id="c.ipu3_uapi_unsharp_coef1">
struct <code class="descname">ipu3_uapi_unsharp_coef1</code><a class="headerlink" href="#c.ipu3_uapi_unsharp_coef1" title="Permalink to this definition">¶</a></dt>
<dd><p>Unsharp mask coefficients</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_unsharp_coef1 {
  __u32 c11:9;
  __u32 c12:9;
  __u32 c22:9;
  __u32 reserved:5;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">c11</span></code></dt>
<dd>Coeff22, s0.8, range [-255, 255], default 29.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">c12</span></code></dt>
<dd>Coeff23, s0.8, range [-255, 255], default 55.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">c22</span></code></dt>
<dd>Coeff33, s0.8, range [-255, 255], default 96.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved</span></code></dt>
<dd>reserved</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_yuvp1_iefd_unshrp_cfg">
struct <code class="descname">ipu3_uapi_yuvp1_iefd_unshrp_cfg</code><a class="headerlink" href="#c.ipu3_uapi_yuvp1_iefd_unshrp_cfg" title="Permalink to this definition">¶</a></dt>
<dd><p>Unsharp mask config</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_yuvp1_iefd_unshrp_cfg {
  struct ipu3_uapi_unsharp_coef0 unsharp_coef0;
  struct ipu3_uapi_unsharp_coef1 unsharp_coef1;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">unsharp_coef0</span></code></dt>
<dd>unsharp coefficient 0 config. See <a class="reference internal" href="#c.ipu3_uapi_unsharp_coef0" title="ipu3_uapi_unsharp_coef0"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_unsharp_coef0</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">unsharp_coef1</span></code></dt>
<dd>unsharp coefficient 1 config. See <a class="reference internal" href="#c.ipu3_uapi_unsharp_coef1" title="ipu3_uapi_unsharp_coef1"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_unsharp_coef1</span></code></a></dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_radial_reset_xy">
struct <code class="descname">ipu3_uapi_radial_reset_xy</code><a class="headerlink" href="#c.ipu3_uapi_radial_reset_xy" title="Permalink to this definition">¶</a></dt>
<dd><p>Radial coordinate reset</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_radial_reset_xy {
  __s32 x:13;
  __u32 reserved0:3;
  __s32 y:13;
  __u32 reserved1:3;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">x</span></code></dt>
<dd>Radial reset of x coordinate. Precision s12, [-4095, 4095], default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved0</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y</span></code></dt>
<dd>Radial center y coordinate. Precision s12, [-4095, 4095], default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>reserved</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_radial_reset_x2">
struct <code class="descname">ipu3_uapi_radial_reset_x2</code><a class="headerlink" href="#c.ipu3_uapi_radial_reset_x2" title="Permalink to this definition">¶</a></dt>
<dd><p>Radial X^2 reset</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_radial_reset_x2 {
  __u32 x2:24;
  __u32 reserved:8;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">x2</span></code></dt>
<dd>Radial reset of x^2 coordinate. Precision u24, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved</span></code></dt>
<dd>reserved</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_radial_reset_y2">
struct <code class="descname">ipu3_uapi_radial_reset_y2</code><a class="headerlink" href="#c.ipu3_uapi_radial_reset_y2" title="Permalink to this definition">¶</a></dt>
<dd><p>Radial Y^2 reset</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_radial_reset_y2 {
  __u32 y2:24;
  __u32 reserved:8;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">y2</span></code></dt>
<dd>Radial reset of y^2 coordinate. Precision u24, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved</span></code></dt>
<dd>reserved</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_radial_cfg">
struct <code class="descname">ipu3_uapi_radial_cfg</code><a class="headerlink" href="#c.ipu3_uapi_radial_cfg" title="Permalink to this definition">¶</a></dt>
<dd><p>Radial config</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_radial_cfg {
  __u32 rad_nf:4;
  __u32 reserved0:4;
  __u32 rad_inv_r2:7;
  __u32 reserved1:17;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">rad_nf</span></code></dt>
<dd>Radial. R^2 normalization factor is scale down by 2^ - (15 + scale)</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved0</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">rad_inv_r2</span></code></dt>
<dd>Radial R^-2 normelized to (0.5..1).
Precision u7, range [0, 127].</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>reserved</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_rad_far_w">
struct <code class="descname">ipu3_uapi_rad_far_w</code><a class="headerlink" href="#c.ipu3_uapi_rad_far_w" title="Permalink to this definition">¶</a></dt>
<dd><p>Radial FAR sub-group</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_rad_far_w {
  __u32 rad_dir_far_sharp_w:8;
  __u32 rad_dir_far_dns_w:8;
  __u32 rad_ndir_far_dns_power:8;
  __u32 reserved:8;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">rad_dir_far_sharp_w</span></code></dt>
<dd>Weight of wide direct sharpening, u1.6, range [0, 64],
default 64.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">rad_dir_far_dns_w</span></code></dt>
<dd>Weight of wide direct denoising, u1.6, range [0, 64],
default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">rad_ndir_far_dns_power</span></code></dt>
<dd>power of non-direct sharpening, u1.6, range [0, 64],
default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved</span></code></dt>
<dd>reserved</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_cu_cfg0">
struct <code class="descname">ipu3_uapi_cu_cfg0</code><a class="headerlink" href="#c.ipu3_uapi_cu_cfg0" title="Permalink to this definition">¶</a></dt>
<dd><p>Radius Config Unit cfg0 register</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_cu_cfg0 {
  __u32 cu6_pow:7;
  __u32 reserved0:1;
  __u32 cu_unsharp_pow:7;
  __u32 reserved1:1;
  __u32 rad_cu6_pow:7;
  __u32 reserved2:1;
  __u32 rad_cu_unsharp_pow:6;
  __u32 reserved3:2;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">cu6_pow</span></code></dt>
<dd>Power of CU6. Power of non-direct sharpening, u3.4.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved0</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">cu_unsharp_pow</span></code></dt>
<dd>Power of unsharp mask, u2.4.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">rad_cu6_pow</span></code></dt>
<dd>Radial/corner CU6. Directed sharpening power, u3.4.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved2</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">rad_cu_unsharp_pow</span></code></dt>
<dd>Radial power of unsharp mask, u2.4.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved3</span></code></dt>
<dd>reserved</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_cu_cfg1">
struct <code class="descname">ipu3_uapi_cu_cfg1</code><a class="headerlink" href="#c.ipu3_uapi_cu_cfg1" title="Permalink to this definition">¶</a></dt>
<dd><p>Radius Config Unit cfg1 register</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_cu_cfg1 {
  __u32 rad_cu6_x1:9;
  __u32 reserved0:1;
  __u32 rad_cu_unsharp_x1:9;
  __u32 reserved1:13;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">rad_cu6_x1</span></code></dt>
<dd>X1 point of Config Unit 6, precision u9.0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved0</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">rad_cu_unsharp_x1</span></code></dt>
<dd>X1 point for Config Unit unsharp for radial/corner point
precision u9.0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>reserved</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_yuvp1_iefd_rad_cfg">
struct <code class="descname">ipu3_uapi_yuvp1_iefd_rad_cfg</code><a class="headerlink" href="#c.ipu3_uapi_yuvp1_iefd_rad_cfg" title="Permalink to this definition">¶</a></dt>
<dd><p>IEFd parameters changed radially over the picture plane.</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_yuvp1_iefd_rad_cfg {
  struct ipu3_uapi_radial_reset_xy reset_xy;
  struct ipu3_uapi_radial_reset_x2 reset_x2;
  struct ipu3_uapi_radial_reset_y2 reset_y2;
  struct ipu3_uapi_radial_cfg cfg;
  struct ipu3_uapi_rad_far_w rad_far_w;
  struct ipu3_uapi_cu_cfg0 cu_cfg0;
  struct ipu3_uapi_cu_cfg1 cu_cfg1;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">reset_xy</span></code></dt>
<dd>reset xy value in radial calculation. <a class="reference internal" href="#c.ipu3_uapi_radial_reset_xy" title="ipu3_uapi_radial_reset_xy"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_radial_reset_xy</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">reset_x2</span></code></dt>
<dd>reset x square value in radial calculation. See struct
<a class="reference internal" href="#c.ipu3_uapi_radial_reset_x2" title="ipu3_uapi_radial_reset_x2"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_radial_reset_x2</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">reset_y2</span></code></dt>
<dd>reset y square value in radial calculation. See struct
<a class="reference internal" href="#c.ipu3_uapi_radial_reset_y2" title="ipu3_uapi_radial_reset_y2"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_radial_reset_y2</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">cfg</span></code></dt>
<dd>radial config defined in <a class="reference internal" href="#c.ipu3_uapi_radial_cfg" title="ipu3_uapi_radial_cfg"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_radial_cfg</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">rad_far_w</span></code></dt>
<dd>weight for wide range radial. <a class="reference internal" href="#c.ipu3_uapi_rad_far_w" title="ipu3_uapi_rad_far_w"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_rad_far_w</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">cu_cfg0</span></code></dt>
<dd>configuration unit 0. See <a class="reference internal" href="#c.ipu3_uapi_cu_cfg0" title="ipu3_uapi_cu_cfg0"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_cu_cfg0</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">cu_cfg1</span></code></dt>
<dd>configuration unit 1. See <a class="reference internal" href="#c.ipu3_uapi_cu_cfg1" title="ipu3_uapi_cu_cfg1"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_cu_cfg1</span></code></a></dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_vss_lut_x">
struct <code class="descname">ipu3_uapi_vss_lut_x</code><a class="headerlink" href="#c.ipu3_uapi_vss_lut_x" title="Permalink to this definition">¶</a></dt>
<dd><p>Vssnlm LUT x0/x1/x2</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_vss_lut_x {
  __u32 vs_x0:8;
  __u32 vs_x1:8;
  __u32 vs_x2:8;
  __u32 reserved2:8;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">vs_x0</span></code></dt>
<dd>Vssnlm LUT x0, precision u8, range [0, 255], default 16.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">vs_x1</span></code></dt>
<dd>Vssnlm LUT x1, precision u8, range [0, 255], default 32.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">vs_x2</span></code></dt>
<dd>Vssnlm LUT x2, precision u8, range [0, 255], default 64.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved2</span></code></dt>
<dd>reserved</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_vss_lut_y">
struct <code class="descname">ipu3_uapi_vss_lut_y</code><a class="headerlink" href="#c.ipu3_uapi_vss_lut_y" title="Permalink to this definition">¶</a></dt>
<dd><p>Vssnlm LUT y0/y1/y2</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_vss_lut_y {
  __u32 vs_y1:4;
  __u32 reserved0:4;
  __u32 vs_y2:4;
  __u32 reserved1:4;
  __u32 vs_y3:4;
  __u32 reserved2:12;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">vs_y1</span></code></dt>
<dd>Vssnlm LUT y1, precision u4, range [0, 8], default 1.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved0</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">vs_y2</span></code></dt>
<dd>Vssnlm LUT y2, precision u4, range [0, 8], default 3.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">vs_y3</span></code></dt>
<dd>Vssnlm LUT y3, precision u4, range [0, 8], default 8.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved2</span></code></dt>
<dd>reserved</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_yuvp1_iefd_vssnlm_cfg">
struct <code class="descname">ipu3_uapi_yuvp1_iefd_vssnlm_cfg</code><a class="headerlink" href="#c.ipu3_uapi_yuvp1_iefd_vssnlm_cfg" title="Permalink to this definition">¶</a></dt>
<dd><p>IEFd Vssnlm Lookup table</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_yuvp1_iefd_vssnlm_cfg {
  struct ipu3_uapi_vss_lut_x vss_lut_x;
  struct ipu3_uapi_vss_lut_y vss_lut_y;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">vss_lut_x</span></code></dt>
<dd>vss lookup table. See <a class="reference internal" href="#c.ipu3_uapi_vss_lut_x" title="ipu3_uapi_vss_lut_x"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_vss_lut_x</span></code></a> description</dd>
<dt><code class="docutils literal notranslate"><span class="pre">vss_lut_y</span></code></dt>
<dd>vss lookup table. See <a class="reference internal" href="#c.ipu3_uapi_vss_lut_y" title="ipu3_uapi_vss_lut_y"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_vss_lut_y</span></code></a> description</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_yuvp1_iefd_config">
struct <code class="descname">ipu3_uapi_yuvp1_iefd_config</code><a class="headerlink" href="#c.ipu3_uapi_yuvp1_iefd_config" title="Permalink to this definition">¶</a></dt>
<dd><p>IEFd config</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_yuvp1_iefd_config {
  struct ipu3_uapi_yuvp1_iefd_cfg_units units;
  struct ipu3_uapi_yuvp1_iefd_config_s config;
  struct ipu3_uapi_yuvp1_iefd_control control;
  struct ipu3_uapi_yuvp1_iefd_shrp_cfg sharp;
  struct ipu3_uapi_yuvp1_iefd_unshrp_cfg unsharp;
  struct ipu3_uapi_yuvp1_iefd_rad_cfg rad;
  struct ipu3_uapi_yuvp1_iefd_vssnlm_cfg vsslnm;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">units</span></code></dt>
<dd>configuration unit setting, <a class="reference internal" href="#c.ipu3_uapi_yuvp1_iefd_cfg_units" title="ipu3_uapi_yuvp1_iefd_cfg_units"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_yuvp1_iefd_cfg_units</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">config</span></code></dt>
<dd>configuration, as defined by <a class="reference internal" href="#c.ipu3_uapi_yuvp1_iefd_config_s" title="ipu3_uapi_yuvp1_iefd_config_s"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_yuvp1_iefd_config_s</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">control</span></code></dt>
<dd>control setting, as defined by <a class="reference internal" href="#c.ipu3_uapi_yuvp1_iefd_control" title="ipu3_uapi_yuvp1_iefd_control"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_yuvp1_iefd_control</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">sharp</span></code></dt>
<dd>sharpness setting, as defined by <a class="reference internal" href="#c.ipu3_uapi_yuvp1_iefd_shrp_cfg" title="ipu3_uapi_yuvp1_iefd_shrp_cfg"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_yuvp1_iefd_shrp_cfg</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">unsharp</span></code></dt>
<dd>unsharpness setting, as defined by <a class="reference internal" href="#c.ipu3_uapi_yuvp1_iefd_unshrp_cfg" title="ipu3_uapi_yuvp1_iefd_unshrp_cfg"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_yuvp1_iefd_unshrp_cfg</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">rad</span></code></dt>
<dd>radial setting, as defined by <a class="reference internal" href="#c.ipu3_uapi_yuvp1_iefd_rad_cfg" title="ipu3_uapi_yuvp1_iefd_rad_cfg"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_yuvp1_iefd_rad_cfg</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">vsslnm</span></code></dt>
<dd>vsslnm setting, as defined by <a class="reference internal" href="#c.ipu3_uapi_yuvp1_iefd_vssnlm_cfg" title="ipu3_uapi_yuvp1_iefd_vssnlm_cfg"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_yuvp1_iefd_vssnlm_cfg</span></code></a></dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_yuvp1_yds_config">
struct <code class="descname">ipu3_uapi_yuvp1_yds_config</code><a class="headerlink" href="#c.ipu3_uapi_yuvp1_yds_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Y Down-Sampling config</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_yuvp1_yds_config {
  __u32 c00:2;
  __u32 c01:2;
  __u32 c02:2;
  __u32 c03:2;
  __u32 c10:2;
  __u32 c11:2;
  __u32 c12:2;
  __u32 c13:2;
  __u32 norm_factor:5;
  __u32 reserved0:4;
  __u32 bin_output:1;
  __u32 reserved1:6;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">c00</span></code></dt>
<dd>range [0, 3], default 0x0</dd>
<dt><code class="docutils literal notranslate"><span class="pre">c01</span></code></dt>
<dd>range [0, 3], default 0x1</dd>
<dt><code class="docutils literal notranslate"><span class="pre">c02</span></code></dt>
<dd>range [0, 3], default 0x1</dd>
<dt><code class="docutils literal notranslate"><span class="pre">c03</span></code></dt>
<dd>range [0, 3], default 0x0</dd>
<dt><code class="docutils literal notranslate"><span class="pre">c10</span></code></dt>
<dd>range [0, 3], default 0x0</dd>
<dt><code class="docutils literal notranslate"><span class="pre">c11</span></code></dt>
<dd>range [0, 3], default 0x1</dd>
<dt><code class="docutils literal notranslate"><span class="pre">c12</span></code></dt>
<dd>range [0, 3], default 0x1</dd>
<dt><code class="docutils literal notranslate"><span class="pre">c13</span></code></dt>
<dd>range [0, 3], default 0x0</dd>
<dt><code class="docutils literal notranslate"><span class="pre">norm_factor</span></code></dt>
<dd>Normalization factor, range [0, 4], default 2
0 - divide by 1
1 - divide by 2
2 - divide by 4
3 - divide by 8
4 - divide by 16</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved0</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bin_output</span></code></dt>
<dd>Down sampling on Luma channel in two optional modes
0 - Bin output 4.2.0 (default), 1 output 4.2.2.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>reserved</dd>
</dl>
<p><strong>Description</strong></p>
<p>Above are 4x2 filter coefficients for chroma output downscaling.</p>
<dl class="type">
<dt id="c.ipu3_uapi_yuvp1_chnr_enable_config">
struct <code class="descname">ipu3_uapi_yuvp1_chnr_enable_config</code><a class="headerlink" href="#c.ipu3_uapi_yuvp1_chnr_enable_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Chroma noise reduction enable</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_yuvp1_chnr_enable_config {
  __u32 enable:1;
  __u32 yuv_mode:1;
  __u32 reserved0:14;
  __u32 col_size:12;
  __u32 reserved1:4;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">enable</span></code></dt>
<dd>enable/disable chroma noise reduction</dd>
<dt><code class="docutils literal notranslate"><span class="pre">yuv_mode</span></code></dt>
<dd>0 - YUV420, 1 - YUV422</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved0</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">col_size</span></code></dt>
<dd>number of columns in the frame, max width is 2560</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>reserved</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_yuvp1_chnr_coring_config">
struct <code class="descname">ipu3_uapi_yuvp1_chnr_coring_config</code><a class="headerlink" href="#c.ipu3_uapi_yuvp1_chnr_coring_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Coring thresholds for UV</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_yuvp1_chnr_coring_config {
  __u32 u:13;
  __u32 reserved0:3;
  __u32 v:13;
  __u32 reserved1:3;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">u</span></code></dt>
<dd>U coring level, u0.13, range [0.0, 1.0], default 0.0</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved0</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">v</span></code></dt>
<dd>V coring level, u0.13, range [0.0, 1.0], default 0.0</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>reserved</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_yuvp1_chnr_sense_gain_config">
struct <code class="descname">ipu3_uapi_yuvp1_chnr_sense_gain_config</code><a class="headerlink" href="#c.ipu3_uapi_yuvp1_chnr_sense_gain_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Chroma noise reduction gains</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_yuvp1_chnr_sense_gain_config {
  __u32 vy:8;
  __u32 vu:8;
  __u32 vv:8;
  __u32 reserved0:8;
  __u32 hy:8;
  __u32 hu:8;
  __u32 hv:8;
  __u32 reserved1:8;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">vy</span></code></dt>
<dd>Sensitivity of horizontal edge of Y, default 100</dd>
<dt><code class="docutils literal notranslate"><span class="pre">vu</span></code></dt>
<dd>Sensitivity of horizontal edge of U, default 100</dd>
<dt><code class="docutils literal notranslate"><span class="pre">vv</span></code></dt>
<dd>Sensitivity of horizontal edge of V, default 100</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved0</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">hy</span></code></dt>
<dd>Sensitivity of vertical edge of Y, default 50</dd>
<dt><code class="docutils literal notranslate"><span class="pre">hu</span></code></dt>
<dd>Sensitivity of vertical edge of U, default 50</dd>
<dt><code class="docutils literal notranslate"><span class="pre">hv</span></code></dt>
<dd>Sensitivity of vertical edge of V, default 50</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>reserved</dd>
</dl>
<p><strong>Description</strong></p>
<p>All sensitivity gain parameters have precision u13.0, range [0, 8191].</p>
<dl class="type">
<dt id="c.ipu3_uapi_yuvp1_chnr_iir_fir_config">
struct <code class="descname">ipu3_uapi_yuvp1_chnr_iir_fir_config</code><a class="headerlink" href="#c.ipu3_uapi_yuvp1_chnr_iir_fir_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Chroma IIR/FIR filter config</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_yuvp1_chnr_iir_fir_config {
  __u32 fir_0h:6;
  __u32 reserved0:2;
  __u32 fir_1h:6;
  __u32 reserved1:2;
  __u32 fir_2h:6;
  __u32 dalpha_clip_val:9;
  __u32 reserved2:1;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">fir_0h</span></code></dt>
<dd>Value of center tap in horizontal FIR, range [0, 32], default 8.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved0</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">fir_1h</span></code></dt>
<dd>Value of distance 1 in horizontal FIR, range [0, 32], default 12.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">fir_2h</span></code></dt>
<dd>Value of distance 2 tap in horizontal FIR, range [0, 32], default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">dalpha_clip_val</span></code></dt>
<dd>weight for previous row in IIR, range [1, 256], default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved2</span></code></dt>
<dd>reserved</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_yuvp1_chnr_config">
struct <code class="descname">ipu3_uapi_yuvp1_chnr_config</code><a class="headerlink" href="#c.ipu3_uapi_yuvp1_chnr_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Chroma noise reduction config</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_yuvp1_chnr_config {
  struct ipu3_uapi_yuvp1_chnr_enable_config enable;
  struct ipu3_uapi_yuvp1_chnr_coring_config coring;
  struct ipu3_uapi_yuvp1_chnr_sense_gain_config sense_gain;
  struct ipu3_uapi_yuvp1_chnr_iir_fir_config iir_fir;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">enable</span></code></dt>
<dd>chroma noise reduction enable, see
<a class="reference internal" href="#c.ipu3_uapi_yuvp1_chnr_enable_config" title="ipu3_uapi_yuvp1_chnr_enable_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_yuvp1_chnr_enable_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">coring</span></code></dt>
<dd>coring config for chroma noise reduction, see
<a class="reference internal" href="#c.ipu3_uapi_yuvp1_chnr_coring_config" title="ipu3_uapi_yuvp1_chnr_coring_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_yuvp1_chnr_coring_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">sense_gain</span></code></dt>
<dd>sensitivity config for chroma noise reduction, see
ipu3_uapi_yuvp1_chnr_sense_gain_config</dd>
<dt><code class="docutils literal notranslate"><span class="pre">iir_fir</span></code></dt>
<dd>iir and fir config for chroma noise reduction, see
ipu3_uapi_yuvp1_chnr_iir_fir_config</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_yuvp1_y_ee_nr_lpf_config">
struct <code class="descname">ipu3_uapi_yuvp1_y_ee_nr_lpf_config</code><a class="headerlink" href="#c.ipu3_uapi_yuvp1_y_ee_nr_lpf_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Luma(Y) edge enhancement low-pass filter coefficients</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_yuvp1_y_ee_nr_lpf_config {
  __u32 a_diag:5;
  __u32 reserved0:3;
  __u32 a_periph:5;
  __u32 reserved1:3;
  __u32 a_cent:5;
  __u32 reserved2:9;
  __u32 enable:1;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">a_diag</span></code></dt>
<dd>Smoothing diagonal coefficient, u5.0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved0</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">a_periph</span></code></dt>
<dd>Image smoothing perpherial, u5.0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">a_cent</span></code></dt>
<dd>Image Smoothing center coefficient, u5.0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved2</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">enable</span></code></dt>
<dd>0: Y_EE_NR disabled, output = input; 1: Y_EE_NR enabled.</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_yuvp1_y_ee_nr_sense_config">
struct <code class="descname">ipu3_uapi_yuvp1_y_ee_nr_sense_config</code><a class="headerlink" href="#c.ipu3_uapi_yuvp1_y_ee_nr_sense_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Luma(Y) edge enhancement noise reduction sensitivity gains</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_yuvp1_y_ee_nr_sense_config {
  __u32 edge_sense_0:13;
  __u32 reserved0:3;
  __u32 delta_edge_sense:13;
  __u32 reserved1:3;
  __u32 corner_sense_0:13;
  __u32 reserved2:3;
  __u32 delta_corner_sense:13;
  __u32 reserved3:3;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">edge_sense_0</span></code></dt>
<dd>Sensitivity of edge in dark area. u13.0, default 8191.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved0</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">delta_edge_sense</span></code></dt>
<dd>Difference in the sensitivity of edges between
the bright and dark areas. u13.0, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">corner_sense_0</span></code></dt>
<dd>Sensitivity of corner in dark area. u13.0, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved2</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">delta_corner_sense</span></code></dt>
<dd>Difference in the sensitivity of corners between
the bright and dark areas. u13.0, default 8191.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved3</span></code></dt>
<dd>reserved</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_yuvp1_y_ee_nr_gain_config">
struct <code class="descname">ipu3_uapi_yuvp1_y_ee_nr_gain_config</code><a class="headerlink" href="#c.ipu3_uapi_yuvp1_y_ee_nr_gain_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Luma(Y) edge enhancement noise reduction gain config</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_yuvp1_y_ee_nr_gain_config {
  __u32 gain_pos_0:5;
  __u32 reserved0:3;
  __u32 delta_gain_posi:5;
  __u32 reserved1:3;
  __u32 gain_neg_0:5;
  __u32 reserved2:3;
  __u32 delta_gain_neg:5;
  __u32 reserved3:3;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">gain_pos_0</span></code></dt>
<dd>Gain for positive edge in dark area. u5.0, [0, 16], default 2.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved0</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">delta_gain_posi</span></code></dt>
<dd>Difference in the gain of edges between the bright and
dark areas for positive edges. u5.0, [0, 16], default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gain_neg_0</span></code></dt>
<dd>Gain for negative edge in dark area. u5.0, [0, 16], default 8.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved2</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">delta_gain_neg</span></code></dt>
<dd>Difference in the gain of edges between the bright and
dark areas for negative edges. u5.0, [0, 16], default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved3</span></code></dt>
<dd>reserved</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_yuvp1_y_ee_nr_clip_config">
struct <code class="descname">ipu3_uapi_yuvp1_y_ee_nr_clip_config</code><a class="headerlink" href="#c.ipu3_uapi_yuvp1_y_ee_nr_clip_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Luma(Y) edge enhancement noise reduction clipping config</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_yuvp1_y_ee_nr_clip_config {
  __u32 clip_pos_0:5;
  __u32 reserved0:3;
  __u32 delta_clip_posi:5;
  __u32 reserved1:3;
  __u32 clip_neg_0:5;
  __u32 reserved2:3;
  __u32 delta_clip_neg:5;
  __u32 reserved3:3;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">clip_pos_0</span></code></dt>
<dd>Limit of positive edge in dark area
u5, value [0, 16], default 8.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved0</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">delta_clip_posi</span></code></dt>
<dd>Difference in the limit of edges between the bright
and dark areas for positive edges.
u5, value [0, 16], default 8.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">clip_neg_0</span></code></dt>
<dd>Limit of negative edge in dark area
u5, value [0, 16], default 8.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved2</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">delta_clip_neg</span></code></dt>
<dd>Difference in the limit of edges between the bright
and dark areas for negative edges.
u5, value [0, 16], default 8.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved3</span></code></dt>
<dd>reserved</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_yuvp1_y_ee_nr_frng_config">
struct <code class="descname">ipu3_uapi_yuvp1_y_ee_nr_frng_config</code><a class="headerlink" href="#c.ipu3_uapi_yuvp1_y_ee_nr_frng_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Luma(Y) edge enhancement noise reduction fringe config</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_yuvp1_y_ee_nr_frng_config {
  __u32 gain_exp:4;
  __u32 reserved0:28;
  __u32 min_edge:13;
  __u32 reserved1:3;
  __u32 lin_seg_param:4;
  __u32 reserved2:4;
  __u32 t1:1;
  __u32 t2:1;
  __u32 reserved3:6;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">gain_exp</span></code></dt>
<dd>Common exponent of gains, u4, [0, 8], default 2.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved0</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">min_edge</span></code></dt>
<dd>Threshold for edge and smooth stitching, u13.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">lin_seg_param</span></code></dt>
<dd>Power of LinSeg, u4.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved2</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">t1</span></code></dt>
<dd>Parameter for enabling/disabling the edge enhancement, u1.0, [0, 1],
default 1.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">t2</span></code></dt>
<dd>Parameter for enabling/disabling the smoothing, u1.0, [0, 1],
default 1.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved3</span></code></dt>
<dd>reserved</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_yuvp1_y_ee_nr_diag_config">
struct <code class="descname">ipu3_uapi_yuvp1_y_ee_nr_diag_config</code><a class="headerlink" href="#c.ipu3_uapi_yuvp1_y_ee_nr_diag_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Luma(Y) edge enhancement noise reduction diagonal config</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_yuvp1_y_ee_nr_diag_config {
  __u32 diag_disc_g:4;
  __u32 reserved0:4;
  __u32 hvw_hor:4;
  __u32 dw_hor:4;
  __u32 hvw_diag:4;
  __u32 dw_diag:4;
  __u32 reserved1:8;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">diag_disc_g</span></code></dt>
<dd>Coefficient that prioritize diagonal edge direction on
horizontal or vertical for final enhancement.
u4.0, [1, 15], default 1.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved0</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">hvw_hor</span></code></dt>
<dd>Weight of horizontal/vertical edge enhancement for hv edge.
u2.2, [1, 15], default 4.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">dw_hor</span></code></dt>
<dd>Weight of diagonal edge enhancement for hv edge.
u2.2, [1, 15], default 1.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">hvw_diag</span></code></dt>
<dd>Weight of horizontal/vertical edge enhancement for diagonal edge.
u2.2, [1, 15], default 1.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">dw_diag</span></code></dt>
<dd>Weight of diagonal edge enhancement for diagonal edge.
u2.2, [1, 15], default 4.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>reserved</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_yuvp1_y_ee_nr_fc_coring_config">
struct <code class="descname">ipu3_uapi_yuvp1_y_ee_nr_fc_coring_config</code><a class="headerlink" href="#c.ipu3_uapi_yuvp1_y_ee_nr_fc_coring_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Luma(Y) edge enhancement noise reduction false color correction (FCC) coring config</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_yuvp1_y_ee_nr_fc_coring_config {
  __u32 pos_0:13;
  __u32 reserved0:3;
  __u32 pos_delta:13;
  __u32 reserved1:3;
  __u32 neg_0:13;
  __u32 reserved2:3;
  __u32 neg_delta:13;
  __u32 reserved3:3;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">pos_0</span></code></dt>
<dd>Gain for positive edge in dark, u13.0, [0, 16], default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved0</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pos_delta</span></code></dt>
<dd>Gain for positive edge in bright, value: pos_0 + pos_delta &lt;=16
u13.0, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">neg_0</span></code></dt>
<dd>Gain for negative edge in dark area, u13.0, range [0, 16], default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved2</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">neg_delta</span></code></dt>
<dd>Gain for negative edge in bright area. neg_0 + neg_delta &lt;=16
u13.0, default 0.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved3</span></code></dt>
<dd>reserved</dd>
</dl>
<p><strong>Description</strong></p>
<p>Coring is a simple soft thresholding technique.</p>
<dl class="type">
<dt id="c.ipu3_uapi_yuvp1_y_ee_nr_config">
struct <code class="descname">ipu3_uapi_yuvp1_y_ee_nr_config</code><a class="headerlink" href="#c.ipu3_uapi_yuvp1_y_ee_nr_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Edge enhancement and noise reduction</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_yuvp1_y_ee_nr_config {
  struct ipu3_uapi_yuvp1_y_ee_nr_lpf_config lpf;
  struct ipu3_uapi_yuvp1_y_ee_nr_sense_config sense;
  struct ipu3_uapi_yuvp1_y_ee_nr_gain_config gain;
  struct ipu3_uapi_yuvp1_y_ee_nr_clip_config clip;
  struct ipu3_uapi_yuvp1_y_ee_nr_frng_config frng;
  struct ipu3_uapi_yuvp1_y_ee_nr_diag_config diag;
  struct ipu3_uapi_yuvp1_y_ee_nr_fc_coring_config fc_coring;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">lpf</span></code></dt>
<dd>low-pass filter config. See <a class="reference internal" href="#c.ipu3_uapi_yuvp1_y_ee_nr_lpf_config" title="ipu3_uapi_yuvp1_y_ee_nr_lpf_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_yuvp1_y_ee_nr_lpf_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">sense</span></code></dt>
<dd>sensitivity config. See <a class="reference internal" href="#c.ipu3_uapi_yuvp1_y_ee_nr_sense_config" title="ipu3_uapi_yuvp1_y_ee_nr_sense_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_yuvp1_y_ee_nr_sense_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">gain</span></code></dt>
<dd>gain config as defined in <a class="reference internal" href="#c.ipu3_uapi_yuvp1_y_ee_nr_gain_config" title="ipu3_uapi_yuvp1_y_ee_nr_gain_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_yuvp1_y_ee_nr_gain_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">clip</span></code></dt>
<dd>clip config as defined in <a class="reference internal" href="#c.ipu3_uapi_yuvp1_y_ee_nr_clip_config" title="ipu3_uapi_yuvp1_y_ee_nr_clip_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_yuvp1_y_ee_nr_clip_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">frng</span></code></dt>
<dd>fringe config as defined in <a class="reference internal" href="#c.ipu3_uapi_yuvp1_y_ee_nr_frng_config" title="ipu3_uapi_yuvp1_y_ee_nr_frng_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_yuvp1_y_ee_nr_frng_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">diag</span></code></dt>
<dd>diagonal edge config. See <a class="reference internal" href="#c.ipu3_uapi_yuvp1_y_ee_nr_diag_config" title="ipu3_uapi_yuvp1_y_ee_nr_diag_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_yuvp1_y_ee_nr_diag_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">fc_coring</span></code></dt>
<dd>coring config for fringe control. See
<a class="reference internal" href="#c.ipu3_uapi_yuvp1_y_ee_nr_fc_coring_config" title="ipu3_uapi_yuvp1_y_ee_nr_fc_coring_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_yuvp1_y_ee_nr_fc_coring_config</span></code></a></dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_yuvp2_tcc_gen_control_static_config">
struct <code class="descname">ipu3_uapi_yuvp2_tcc_gen_control_static_config</code><a class="headerlink" href="#c.ipu3_uapi_yuvp2_tcc_gen_control_static_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Total color correction general control config</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_yuvp2_tcc_gen_control_static_config {
  __u32 en:1;
  __u32 blend_shift:3;
  __u32 gain_according_to_y_only:1;
  __u32 reserved0:11;
  __s32 gamma:5;
  __u32 reserved1:3;
  __s32 delta:5;
  __u32 reserved2:3;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">en</span></code></dt>
<dd>0 - TCC disabled. Output = input 1 - TCC enabled.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">blend_shift</span></code></dt>
<dd>blend shift, Range[3, 4], default NA.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gain_according_to_y_only</span></code></dt>
<dd>0: Gain is calculated according to YUV,
1: Gain is calculated according to Y only</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved0</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gamma</span></code></dt>
<dd>Final blending coefficients. Values[-16, 16], default NA.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">delta</span></code></dt>
<dd>Final blending coefficients. Values[-16, 16], default NA.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved2</span></code></dt>
<dd>reserved</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_yuvp2_tcc_macc_elem_static_config">
struct <code class="descname">ipu3_uapi_yuvp2_tcc_macc_elem_static_config</code><a class="headerlink" href="#c.ipu3_uapi_yuvp2_tcc_macc_elem_static_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Total color correction multi-axis color control (MACC) config</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_yuvp2_tcc_macc_elem_static_config {
  __s32 a:12;
  __u32 reserved0:4;
  __s32 b:12;
  __u32 reserved1:4;
  __s32 c:12;
  __u32 reserved2:4;
  __s32 d:12;
  __u32 reserved3:4;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">a</span></code></dt>
<dd>a coefficient for 2x2 MACC conversion matrix.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved0</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">b</span></code></dt>
<dd>b coefficient  2x2 MACC conversion matrix.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">c</span></code></dt>
<dd>c coefficient for 2x2 MACC conversion matrix.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved2</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">d</span></code></dt>
<dd>d coefficient for 2x2 MACC conversion matrix.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved3</span></code></dt>
<dd>reserved</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_yuvp2_tcc_macc_table_static_config">
struct <code class="descname">ipu3_uapi_yuvp2_tcc_macc_table_static_config</code><a class="headerlink" href="#c.ipu3_uapi_yuvp2_tcc_macc_table_static_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Total color correction multi-axis color control (MACC) table array</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_yuvp2_tcc_macc_table_static_config {
  struct ipu3_uapi_yuvp2_tcc_macc_elem_static_config entries[IPU3_UAPI_YUVP2_TCC_MACC_TABLE_ELEMENTS];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">entries</span></code></dt>
<dd>config for multi axis color correction, as specified by
<a class="reference internal" href="#c.ipu3_uapi_yuvp2_tcc_macc_elem_static_config" title="ipu3_uapi_yuvp2_tcc_macc_elem_static_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_yuvp2_tcc_macc_elem_static_config</span></code></a></dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_yuvp2_tcc_inv_y_lut_static_config">
struct <code class="descname">ipu3_uapi_yuvp2_tcc_inv_y_lut_static_config</code><a class="headerlink" href="#c.ipu3_uapi_yuvp2_tcc_inv_y_lut_static_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Total color correction inverse y lookup table</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_yuvp2_tcc_inv_y_lut_static_config {
  __u16 entries[IPU3_UAPI_YUVP2_TCC_INV_Y_LUT_ELEMENTS];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">entries</span></code></dt>
<dd>lookup table for inverse y estimation, and use it to estimate the
ratio between luma and chroma. Chroma by approximate the absolute
value of the radius on the chroma plane (R = sqrt(u^2+v^2) ) and
luma by approximate by 1/Y.</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_yuvp2_tcc_gain_pcwl_lut_static_config">
struct <code class="descname">ipu3_uapi_yuvp2_tcc_gain_pcwl_lut_static_config</code><a class="headerlink" href="#c.ipu3_uapi_yuvp2_tcc_gain_pcwl_lut_static_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Total color correction lookup table for PCWL</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_yuvp2_tcc_gain_pcwl_lut_static_config {
  __u16 entries[IPU3_UAPI_YUVP2_TCC_GAIN_PCWL_LUT_ELEMENTS];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">entries</span></code></dt>
<dd>lookup table for gain piece wise linear transformation (PCWL)</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_yuvp2_tcc_r_sqr_lut_static_config">
struct <code class="descname">ipu3_uapi_yuvp2_tcc_r_sqr_lut_static_config</code><a class="headerlink" href="#c.ipu3_uapi_yuvp2_tcc_r_sqr_lut_static_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Total color correction lookup table for r square root</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_yuvp2_tcc_r_sqr_lut_static_config {
  __s16 entries[IPU3_UAPI_YUVP2_TCC_R_SQR_LUT_ELEMENTS];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">entries</span></code></dt>
<dd>lookup table for r square root estimation</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_yuvp2_tcc_static_config">
struct <code class="descname">ipu3_uapi_yuvp2_tcc_static_config</code><a class="headerlink" href="#c.ipu3_uapi_yuvp2_tcc_static_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Total color correction static</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_yuvp2_tcc_static_config {
  struct ipu3_uapi_yuvp2_tcc_gen_control_static_config gen_control;
  struct ipu3_uapi_yuvp2_tcc_macc_table_static_config macc_table;
  struct ipu3_uapi_yuvp2_tcc_inv_y_lut_static_config inv_y_lut;
  struct ipu3_uapi_yuvp2_tcc_gain_pcwl_lut_static_config gain_pcwl;
  struct ipu3_uapi_yuvp2_tcc_r_sqr_lut_static_config r_sqr_lut;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">gen_control</span></code></dt>
<dd>general config for Total Color Correction</dd>
<dt><code class="docutils literal notranslate"><span class="pre">macc_table</span></code></dt>
<dd>config for multi axis color correction</dd>
<dt><code class="docutils literal notranslate"><span class="pre">inv_y_lut</span></code></dt>
<dd>lookup table for inverse y estimation</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gain_pcwl</span></code></dt>
<dd>lookup table for gain PCWL</dd>
<dt><code class="docutils literal notranslate"><span class="pre">r_sqr_lut</span></code></dt>
<dd>lookup table for r square root estimation.</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_anr_transform_config">
struct <code class="descname">ipu3_uapi_anr_transform_config</code><a class="headerlink" href="#c.ipu3_uapi_anr_transform_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Advanced noise reduction transform</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_anr_transform_config {
  __u32 enable:1;
  __u32 adaptive_treshhold_en:1;
  __u32 reserved1:30;
  __u8 reserved2[44];
  struct ipu3_uapi_anr_alpha alpha[3];
  struct ipu3_uapi_anr_beta beta[3];
  struct ipu3_uapi_anr_plane_color color[3];
  __u16 sqrt_lut[IPU3_UAPI_ANR_LUT_SIZE];
  __s16 xreset:13;
  __u16 reserved3:3;
  __s16 yreset:13;
  __u16 reserved4:3;
  __u32 x_sqr_reset:24;
  __u32 r_normfactor:5;
  __u32 reserved5:3;
  __u32 y_sqr_reset:24;
  __u32 gain_scale:8;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">enable</span></code></dt>
<dd>advanced noise reduction enabled.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">adaptive_treshhold_en</span></code></dt>
<dd>On IPU3, adaptive threshold is always enabled.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved2</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">alpha</span></code></dt>
<dd>using following defaults:
13, 13, 13, 13, 0, 0, 0, 0
11, 11, 11, 11, 0, 0, 0, 0
14,  14, 14, 14, 0, 0, 0, 0</dd>
<dt><code class="docutils literal notranslate"><span class="pre">beta</span></code></dt>
<dd>use following defaults:
24, 24, 24, 24
21, 20, 20, 21
25, 25, 25, 25</dd>
<dt><code class="docutils literal notranslate"><span class="pre">color</span></code></dt>
<dd>use defaults defined in driver/media/pci/intel/ipu3-tables.c</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sqrt_lut</span></code></dt>
<dd>11 bits per element, values =
[724 768 810 849 887
923 958 991 1024 1056
1116 1145 1173 1201 1086
1228 1254 1280 1305 1330
1355 1379 1402 1425 1448]</dd>
<dt><code class="docutils literal notranslate"><span class="pre">xreset</span></code></dt>
<dd>Reset value of X for r^2 calculation Value: col_start-X_center
Constraint: Xreset + FrameWdith=4095 Xreset= -4095, default -1632.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved3</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">yreset</span></code></dt>
<dd>Reset value of Y for r^2 calculation Value: row_start-Y_center
Constraint: Yreset + FrameHeight=4095 Yreset= -4095, default -1224.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved4</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">x_sqr_reset</span></code></dt>
<dd>Reset value of X^2 for r^2 calculation Value = (Xreset)^2</dd>
<dt><code class="docutils literal notranslate"><span class="pre">r_normfactor</span></code></dt>
<dd>Normalization factor for R. Default 14.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved5</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y_sqr_reset</span></code></dt>
<dd>Reset value of Y^2 for r^2 calculation Value = (Yreset)^2</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gain_scale</span></code></dt>
<dd>Parameter describing shading gain as a function of distance
from the image center.
A single value per frame, loaded by the driver. Default 115.</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_anr_stitch_pyramid">
struct <code class="descname">ipu3_uapi_anr_stitch_pyramid</code><a class="headerlink" href="#c.ipu3_uapi_anr_stitch_pyramid" title="Permalink to this definition">¶</a></dt>
<dd><p>ANR stitch pyramid</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_anr_stitch_pyramid {
  __u32 entry0:6;
  __u32 entry1:6;
  __u32 entry2:6;
  __u32 reserved:14;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">entry0</span></code></dt>
<dd>pyramid LUT entry0, range [0x0, 0x3f]</dd>
<dt><code class="docutils literal notranslate"><span class="pre">entry1</span></code></dt>
<dd>pyramid LUT entry1, range [0x0, 0x3f]</dd>
<dt><code class="docutils literal notranslate"><span class="pre">entry2</span></code></dt>
<dd>pyramid LUT entry2, range [0x0, 0x3f]</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved</span></code></dt>
<dd>reserved</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_anr_stitch_config">
struct <code class="descname">ipu3_uapi_anr_stitch_config</code><a class="headerlink" href="#c.ipu3_uapi_anr_stitch_config" title="Permalink to this definition">¶</a></dt>
<dd><p>ANR stitch config</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_anr_stitch_config {
  __u32 anr_stitch_en;
  __u8 reserved[44];
  struct ipu3_uapi_anr_stitch_pyramid pyramid[IPU3_UAPI_ANR_PYRAMID_SIZE];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">anr_stitch_en</span></code></dt>
<dd>enable stitch. Enabled with 1.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pyramid</span></code></dt>
<dd>pyramid table as defined by <a class="reference internal" href="#c.ipu3_uapi_anr_stitch_pyramid" title="ipu3_uapi_anr_stitch_pyramid"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_anr_stitch_pyramid</span></code></a>
default values:
{ 1, 3, 5 }, { 7, 7, 5 }, { 3, 1, 3 },
{ 9, 15, 21 }, { 21, 15, 9 }, { 3, 5, 15 },
{ 25, 35, 35 }, { 25, 15, 5 }, { 7, 21, 35 },
{ 49, 49, 35 }, { 21, 7, 7 }, { 21, 35, 49 },
{ 49, 35, 21 }, { 7, 5, 15 }, { 25, 35, 35 },
{ 25, 15, 5 }, { 3, 9, 15 }, { 21, 21, 15 },
{ 9, 3, 1 }, { 3, 5, 7 }, { 7, 5, 3}, { 1 }</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_anr_config">
struct <code class="descname">ipu3_uapi_anr_config</code><a class="headerlink" href="#c.ipu3_uapi_anr_config" title="Permalink to this definition">¶</a></dt>
<dd><p>ANR config</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_anr_config {
  struct ipu3_uapi_anr_transform_config transform ;
  struct ipu3_uapi_anr_stitch_config stitch ;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">transform</span></code></dt>
<dd>advanced noise reduction transform config as specified by
<a class="reference internal" href="#c.ipu3_uapi_anr_transform_config" title="ipu3_uapi_anr_transform_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_anr_transform_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">stitch</span></code></dt>
<dd>create 4x4 patch from 4 surrounding 8x8 patches.</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_acc_param">
struct <code class="descname">ipu3_uapi_acc_param</code><a class="headerlink" href="#c.ipu3_uapi_acc_param" title="Permalink to this definition">¶</a></dt>
<dd><p>Accelerator cluster parameters</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_acc_param {
  struct ipu3_uapi_bnr_static_config bnr;
  struct ipu3_uapi_bnr_static_config_green_disparity green_disparity ;
  struct ipu3_uapi_dm_config dm ;
  struct ipu3_uapi_ccm_mat_config ccm ;
  struct ipu3_uapi_gamma_config gamma ;
  struct ipu3_uapi_csc_mat_config csc ;
  struct ipu3_uapi_cds_params cds ;
  struct ipu3_uapi_shd_config shd ;
  struct ipu3_uapi_yuvp1_iefd_config iefd ;
  struct ipu3_uapi_yuvp1_yds_config yds_c0 ;
  struct ipu3_uapi_yuvp1_chnr_config chnr_c0 ;
  struct ipu3_uapi_yuvp1_y_ee_nr_config y_ee_nr ;
  struct ipu3_uapi_yuvp1_yds_config yds ;
  struct ipu3_uapi_yuvp1_chnr_config chnr ;
  struct ipu3_uapi_yuvp1_yds_config yds2 ;
  struct ipu3_uapi_yuvp2_tcc_static_config tcc ;
  struct ipu3_uapi_anr_config anr;
  struct ipu3_uapi_awb_fr_config_s awb_fr ;
  struct ipu3_uapi_ae_config ae;
  struct ipu3_uapi_af_config_s af;
  struct ipu3_uapi_awb_config awb;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">bnr</span></code></dt>
<dd>parameters for bayer noise reduction static config. See
<a class="reference internal" href="#c.ipu3_uapi_bnr_static_config" title="ipu3_uapi_bnr_static_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_bnr_static_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">green_disparity</span></code></dt>
<dd>disparity static config between gr and gb channel.
See <a class="reference internal" href="#c.ipu3_uapi_bnr_static_config_green_disparity" title="ipu3_uapi_bnr_static_config_green_disparity"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_bnr_static_config_green_disparity</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">dm</span></code></dt>
<dd>de-mosaic config. See <a class="reference internal" href="#c.ipu3_uapi_dm_config" title="ipu3_uapi_dm_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_dm_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">ccm</span></code></dt>
<dd>color correction matrix. See <a class="reference internal" href="#c.ipu3_uapi_ccm_mat_config" title="ipu3_uapi_ccm_mat_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_ccm_mat_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">gamma</span></code></dt>
<dd>gamma correction config. See <a class="reference internal" href="#c.ipu3_uapi_gamma_config" title="ipu3_uapi_gamma_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_gamma_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">csc</span></code></dt>
<dd>color space conversion matrix. See <a class="reference internal" href="#c.ipu3_uapi_csc_mat_config" title="ipu3_uapi_csc_mat_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_csc_mat_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">cds</span></code></dt>
<dd>color down sample config. See <a class="reference internal" href="#c.ipu3_uapi_cds_params" title="ipu3_uapi_cds_params"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_cds_params</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">shd</span></code></dt>
<dd>lens shading correction config. See <a class="reference internal" href="#c.ipu3_uapi_shd_config" title="ipu3_uapi_shd_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_shd_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">iefd</span></code></dt>
<dd>Image enhancement filter and denoise config.
<a class="reference internal" href="#c.ipu3_uapi_yuvp1_iefd_config" title="ipu3_uapi_yuvp1_iefd_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_yuvp1_iefd_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">yds_c0</span></code></dt>
<dd>y down scaler config. <a class="reference internal" href="#c.ipu3_uapi_yuvp1_yds_config" title="ipu3_uapi_yuvp1_yds_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_yuvp1_yds_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">chnr_c0</span></code></dt>
<dd>chroma noise reduction config. <a class="reference internal" href="#c.ipu3_uapi_yuvp1_chnr_config" title="ipu3_uapi_yuvp1_chnr_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_yuvp1_chnr_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">y_ee_nr</span></code></dt>
<dd>y edge enhancement and noise reduction config.
<a class="reference internal" href="#c.ipu3_uapi_yuvp1_y_ee_nr_config" title="ipu3_uapi_yuvp1_y_ee_nr_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_yuvp1_y_ee_nr_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">yds</span></code></dt>
<dd>y down scaler config. See <a class="reference internal" href="#c.ipu3_uapi_yuvp1_yds_config" title="ipu3_uapi_yuvp1_yds_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_yuvp1_yds_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">chnr</span></code></dt>
<dd>chroma noise reduction config. See <a class="reference internal" href="#c.ipu3_uapi_yuvp1_chnr_config" title="ipu3_uapi_yuvp1_chnr_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_yuvp1_chnr_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">yds2</span></code></dt>
<dd>y channel down scaler config. See <a class="reference internal" href="#c.ipu3_uapi_yuvp1_yds_config" title="ipu3_uapi_yuvp1_yds_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_yuvp1_yds_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">tcc</span></code></dt>
<dd>total color correction config as defined in struct
<a class="reference internal" href="#c.ipu3_uapi_yuvp2_tcc_static_config" title="ipu3_uapi_yuvp2_tcc_static_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_yuvp2_tcc_static_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">anr</span></code></dt>
<dd>advanced noise reduction config.See <a class="reference internal" href="#c.ipu3_uapi_anr_config" title="ipu3_uapi_anr_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_anr_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">awb_fr</span></code></dt>
<dd>AWB filter response config. See ipu3_uapi_awb_fr_config</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ae</span></code></dt>
<dd>auto exposure config  As specified by <a class="reference internal" href="#c.ipu3_uapi_ae_config" title="ipu3_uapi_ae_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_ae_config</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">af</span></code></dt>
<dd>auto focus config. As specified by <code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_af_config</span></code></dd>
<dt><code class="docutils literal notranslate"><span class="pre">awb</span></code></dt>
<dd>auto white balance config. As specified by <a class="reference internal" href="#c.ipu3_uapi_awb_config" title="ipu3_uapi_awb_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_awb_config</span></code></a></dd>
</dl>
<p><strong>Description</strong></p>
<p>ACC refers to the HW cluster containing all Fixed Functions (FFs). Each FF
implements a specific algorithm.</p>
<dl class="type">
<dt id="c.ipu3_uapi_isp_lin_vmem_params">
struct <code class="descname">ipu3_uapi_isp_lin_vmem_params</code><a class="headerlink" href="#c.ipu3_uapi_isp_lin_vmem_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Linearization parameters</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_isp_lin_vmem_params {
  __s16 lin_lutlow_gr[IPU3_UAPI_LIN_LUT_SIZE];
  __s16 lin_lutlow_r[IPU3_UAPI_LIN_LUT_SIZE];
  __s16 lin_lutlow_b[IPU3_UAPI_LIN_LUT_SIZE];
  __s16 lin_lutlow_gb[IPU3_UAPI_LIN_LUT_SIZE];
  __s16 lin_lutdif_gr[IPU3_UAPI_LIN_LUT_SIZE];
  __s16 lin_lutdif_r[IPU3_UAPI_LIN_LUT_SIZE];
  __s16 lin_lutdif_b[IPU3_UAPI_LIN_LUT_SIZE];
  __s16 lin_lutdif_gb[IPU3_UAPI_LIN_LUT_SIZE];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">lin_lutlow_gr</span></code></dt>
<dd>linearization look-up table for GR channel interpolation.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">lin_lutlow_r</span></code></dt>
<dd>linearization look-up table for R channel interpolation.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">lin_lutlow_b</span></code></dt>
<dd>linearization look-up table for B channel interpolation.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">lin_lutlow_gb</span></code></dt>
<dd>linearization look-up table for GB channel interpolation.
lin_lutlow_gr / lin_lutlow_r / lin_lutlow_b /
lin_lutlow_gb &lt;= LIN_MAX_VALUE - 1.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">lin_lutdif_gr</span></code></dt>
<dd>lin_lutlow_gr[i+1] - lin_lutlow_gr[i].</dd>
<dt><code class="docutils literal notranslate"><span class="pre">lin_lutdif_r</span></code></dt>
<dd>lin_lutlow_r[i+1] - lin_lutlow_r[i].</dd>
<dt><code class="docutils literal notranslate"><span class="pre">lin_lutdif_b</span></code></dt>
<dd>lin_lutlow_b[i+1] - lin_lutlow_b[i].</dd>
<dt><code class="docutils literal notranslate"><span class="pre">lin_lutdif_gb</span></code></dt>
<dd>lin_lutlow_gb[i+1] - lin_lutlow_gb[i].</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_isp_tnr3_vmem_params">
struct <code class="descname">ipu3_uapi_isp_tnr3_vmem_params</code><a class="headerlink" href="#c.ipu3_uapi_isp_tnr3_vmem_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporal noise reduction vector memory parameters</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_isp_tnr3_vmem_params {
  __u16 slope[IPU3_UAPI_ISP_TNR3_VMEM_LEN];
  __u16 reserved1[IPU3_UAPI_ISP_VEC_ELEMS - IPU3_UAPI_ISP_TNR3_VMEM_LEN];
  __u16 sigma[IPU3_UAPI_ISP_TNR3_VMEM_LEN];
  __u16 reserved2[IPU3_UAPI_ISP_VEC_ELEMS - IPU3_UAPI_ISP_TNR3_VMEM_LEN];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">slope</span></code></dt>
<dd>slope setting in interpolation curve for temporal noise reduction.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>reserved</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sigma</span></code></dt>
<dd>knee point setting in interpolation curve for temporal
noise reduction.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved2</span></code></dt>
<dd>reserved</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_isp_tnr3_params">
struct <code class="descname">ipu3_uapi_isp_tnr3_params</code><a class="headerlink" href="#c.ipu3_uapi_isp_tnr3_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporal noise reduction v3 parameters</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_isp_tnr3_params {
  __u32 knee_y1;
  __u32 knee_y2;
  __u32 maxfb_y;
  __u32 maxfb_u;
  __u32 maxfb_v;
  __u32 round_adj_y;
  __u32 round_adj_u;
  __u32 round_adj_v;
  __u32 ref_buf_select;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">knee_y1</span></code></dt>
<dd>Knee point TNR3 assumes standard deviation of Y,U and
V at Y1 are TnrY1_Sigma_Y, U and V.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">knee_y2</span></code></dt>
<dd>Knee point TNR3 assumes standard deviation of Y,U and
V at Y2 are TnrY2_Sigma_Y, U and V.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">maxfb_y</span></code></dt>
<dd>Max feedback gain for Y</dd>
<dt><code class="docutils literal notranslate"><span class="pre">maxfb_u</span></code></dt>
<dd>Max feedback gain for U</dd>
<dt><code class="docutils literal notranslate"><span class="pre">maxfb_v</span></code></dt>
<dd>Max feedback gain for V</dd>
<dt><code class="docutils literal notranslate"><span class="pre">round_adj_y</span></code></dt>
<dd>rounding Adjust for Y</dd>
<dt><code class="docutils literal notranslate"><span class="pre">round_adj_u</span></code></dt>
<dd>rounding Adjust for U</dd>
<dt><code class="docutils literal notranslate"><span class="pre">round_adj_v</span></code></dt>
<dd>rounding Adjust for V</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ref_buf_select</span></code></dt>
<dd>selection of the reference frame buffer to be used.</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_isp_xnr3_vmem_params">
struct <code class="descname">ipu3_uapi_isp_xnr3_vmem_params</code><a class="headerlink" href="#c.ipu3_uapi_isp_xnr3_vmem_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Extreme noise reduction v3 vector memory parameters</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_isp_xnr3_vmem_params {
  __u16 x[IPU3_UAPI_ISP_VEC_ELEMS];
  __u16 a[IPU3_UAPI_ISP_VEC_ELEMS];
  __u16 b[IPU3_UAPI_ISP_VEC_ELEMS];
  __u16 c[IPU3_UAPI_ISP_VEC_ELEMS];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">x</span></code></dt>
<dd>xnr3 parameters.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">a</span></code></dt>
<dd>xnr3 parameters.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">b</span></code></dt>
<dd>xnr3 parameters.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">c</span></code></dt>
<dd>xnr3 parameters.</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_xnr3_alpha_params">
struct <code class="descname">ipu3_uapi_xnr3_alpha_params</code><a class="headerlink" href="#c.ipu3_uapi_xnr3_alpha_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Extreme noise reduction v3 alpha tuning parameters</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_xnr3_alpha_params {
  __u32 y0;
  __u32 u0;
  __u32 v0;
  __u32 ydiff;
  __u32 udiff;
  __u32 vdiff;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">y0</span></code></dt>
<dd>Sigma for Y range similarity in dark area.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">u0</span></code></dt>
<dd>Sigma for U range similarity in dark area.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">v0</span></code></dt>
<dd>Sigma for V range similarity in dark area.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ydiff</span></code></dt>
<dd>Sigma difference for Y between bright area and dark area.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">udiff</span></code></dt>
<dd>Sigma difference for U between bright area and dark area.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">vdiff</span></code></dt>
<dd>Sigma difference for V between bright area and dark area.</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_xnr3_coring_params">
struct <code class="descname">ipu3_uapi_xnr3_coring_params</code><a class="headerlink" href="#c.ipu3_uapi_xnr3_coring_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Extreme noise reduction v3 coring parameters</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_xnr3_coring_params {
  __u32 u0;
  __u32 v0;
  __u32 udiff;
  __u32 vdiff;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">u0</span></code></dt>
<dd>Coring Threshold of U channel in dark area.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">v0</span></code></dt>
<dd>Coring Threshold of V channel in dark area.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">udiff</span></code></dt>
<dd>Threshold difference of U channel between bright and dark area.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">vdiff</span></code></dt>
<dd>Threshold difference of V channel between bright and dark area.</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_xnr3_blending_params">
struct <code class="descname">ipu3_uapi_xnr3_blending_params</code><a class="headerlink" href="#c.ipu3_uapi_xnr3_blending_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Blending factor</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_xnr3_blending_params {
  __u32 strength;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">strength</span></code></dt>
<dd>The factor for blending output with input. This is tuning
parameterHigher values lead to more aggressive XNR operation.</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_isp_xnr3_params">
struct <code class="descname">ipu3_uapi_isp_xnr3_params</code><a class="headerlink" href="#c.ipu3_uapi_isp_xnr3_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Extreme noise reduction v3 parameters</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_isp_xnr3_params {
  struct ipu3_uapi_xnr3_alpha_params alpha;
  struct ipu3_uapi_xnr3_coring_params coring;
  struct ipu3_uapi_xnr3_blending_params blending;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">alpha</span></code></dt>
<dd>parameters for xnr3 alpha. See <a class="reference internal" href="#c.ipu3_uapi_xnr3_alpha_params" title="ipu3_uapi_xnr3_alpha_params"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_xnr3_alpha_params</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">coring</span></code></dt>
<dd>parameters for xnr3 coring. See <a class="reference internal" href="#c.ipu3_uapi_xnr3_coring_params" title="ipu3_uapi_xnr3_coring_params"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_xnr3_coring_params</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">blending</span></code></dt>
<dd>parameters for xnr3 blending. See <a class="reference internal" href="#c.ipu3_uapi_xnr3_blending_params" title="ipu3_uapi_xnr3_blending_params"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_xnr3_blending_params</span></code></a></dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_obgrid_param">
struct <code class="descname">ipu3_uapi_obgrid_param</code><a class="headerlink" href="#c.ipu3_uapi_obgrid_param" title="Permalink to this definition">¶</a></dt>
<dd><p>Optical black level compensation parameters</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_obgrid_param {
  __u16 gr;
  __u16 r;
  __u16 b;
  __u16 gb;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">gr</span></code></dt>
<dd>Grid table values for color GR</dd>
<dt><code class="docutils literal notranslate"><span class="pre">r</span></code></dt>
<dd>Grid table values for color R</dd>
<dt><code class="docutils literal notranslate"><span class="pre">b</span></code></dt>
<dd>Grid table values for color B</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gb</span></code></dt>
<dd>Grid table values for color GB</dd>
</dl>
<p><strong>Description</strong></p>
<p>Black level is different for red, green, and blue channels. So black level
compensation is different per channel.</p>
<dl class="type">
<dt id="c.ipu3_uapi_flags">
struct <code class="descname">ipu3_uapi_flags</code><a class="headerlink" href="#c.ipu3_uapi_flags" title="Permalink to this definition">¶</a></dt>
<dd><p>bits to indicate which pipeline needs update</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_flags {
  __u32 gdc:1;
  __u32 obgrid:1;
  __u32 reserved1:30;
  __u32 acc_bnr:1;
  __u32 acc_green_disparity:1;
  __u32 acc_dm:1;
  __u32 acc_ccm:1;
  __u32 acc_gamma:1;
  __u32 acc_csc:1;
  __u32 acc_cds:1;
  __u32 acc_shd:1;
  __u32 reserved2:2;
  __u32 acc_iefd:1;
  __u32 acc_yds_c0:1;
  __u32 acc_chnr_c0:1;
  __u32 acc_y_ee_nr:1;
  __u32 acc_yds:1;
  __u32 acc_chnr:1;
  __u32 acc_ytm:1;
  __u32 acc_yds2:1;
  __u32 acc_tcc:1;
  __u32 acc_dpc:1;
  __u32 acc_bds:1;
  __u32 acc_anr:1;
  __u32 acc_awb_fr:1;
  __u32 acc_ae:1;
  __u32 acc_af:1;
  __u32 acc_awb:1;
  __u32 reserved3:4;
  __u32 lin_vmem_params:1;
  __u32 tnr3_vmem_params:1;
  __u32 xnr3_vmem_params:1;
  __u32 tnr3_dmem_params:1;
  __u32 xnr3_dmem_params:1;
  __u32 reserved4:1;
  __u32 obgrid_param:1;
  __u32 reserved5:25;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">gdc</span></code></dt>
<dd>0 = no update, 1 = update.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">obgrid</span></code></dt>
<dd>0 = no update, 1 = update.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved1</span></code></dt>
<dd>Not used.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">acc_bnr</span></code></dt>
<dd>0 = no update, 1 = update.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">acc_green_disparity</span></code></dt>
<dd>0 = no update, 1 = update.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">acc_dm</span></code></dt>
<dd>0 = no update, 1 = update.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">acc_ccm</span></code></dt>
<dd>0 = no update, 1 = update.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">acc_gamma</span></code></dt>
<dd>0 = no update, 1 = update.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">acc_csc</span></code></dt>
<dd>0 = no update, 1 = update.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">acc_cds</span></code></dt>
<dd>0 = no update, 1 = update.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">acc_shd</span></code></dt>
<dd>0 = no update, 1 = update.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved2</span></code></dt>
<dd>Not used.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">acc_iefd</span></code></dt>
<dd>0 = no update, 1 = update.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">acc_yds_c0</span></code></dt>
<dd>0 = no update, 1 = update.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">acc_chnr_c0</span></code></dt>
<dd>0 = no update, 1 = update.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">acc_y_ee_nr</span></code></dt>
<dd>0 = no update, 1 = update.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">acc_yds</span></code></dt>
<dd>0 = no update, 1 = update.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">acc_chnr</span></code></dt>
<dd>0 = no update, 1 = update.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">acc_ytm</span></code></dt>
<dd>0 = no update, 1 = update.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">acc_yds2</span></code></dt>
<dd>0 = no update, 1 = update.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">acc_tcc</span></code></dt>
<dd>0 = no update, 1 = update.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">acc_dpc</span></code></dt>
<dd>0 = no update, 1 = update.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">acc_bds</span></code></dt>
<dd>0 = no update, 1 = update.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">acc_anr</span></code></dt>
<dd>0 = no update, 1 = update.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">acc_awb_fr</span></code></dt>
<dd>0 = no update, 1 = update.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">acc_ae</span></code></dt>
<dd>0 = no update, 1 = update.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">acc_af</span></code></dt>
<dd>0 = no update, 1 = update.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">acc_awb</span></code></dt>
<dd>0 = no update, 1 = update.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved3</span></code></dt>
<dd>Not used.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">lin_vmem_params</span></code></dt>
<dd>0 = no update, 1 = update.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">tnr3_vmem_params</span></code></dt>
<dd>0 = no update, 1 = update.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">xnr3_vmem_params</span></code></dt>
<dd>0 = no update, 1 = update.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">tnr3_dmem_params</span></code></dt>
<dd>0 = no update, 1 = update.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">xnr3_dmem_params</span></code></dt>
<dd>0 = no update, 1 = update.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved4</span></code></dt>
<dd>Not used.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">obgrid_param</span></code></dt>
<dd>0 = no update, 1 = update.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved5</span></code></dt>
<dd>Not used.</dd>
</dl>
<dl class="type">
<dt id="c.ipu3_uapi_params">
struct <code class="descname">ipu3_uapi_params</code><a class="headerlink" href="#c.ipu3_uapi_params" title="Permalink to this definition">¶</a></dt>
<dd><p>V4L2_META_FMT_IPU3_PARAMS</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ipu3_uapi_params {
  struct ipu3_uapi_flags use ;
  struct ipu3_uapi_acc_param acc_param;
  struct ipu3_uapi_isp_lin_vmem_params lin_vmem_params;
  struct ipu3_uapi_isp_tnr3_vmem_params tnr3_vmem_params;
  struct ipu3_uapi_isp_xnr3_vmem_params xnr3_vmem_params;
  struct ipu3_uapi_isp_tnr3_params tnr3_dmem_params;
  struct ipu3_uapi_isp_xnr3_params xnr3_dmem_params;
  struct ipu3_uapi_obgrid_param obgrid_param;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">use</span></code></dt>
<dd>select which parameters to apply, see <a class="reference internal" href="#c.ipu3_uapi_flags" title="ipu3_uapi_flags"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_flags</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">acc_param</span></code></dt>
<dd>ACC parameters, as specified by <a class="reference internal" href="#c.ipu3_uapi_acc_param" title="ipu3_uapi_acc_param"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_acc_param</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">lin_vmem_params</span></code></dt>
<dd>linearization VMEM, as specified by
<a class="reference internal" href="#c.ipu3_uapi_isp_lin_vmem_params" title="ipu3_uapi_isp_lin_vmem_params"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_isp_lin_vmem_params</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">tnr3_vmem_params</span></code></dt>
<dd>tnr3 VMEM as specified by
<a class="reference internal" href="#c.ipu3_uapi_isp_tnr3_vmem_params" title="ipu3_uapi_isp_tnr3_vmem_params"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_isp_tnr3_vmem_params</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">xnr3_vmem_params</span></code></dt>
<dd>xnr3 VMEM as specified by
<a class="reference internal" href="#c.ipu3_uapi_isp_xnr3_vmem_params" title="ipu3_uapi_isp_xnr3_vmem_params"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_isp_xnr3_vmem_params</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">tnr3_dmem_params</span></code></dt>
<dd>tnr3 DMEM as specified by <a class="reference internal" href="#c.ipu3_uapi_isp_tnr3_params" title="ipu3_uapi_isp_tnr3_params"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_isp_tnr3_params</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">xnr3_dmem_params</span></code></dt>
<dd>xnr3 DMEM as specified by <a class="reference internal" href="#c.ipu3_uapi_isp_xnr3_params" title="ipu3_uapi_isp_xnr3_params"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_isp_xnr3_params</span></code></a></dd>
<dt><code class="docutils literal notranslate"><span class="pre">obgrid_param</span></code></dt>
<dd>obgrid parameters as specified by
<a class="reference internal" href="#c.ipu3_uapi_obgrid_param" title="ipu3_uapi_obgrid_param"><code class="xref c c-type docutils literal notranslate"><span class="pre">ipu3_uapi_obgrid_param</span></code></a></dd>
</dl>
<p><strong>Description</strong></p>
<p>The video queue “parameters” is of format V4L2_META_FMT_IPU3_PARAMS.
This is a “single plane” v4l2_meta_format using V4L2_BUF_TYPE_META_OUTPUT.</p>
<p>struct ipu3_uapi_params as defined below contains a lot of parameters and
ipu3_uapi_flags selects which parameters to apply.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="pixfmt-meta-uvc.html" class="btn btn-neutral float-right" title="2.13.3. V4L2_META_FMT_UVC (‘UVCH’)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="pixfmt-meta-d4xx.html" class="btn btn-neutral float-left" title="2.13.1. V4L2_META_FMT_D4XX (‘D4XX’)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
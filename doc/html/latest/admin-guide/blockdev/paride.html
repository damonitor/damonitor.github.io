

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Linux and parallel port IDE devices &mdash; The Linux Kernel  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../',
              VERSION:'',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Using the RAM disk block device with Linux" href="ramdisk.html" />
    <link rel="prev" title="Network Block Device (TCP version)" href="nbd.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.6.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">The Linux kernel user’s and administrator’s guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../README.html">Linux kernel release 5.x &lt;http://kernel.org/&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kernel-parameters.html">The kernel’s command-line parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devices.html">Linux allocated devices (4.x+ version)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sysctl/index.html">Documentation for /proc/sys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hw-vuln/index.html">Hardware vulnerabilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reporting-bugs.html">Reporting bugs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../security-bugs.html">Security bugs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bug-hunting.html">Bug hunting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bug-bisect.html">Bisecting a bug</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tainted-kernels.html">Tainted kernels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ramoops.html">Ramoops oops/panic logger</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dynamic-debug-howto.html">Dynamic debug</a></li>
<li class="toctree-l2"><a class="reference internal" href="../init.html">Explaining the dreaded “No init found.” boot hang message</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kdump/index.html">Documentation for Kdump - The kexec-based Crash Dumping Solution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../perf/index.html">Performance monitor support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sysfs-rules.html">Rules on how to access information in sysfs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../acpi/index.html">ACPI Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../aoe/index.html">ATA over Ethernet (AoE)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../auxdisplay/index.html">Auxiliary Display Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bcache.html">A block layer cache (bcache)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../binderfs.html">The Android binderfs Filesystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../binfmt-misc.html">Kernel Support for miscellaneous (your favourite) Binary Formats v1.1</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">The Linux RapidIO Subsystem</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="floppy.html">Floppy Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="nbd.html">Network Block Device (TCP version)</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Linux and parallel port IDE devices</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#introduction">1. Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-the-paride-subsystem">2. Using the PARIDE subsystem</a></li>
<li class="toctree-l4"><a class="reference internal" href="#troubleshooting">3. Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ramdisk.html">Using the RAM disk block device with Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="zram.html">zram: Compressed RAM-based block devices</a></li>
<li class="toctree-l3"><a class="reference internal" href="drbd/index.html">Distributed Replicated Block Device - DRBD</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../bootconfig.html">Boot Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../braille-console.html">Linux Braille Console</a></li>
<li class="toctree-l2"><a class="reference internal" href="../btmrvl.html">btmrvl driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cgroup-v1/index.html">Control Groups version 1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cgroup-v2.html">Control Group v2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cifs/index.html">CIFS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../clearing-warn-once.html">Clearing WARN_ONCE</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cpu-load.html">CPU load</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cputopology.html">How CPU topology info is exported via sysfs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dell_rbu.html">Dell Remote BIOS Update driver (dell_rbu)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../device-mapper/index.html">Device Mapper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../efi-stub.html">The EFI Boot Stub</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ext4.html">ext4 General Information</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nfs/index.html">NFS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gpio/index.html">gpio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../highuid.html">Notes on the change from 16-bit UIDs to 32-bit UIDs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hw_random.html">Linux support for random number generator in i8xx chipsets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../initrd.html">Using the initial RAM disk (initrd)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iostats.html">I/O statistics fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="../java.html">Java(tm) Binary Kernel Support for Linux v1.03</a></li>
<li class="toctree-l2"><a class="reference internal" href="../jfs.html">IBM’s Journaled File System (JFS) for Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kernel-per-CPU-kthreads.html">Reducing OS jitter due to per-cpu kthreads</a></li>
<li class="toctree-l2"><a class="reference internal" href="../laptops/index.html">Laptop Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lcd-panel-cgram.html">Parallel port LCD/Keypad Panel support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ldm.html">LDM - Logical Disk Manager (Dynamic Disks)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lockup-watchdogs.html">Softlockup detector and hardlockup detector (aka nmi_watchdog)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../LSM/index.html">Linux Security Module Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../md.html">RAID arrays</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mm/index.html">Memory Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../module-signing.html">Kernel module signing facility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mono.html">Mono(tm) Binary Kernel Support for Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../namespaces/index.html">Namespaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../numastat.html">Numa policy hit/miss statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../parport.html">Parport</a></li>
<li class="toctree-l2"><a class="reference internal" href="../perf-security.html">Perf Events and tool security</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pm/index.html">Power Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pnp.html">Linux Plug and Play Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapidio.html">RapidIO Subsystem Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ras.html">Reliability, Availability and Serviceability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rtc.html">Real Time Clock (RTC) Drivers for Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../serial-console.html">Linux Serial Console</a></li>
<li class="toctree-l2"><a class="reference internal" href="../svga.html">Video Mode Selection Support 2.13</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sysrq.html">Linux Magic System Request Key Hacks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../thunderbolt.html">USB4 and Thunderbolt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ufs.html">Using UFS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../unicode.html">Unicode support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vga-softcursor.html">Software cursor for VGA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../video-output.html">Video Output Switcher Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../wimax/index.html">WiMAX subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../xfs.html">The SGI XFS Filesystem</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../kbuild/index.html">Kernel Build System</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../firmware-guide/index.html">The Linux kernel firmware guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../userspace-api/index.html">The Linux kernel user-space API guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../process/index.html">Working with the kernel development community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-tools/index.html">Development tools for the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../doc-guide/index.html">How to write kernel documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kernel-hacking/index.html">Kernel Hacking Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../trace/index.html">Linux Tracing Technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../maintainer/index.html">Kernel Maintainer Handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fault-injection/index.html">fault-injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../livepatch/index.html">Kernel Livepatching</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../driver-api/index.html">The Linux driver implementer’s API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../core-api/index.html">Core API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../locking/index.html">locking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../accounting/index.html">Accounting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../block/index.html">Block</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cdrom/index.html">cdrom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ide/index.html">Integrated Drive Electronics (IDE)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fb/index.html">Frame Buffer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fpga/index.html">fpga</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hid/index.html">Human Interface Devices (HID)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../i2c/index.html">I2C/SMBus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../iio/index.html">Industrial I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../isdn/index.html">ISDN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../infiniband/index.html">InfiniBand</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../leds/index.html">LEDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../media/index.html">Linux Media Subsystem Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../netlabel/index.html">NetLabel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../networking/index.html">Linux Networking Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pcmcia/index.html">pcmcia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../power/index.html">Power Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../target/index.html">TCM Virtual Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../timers/index.html">timers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../spi/index.html">Serial Peripheral Interface (SPI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../w1/index.html">1-Wire Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../watchdog/index.html">Linux Watchdog Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../virt/index.html">Linux Virtualization Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../input/index.html">The Linux Input Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hwmon/index.html">Linux Hardware Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gpu/index.html">Linux GPU Driver Developer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security/index.html">Security Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sound/index.html">Linux Sound Subsystem Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../crypto/index.html">Linux Kernel Crypto API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/index.html">Filesystems in the Linux kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../vm/index.html">Linux Memory Management Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bpf/index.html">BPF Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usb/index.html">USB support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../PCI/index.html">Linux PCI Bus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../misc-devices/index.html">Assorted Miscellaneous Devices Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mic/index.html">Intel Many Integrated Core (MIC) architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../scheduler/index.html">Linux Scheduler</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../asm-annotations.html">Assembler Annotations</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../arm/index.html">ARM Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../arm64/index.html">ARM64 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ia64/index.html">IA-64 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../m68k/index.html">m68k Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mips/index.html">MIPS-specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nios2/nios2.html">Linux on the Nios II architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../openrisc/index.html">OpenRISC Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../parisc/index.html">PA-RISC Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../powerpc/index.html">powerpc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../riscv/index.html">RISC-V architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../s390/index.html">s390 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sh/index.html">SuperH Interfaces Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sparc/index.html">Sparc Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../x86/index.html">x86-specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xtensa/index.html">Xtensa Architecture</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/ext4/index.html">ext4 Data Structures and Algorithms</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../translations/index.html">Translations</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">The Linux kernel user’s and administrator’s guide</a> &raquo;</li>
        
          <li><a href="index.html">The Linux RapidIO Subsystem</a> &raquo;</li>
        
      <li>Linux and parallel port IDE devices</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/admin-guide/blockdev/paride.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="linux-and-parallel-port-ide-devices">
<h1>Linux and parallel port IDE devices<a class="headerlink" href="#linux-and-parallel-port-ide-devices" title="Permalink to this headline">¶</a></h1>
<p>PARIDE v1.03   (c) 1997-8  Grant Guenther &lt;<a class="reference external" href="mailto:grant&#37;&#52;&#48;torque&#46;net">grant<span>&#64;</span>torque<span>&#46;</span>net</a>&gt;</p>
<div class="section" id="introduction">
<h2>1. Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Owing to the simplicity and near universality of the parallel port interface
to personal computers, many external devices such as portable hard-disk,
CD-ROM, LS-120 and tape drives use the parallel port to connect to their
host computer.  While some devices (notably scanners) use ad-hoc methods
to pass commands and data through the parallel port interface, most
external devices are actually identical to an internal model, but with
a parallel-port adapter chip added in.  Some of the original parallel port
adapters were little more than mechanisms for multiplexing a SCSI bus.
(The Iomega PPA-3 adapter used in the ZIP drives is an example of this
approach).  Most current designs, however, take a different approach.
The adapter chip reproduces a small ISA or IDE bus in the external device
and the communication protocol provides operations for reading and writing
device registers, as well as data block transfer functions.  Sometimes,
the device being addressed via the parallel cable is a standard SCSI
controller like an NCR 5380.  The “ditto” family of external tape
drives use the ISA replicator to interface a floppy disk controller,
which is then connected to a floppy-tape mechanism.  The vast majority
of external parallel port devices, however, are now based on standard
IDE type devices, which require no intermediate controller.  If one
were to open up a parallel port CD-ROM drive, for instance, one would
find a standard ATAPI CD-ROM drive, a power supply, and a single adapter
that interconnected a standard PC parallel port cable and a standard
IDE cable.  It is usually possible to exchange the CD-ROM device with
any other device using the IDE interface.</p>
<p>The document describes the support in Linux for parallel port IDE
devices.  It does not cover parallel port SCSI devices, “ditto” tape
drives or scanners.  Many different devices are supported by the
parallel port IDE subsystem, including:</p>
<blockquote>
<div><ul class="simple">
<li>MicroSolutions backpack CD-ROM</li>
<li>MicroSolutions backpack PD/CD</li>
<li>MicroSolutions backpack hard-drives</li>
<li>MicroSolutions backpack 8000t tape drive</li>
<li>SyQuest EZ-135, EZ-230 &amp; SparQ drives</li>
<li>Avatar Shark</li>
<li>Imation Superdisk LS-120</li>
<li>Maxell Superdisk LS-120</li>
<li>FreeCom Power CD</li>
<li>Hewlett-Packard 5GB and 8GB tape drives</li>
<li>Hewlett-Packard 7100 and 7200 CD-RW drives</li>
</ul>
</div></blockquote>
<p>as well as most of the clone and no-name products on the market.</p>
<p>To support such a wide range of devices, PARIDE, the parallel port IDE
subsystem, is actually structured in three parts.   There is a base
paride module which provides a registry and some common methods for
accessing the parallel ports.  The second component is a set of
high-level drivers for each of the different types of supported devices:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="81%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>pd</td>
<td>IDE disk</td>
</tr>
<tr class="row-even"><td>pcd</td>
<td>ATAPI CD-ROM</td>
</tr>
<tr class="row-odd"><td>pf</td>
<td>ATAPI disk</td>
</tr>
<tr class="row-even"><td>pt</td>
<td>ATAPI tape</td>
</tr>
<tr class="row-odd"><td>pg</td>
<td>ATAPI generic</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>(Currently, the pg driver is only used with CD-R drives).</p>
<p>The high-level drivers function according to the relevant standards.
The third component of PARIDE is a set of low-level protocol drivers
for each of the parallel port IDE adapter chips.  Thanks to the interest
and encouragement of Linux users from many parts of the world,
support is available for almost all known adapter protocols:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="83%" />
<col width="9%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>aten</td>
<td>ATEN EH-100</td>
<td>(HK)</td>
</tr>
<tr class="row-even"><td>bpck</td>
<td>Microsolutions backpack</td>
<td>(US)</td>
</tr>
<tr class="row-odd"><td>comm</td>
<td>DataStor (old-type) “commuter” adapter</td>
<td>(TW)</td>
</tr>
<tr class="row-even"><td>dstr</td>
<td>DataStor EP-2000</td>
<td>(TW)</td>
</tr>
<tr class="row-odd"><td>epat</td>
<td>Shuttle EPAT</td>
<td>(UK)</td>
</tr>
<tr class="row-even"><td>epia</td>
<td>Shuttle EPIA</td>
<td>(UK)</td>
</tr>
<tr class="row-odd"><td>fit2</td>
<td>FIT TD-2000</td>
<td>(US)</td>
</tr>
<tr class="row-even"><td>fit3</td>
<td>FIT TD-3000</td>
<td>(US)</td>
</tr>
<tr class="row-odd"><td>friq</td>
<td>Freecom IQ cable</td>
<td>(DE)</td>
</tr>
<tr class="row-even"><td>frpw</td>
<td>Freecom Power</td>
<td>(DE)</td>
</tr>
<tr class="row-odd"><td>kbic</td>
<td>KingByte KBIC-951A and KBIC-971A</td>
<td>(TW)</td>
</tr>
<tr class="row-even"><td>ktti</td>
<td>KT Technology PHd adapter</td>
<td>(SG)</td>
</tr>
<tr class="row-odd"><td>on20</td>
<td>OnSpec 90c20</td>
<td>(US)</td>
</tr>
<tr class="row-even"><td>on26</td>
<td>OnSpec 90c26</td>
<td>(US)</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="using-the-paride-subsystem">
<h2>2. Using the PARIDE subsystem<a class="headerlink" href="#using-the-paride-subsystem" title="Permalink to this headline">¶</a></h2>
<p>While configuring the Linux kernel, you may choose either to build
the PARIDE drivers into your kernel, or to build them as modules.</p>
<p>In either case, you will need to select “Parallel port IDE device support”
as well as at least one of the high-level drivers and at least one
of the parallel port communication protocols.  If you do not know
what kind of parallel port adapter is used in your drive, you could
begin by checking the file names and any text files on your DOS
installation floppy.  Alternatively, you can look at the markings on
the adapter chip itself.  That’s usually sufficient to identify the
correct device.</p>
<p>You can actually select all the protocol modules, and allow the PARIDE
subsystem to try them all for you.</p>
<p>For the “brand-name” products listed above, here are the protocol
and high-level drivers that you would use:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="38%" />
<col width="29%" />
<col width="14%" />
<col width="19%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Manufacturer</th>
<th class="head">Model</th>
<th class="head">Driver</th>
<th class="head">Protocol</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>MicroSolutions</td>
<td>CD-ROM</td>
<td>pcd</td>
<td>bpck</td>
</tr>
<tr class="row-odd"><td>MicroSolutions</td>
<td>PD drive</td>
<td>pf</td>
<td>bpck</td>
</tr>
<tr class="row-even"><td>MicroSolutions</td>
<td>hard-drive</td>
<td>pd</td>
<td>bpck</td>
</tr>
<tr class="row-odd"><td>MicroSolutions</td>
<td>8000t tape</td>
<td>pt</td>
<td>bpck</td>
</tr>
<tr class="row-even"><td>SyQuest</td>
<td>EZ, SparQ</td>
<td>pd</td>
<td>epat</td>
</tr>
<tr class="row-odd"><td>Imation</td>
<td>Superdisk</td>
<td>pf</td>
<td>epat</td>
</tr>
<tr class="row-even"><td>Maxell</td>
<td>Superdisk</td>
<td>pf</td>
<td>friq</td>
</tr>
<tr class="row-odd"><td>Avatar</td>
<td>Shark</td>
<td>pd</td>
<td>epat</td>
</tr>
<tr class="row-even"><td>FreeCom</td>
<td>CD-ROM</td>
<td>pcd</td>
<td>frpw</td>
</tr>
<tr class="row-odd"><td>Hewlett-Packard</td>
<td>5GB Tape</td>
<td>pt</td>
<td>epat</td>
</tr>
<tr class="row-even"><td>Hewlett-Packard</td>
<td>7200e (CD)</td>
<td>pcd</td>
<td>epat</td>
</tr>
<tr class="row-odd"><td>Hewlett-Packard</td>
<td>7200e (CD-R)</td>
<td>pg</td>
<td>epat</td>
</tr>
</tbody>
</table>
</div></blockquote>
<div class="section" id="configuring-built-in-drivers">
<h3>2.1  Configuring built-in drivers<a class="headerlink" href="#configuring-built-in-drivers" title="Permalink to this headline">¶</a></h3>
<p>We recommend that you get to know how the drivers work and how to
configure them as loadable modules, before attempting to compile a
kernel with the drivers built-in.</p>
<p>If you built all of your PARIDE support directly into your kernel,
and you have just a single parallel port IDE device, your kernel should
locate it automatically for you.  If you have more than one device,
you may need to give some command line options to your bootloader
(eg: LILO), how to do that is beyond the scope of this document.</p>
<p>The high-level drivers accept a number of command line parameters, all
of which are documented in the source files in linux/drivers/block/paride.
By default, each driver will automatically try all parallel ports it
can find, and all protocol types that have been installed, until it finds
a parallel port IDE adapter.  Once it finds one, the probe stops.  So,
if you have more than one device, you will need to tell the drivers
how to identify them.  This requires specifying the port address, the
protocol identification number and, for some devices, the drive’s
chain ID.  While your system is booting, a number of messages are
displayed on the console.  Like all such messages, they can be
reviewed with the ‘dmesg’ command.  Among those messages will be
some lines like:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>paride: bpck registered as protocol 0
paride: epat registered as protocol 1
</pre></div>
</div>
<p>The numbers will always be the same until you build a new kernel with
different protocol selections.  You should note these numbers as you
will need them to identify the devices.</p>
<p>If you happen to be using a MicroSolutions backpack device, you will
also need to know the unit ID number for each drive.  This is usually
the last two digits of the drive’s serial number (but read MicroSolutions’
documentation about this).</p>
<p>As an example, let’s assume that you have a MicroSolutions PD/CD drive
with unit ID number 36 connected to the parallel port at 0x378, a SyQuest
EZ-135 connected to the chained port on the PD/CD drive and also an
Imation Superdisk connected to port 0x278.  You could give the following
options on your boot command:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>pd.drive0=0x378,1 pf.drive0=0x278,1 pf.drive1=0x378,0,36
</pre></div>
</div>
<p>In the last option, pf.drive1 configures device /dev/pf1, the 0x378
is the parallel port base address, the 0 is the protocol registration
number and 36 is the chain ID.</p>
<p>Please note:  while PARIDE will work both with and without the
PARPORT parallel port sharing system that is included by the
“Parallel port support” option, PARPORT must be included and enabled
if you want to use chains of devices on the same parallel port.</p>
</div>
<div class="section" id="loading-and-configuring-paride-as-modules">
<h3>2.2  Loading and configuring PARIDE as modules<a class="headerlink" href="#loading-and-configuring-paride-as-modules" title="Permalink to this headline">¶</a></h3>
<p>It is much faster and simpler to get to understand the PARIDE drivers
if you use them as loadable kernel modules.</p>
<dl class="docutils">
<dt>Note 1:</dt>
<dd>using these drivers with the “kerneld” automatic module loading
system is not recommended for beginners, and is not documented here.</dd>
<dt>Note 2:</dt>
<dd>if you build PARPORT support as a loadable module, PARIDE must
also be built as loadable modules, and PARPORT must be loaded before
the PARIDE modules.</dd>
</dl>
<p>To use PARIDE, you must begin by:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>insmod paride
</pre></div>
</div>
<p>this loads a base module which provides a registry for the protocols,
among other tasks.</p>
<p>Then, load as many of the protocol modules as you think you might need.
As you load each module, it will register the protocols that it supports,
and print a log message to your kernel log file and your console. For
example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># insmod epat
paride: epat registered as protocol 0
# insmod kbic
paride: k951 registered as protocol 1
paride: k971 registered as protocol 2
</pre></div>
</div>
<p>Finally, you can load high-level drivers for each kind of device that
you have connected.  By default, each driver will autoprobe for a single
device, but you can support up to four similar devices by giving their
individual co-ordinates when you load the driver.</p>
<p>For example, if you had two no-name CD-ROM drives both using the
KingByte KBIC-951A adapter, one on port 0x378 and the other on 0x3bc
you could give the following command:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># insmod pcd drive0=0x378,1 drive1=0x3bc,1
</pre></div>
</div>
<p>For most adapters, giving a port address and protocol number is sufficient,
but check the source files in linux/drivers/block/paride for more
information.  (Hopefully someone will write some man pages one day !).</p>
<p>As another example, here’s what happens when PARPORT is installed, and
a SyQuest EZ-135 is attached to port 0x378:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># insmod paride
paride: version 1.0 installed
# insmod epat
paride: epat registered as protocol 0
# insmod pd
pd: pd version 1.0, major 45, cluster 64, nice 0
pda: Sharing parport1 at 0x378
pda: epat 1.0, Shuttle EPAT chip c3 at 0x378, mode 5 (EPP-32), delay 1
pda: SyQuest EZ135A, 262144 blocks [128M], (512/16/32), removable media
 pda: pda1
</pre></div>
</div>
<p>Note that the last line is the output from the generic partition table
scanner - in this case it reports that it has found a disk with one partition.</p>
</div>
<div class="section" id="using-a-paride-device">
<h3>2.3  Using a PARIDE device<a class="headerlink" href="#using-a-paride-device" title="Permalink to this headline">¶</a></h3>
<p>Once the drivers have been loaded, you can access PARIDE devices in the
same way as their traditional counterparts.  You will probably need to
create the device “special files”.  Here is a simple script that you can
cut to a file and execute:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#!/bin/bash
#
# mkd -- a script to create the device special files for the PARIDE subsystem
#
function mkdev {
  mknod $1 $2 $3 $4 ; chmod 0660 $1 ; chown root:disk $1
}
#
function pd {
  D=$( printf \\$( printf &quot;x%03x&quot; $[ $1 + 97 ] ) )
  mkdev pd$D b 45 $[ $1 * 16 ]
  for P in 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15
  do mkdev pd$D$P b 45 $[ $1 * 16 + $P ]
  done
}
#
cd /dev
#
for u in 0 1 2 3 ; do pd $u ; done
for u in 0 1 2 3 ; do mkdev pcd$u b 46 $u ; done
for u in 0 1 2 3 ; do mkdev pf$u  b 47 $u ; done
for u in 0 1 2 3 ; do mkdev pt$u  c 96 $u ; done
for u in 0 1 2 3 ; do mkdev npt$u c 96 $[ $u + 128 ] ; done
for u in 0 1 2 3 ; do mkdev pg$u  c 97 $u ; done
#
# end of mkd
</pre></div>
</div>
<p>With the device files and drivers in place, you can access PARIDE devices
like any other Linux device.   For example, to mount a CD-ROM in pcd0, use:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mount /dev/pcd0 /cdrom
</pre></div>
</div>
<p>If you have a fresh Avatar Shark cartridge, and the drive is pda, you
might do something like:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>fdisk /dev/pda          -- make a new partition table with
                           partition 1 of type 83

mke2fs /dev/pda1        -- to build the file system

mkdir /shark            -- make a place to mount the disk

mount /dev/pda1 /shark
</pre></div>
</div>
<p>Devices like the Imation superdisk work in the same way, except that
they do not have a partition table.  For example to make a 120MB
floppy that you could share with a DOS system:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mkdosfs /dev/pf0
mount /dev/pf0 /mnt
</pre></div>
</div>
</div>
<div class="section" id="the-pf-driver">
<h3>2.4  The pf driver<a class="headerlink" href="#the-pf-driver" title="Permalink to this headline">¶</a></h3>
<p>The pf driver is intended for use with parallel port ATAPI disk
devices.  The most common devices in this category are PD drives
and LS-120 drives.  Traditionally, media for these devices are not
partitioned.  Consequently, the pf driver does not support partitioned
media.  This may be changed in a future version of the driver.</p>
</div>
<div class="section" id="using-the-pt-driver">
<h3>2.5  Using the pt driver<a class="headerlink" href="#using-the-pt-driver" title="Permalink to this headline">¶</a></h3>
<p>The pt driver for parallel port ATAPI tape drives is a minimal driver.
It does not yet support many of the standard tape ioctl operations.
For best performance, a block size of 32KB should be used.  You will
probably want to set the parallel port delay to 0, if you can.</p>
</div>
<div class="section" id="using-the-pg-driver">
<h3>2.6  Using the pg driver<a class="headerlink" href="#using-the-pg-driver" title="Permalink to this headline">¶</a></h3>
<p>The pg driver can be used in conjunction with the cdrecord program
to create CD-ROMs.  Please get cdrecord version 1.6.1 or later
from <a class="reference external" href="ftp://ftp.fokus.gmd.de/pub/unix/cdrecord/">ftp://ftp.fokus.gmd.de/pub/unix/cdrecord/</a> .  To record CD-R media
your parallel port should ideally be set to EPP mode, and the “port delay”
should be set to 0.  With those settings it is possible to record at 2x
speed without any buffer underruns.  If you cannot get the driver to work
in EPP mode, try to use “bidirectional” or “PS/2” mode and 1x speeds only.</p>
</div>
</div>
<div class="section" id="troubleshooting">
<h2>3. Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h2>
<div class="section" id="use-epp-mode-if-you-can">
<h3>3.1  Use EPP mode if you can<a class="headerlink" href="#use-epp-mode-if-you-can" title="Permalink to this headline">¶</a></h3>
<p>The most common problems that people report with the PARIDE drivers
concern the parallel port CMOS settings.  At this time, none of the
PARIDE protocol modules support ECP mode, or any ECP combination modes.
If you are able to do so, please set your parallel port into EPP mode
using your CMOS setup procedure.</p>
</div>
<div class="section" id="check-the-port-delay">
<h3>3.2  Check the port delay<a class="headerlink" href="#check-the-port-delay" title="Permalink to this headline">¶</a></h3>
<p>Some parallel ports cannot reliably transfer data at full speed.  To
offset the errors, the PARIDE protocol modules introduce a “port
delay” between each access to the i/o ports.  Each protocol sets
a default value for this delay.  In most cases, the user can override
the default and set it to 0 - resulting in somewhat higher transfer
rates.  In some rare cases (especially with older 486 systems) the
default delays are not long enough.  if you experience corrupt data
transfers, or unexpected failures, you may wish to increase the
port delay.   The delay can be programmed using the “driveN” parameters
to each of the high-level drivers.  Please see the notes above, or
read the comments at the beginning of the driver source files in
linux/drivers/block/paride.</p>
</div>
<div class="section" id="some-drives-need-a-printer-reset">
<h3>3.3  Some drives need a printer reset<a class="headerlink" href="#some-drives-need-a-printer-reset" title="Permalink to this headline">¶</a></h3>
<p>There appear to be a number of “noname” external drives on the market
that do not always power up correctly.  We have noticed this with some
drives based on OnSpec and older Freecom adapters.  In these rare cases,
the adapter can often be reinitialised by issuing a “printer reset” on
the parallel port.  As the reset operation is potentially disruptive in
multiple device environments, the PARIDE drivers will not do it
automatically.  You can however, force a printer reset by doing:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>insmod lp reset=1
rmmod lp
</pre></div>
</div>
<p>If you have one of these marginal cases, you should probably build
your paride drivers as modules, and arrange to do the printer reset
before loading the PARIDE drivers.</p>
</div>
<div class="section" id="use-the-verbose-option-and-dmesg-if-you-need-help">
<h3>3.4  Use the verbose option and dmesg if you need help<a class="headerlink" href="#use-the-verbose-option-and-dmesg-if-you-need-help" title="Permalink to this headline">¶</a></h3>
<p>While a lot of testing has gone into these drivers to make them work
as smoothly as possible, problems will arise.  If you do have problems,
please check all the obvious things first:  does the drive work in
DOS with the manufacturer’s drivers ?  If that doesn’t yield any useful
clues, then please make sure that only one drive is hooked to your system,
and that either (a) PARPORT is enabled or (b) no other device driver
is using your parallel port (check in /proc/ioports).  Then, load the
appropriate drivers (you can load several protocol modules if you want)
as in:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># insmod paride
# insmod epat
# insmod bpck
# insmod kbic
...
# insmod pd verbose=1
</pre></div>
</div>
<p>(using the correct driver for the type of device you have, of course).
The verbose=1 parameter will cause the drivers to log a trace of their
activity as they attempt to locate your drive.</p>
<p>Use ‘dmesg’ to capture a log of all the PARIDE messages (any messages
beginning with paride:, a protocol module’s name or a driver’s name) and
include that with your bug report.  You can submit a bug report in one
of two ways.  Either send it directly to the author of the PARIDE suite,
by e-mail to <a class="reference external" href="mailto:grant&#37;&#52;&#48;torque&#46;net">grant<span>&#64;</span>torque<span>&#46;</span>net</a>, or join the linux-parport mailing list
and post your report there.</p>
</div>
<div class="section" id="for-more-information-or-help">
<h3>3.5  For more information or help<a class="headerlink" href="#for-more-information-or-help" title="Permalink to this headline">¶</a></h3>
<p>You can join the linux-parport mailing list by sending a mail message
to:</p>
<blockquote>
<div><a class="reference external" href="mailto:linux-parport-request&#37;&#52;&#48;torque&#46;net">linux-parport-request<span>&#64;</span>torque<span>&#46;</span>net</a></div></blockquote>
<p>with the single word:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>subscribe
</pre></div>
</div>
<p>in the body of the mail message (not in the subject line).   Please be
sure that your mail program is correctly set up when you do this,  as
the list manager is a robot that will subscribe you using the reply
address in your mail headers.  REMOVE any anti-spam gimmicks you may
have in your mail headers, when sending mail to the list server.</p>
<p>You might also find some useful information on the linux-parport
web pages (although they are not always up to date) at</p>
<blockquote>
<div><a class="reference external" href="http://web.archive.org/web/%2E/http://www.torque.net/parport/">http://web.archive.org/web/%2E/http://www.torque.net/parport/</a></div></blockquote>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="ramdisk.html" class="btn btn-neutral float-right" title="Using the RAM disk block device with Linux" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="nbd.html" class="btn btn-neutral float-left" title="Network Block Device (TCP version)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ice devlink support &mdash; The Linux Kernel  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../',
              VERSION:'',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.8.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../admin-guide/mm/damon/index.html">Monitoring Data Accesses</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../vm/damon/index.html">DAMON: Data Access MONitor</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>ice devlink support</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/networking/devlink/ice.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="ice-devlink-support">
<h1>ice devlink support<a class="headerlink" href="#ice-devlink-support" title="Permalink to this headline">¶</a></h1>
<p>This document describes the devlink features implemented by the <code class="docutils literal notranslate"><span class="pre">ice</span></code>
device driver.</p>
<div class="section" id="info-versions">
<h2>Info versions<a class="headerlink" href="#info-versions" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">ice</span></code> driver reports the following versions</p>
<table border="1" class="colwidths-given docutils" id="id1">
<caption><span class="caption-text">devlink info versions implemented</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="5%" />
<col width="5%" />
<col width="5%" />
<col width="86%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Name</td>
<td>Type</td>
<td>Example</td>
<td>Description</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">board.id</span></code></td>
<td>fixed</td>
<td>K65390-000</td>
<td>The Product Board Assembly (PBA) identifier of the board.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">fw.mgmt</span></code></td>
<td>running</td>
<td>2.1.7</td>
<td>3-digit version number of the management firmware that controls the
PHY, link, etc.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">fw.mgmt.api</span></code></td>
<td>running</td>
<td>1.5</td>
<td>2-digit version number of the API exported over the AdminQ by the
management firmware. Used by the driver to identify what commands
are supported.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">fw.mgmt.build</span></code></td>
<td>running</td>
<td>0x305d955f</td>
<td>Unique identifier of the source for the management firmware.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">fw.undi</span></code></td>
<td>running</td>
<td>1.2581.0</td>
<td>Version of the Option ROM containing the UEFI driver. The version is
reported in <code class="docutils literal notranslate"><span class="pre">major.minor.patch</span></code> format. The major version is
incremented whenever a major breaking change occurs, or when the
minor version would overflow. The minor version is incremented for
non-breaking changes and reset to 1 when the major version is
incremented. The patch version is normally 0 but is incremented when
a fix is delivered as a patch against an older base Option ROM.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">fw.psid.api</span></code></td>
<td>running</td>
<td>0.80</td>
<td>Version defining the format of the flash contents.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">fw.bundle_id</span></code></td>
<td>running</td>
<td>0x80002ec0</td>
<td>Unique identifier of the firmware image file that was loaded onto
the device. Also referred to as the EETRACK identifier of the NVM.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">fw.app.name</span></code></td>
<td>running</td>
<td>ICE OS Default Package</td>
<td>The name of the DDP package that is active in the device. The DDP
package is loaded by the driver during initialization. Each
variation of the DDP package has a unique name.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">fw.app</span></code></td>
<td>running</td>
<td>1.3.1.0</td>
<td>The version of the DDP package that is active in the device. Note
that both the name (as reported by <code class="docutils literal notranslate"><span class="pre">fw.app.name</span></code>) and version are
required to uniquely identify the package.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">fw.netlist</span></code></td>
<td>running</td>
<td>1.1.2000-6.7.0</td>
<td>The version of the netlist module. This module defines the device’s
Ethernet capabilities and default settings, and is used by the
management firmware as part of managing link and device
connectivity.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">fw.netlist.build</span></code></td>
<td>running</td>
<td>0xee16ced7</td>
<td>The first 4 bytes of the hash of the netlist module contents.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="regions">
<h2>Regions<a class="headerlink" href="#regions" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">ice</span></code> driver enables access to the contents of the Non Volatile Memory
flash chip via the <code class="docutils literal notranslate"><span class="pre">nvm-flash</span></code> region.</p>
<p>Users can request an immediate capture of a snapshot via the
<code class="docutils literal notranslate"><span class="pre">DEVLINK_CMD_REGION_NEW</span></code></p>
<div class="code shell highlight-none notranslate"><div class="highlight"><pre><span></span>$ devlink region new pci/0000:01:00.0/nvm-flash snapshot 1
$ devlink region dump pci/0000:01:00.0/nvm-flash snapshot 1

$ devlink region dump pci/0000:01:00.0/nvm-flash snapshot 1
0000000000000000 0014 95dc 0014 9514 0035 1670 0034 db30
0000000000000010 0000 0000 ffff ff04 0029 8c00 0028 8cc8
0000000000000020 0016 0bb8 0016 1720 0000 0000 c00f 3ffc
0000000000000030 bada cce5 bada cce5 bada cce5 bada cce5

$ devlink region read pci/0000:01:00.0/nvm-flash snapshot 1 address 0 length 16
0000000000000000 0014 95dc 0014 9514 0035 1670 0034 db30

$ devlink region delete pci/0000:01:00.0/nvm-flash snapshot 1
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
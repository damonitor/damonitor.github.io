

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>drm/mcde ST-Ericsson MCDE Multi-channel display engine &mdash; The Linux Kernel  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.7.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/mm/damon/index.html">DAMON: Data Access MONitor</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>drm/mcde ST-Ericsson MCDE Multi-channel display engine</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/gpu/mcde.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="drm-mcde-st-ericsson-mcde-multi-channel-display-engine">
<h1>drm/mcde ST-Ericsson MCDE Multi-channel display engine<a class="headerlink" href="#drm-mcde-st-ericsson-mcde-multi-channel-display-engine" title="Permalink to this headline">Â¶</a></h1>
<p>The MCDE (short for multi-channel display engine) is a graphics
controller found in the Ux500 chipsets, such as NovaThor U8500.
It was initially conceptualized by ST Microelectronics for the
successor of the Nomadik line, STn8500 but productified in the
ST-Ericsson U8500 where is was used for mass-market deployments
in Android phones from Samsung and Sony Ericsson.</p>
<p>It can do 1080p30 on SDTV CCIR656, DPI-2, DBI-2 or DSI for
panels with or without frame buffering and can convert most
input formats including most variants of RGB and YUV.</p>
<p>The hardware has four display pipes, and the layout is a little
bit like this:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Memory     -&gt; Overlay -&gt; Channel -&gt; FIFO -&gt; 5 formatters -&gt; DSI/DPI
External      0..5       0..3       A,B,    3 x DSI         bridge
source 0..9                         C0,C1   2 x DPI
</pre></div>
</div>
<p>FIFOs A and B are for LCD and HDMI while FIFO CO/C1 are for
panels with embedded buffer.
3 of the formatters are for DSI.
2 of the formatters are for DPI.</p>
<p>Behind the formatters are the DSI or DPI ports that route to
the external pins of the chip. As there are 3 DSI ports and one
DPI port, it is possible to configure up to 4 display pipelines
(effectively using channels 0..3) for concurrent use.</p>
<p>In the current DRM/KMS setup, we use one external source, one overlay,
one FIFO and one formatter which we connect to the simple CMA framebuffer
helpers. We then provide a bridge to the DSI port, and on the DSI port
bridge we connect hang a panel bridge or other bridge. This may be subject
to change as we exploit more of the hardware capabilities.</p>
<p>TODO:</p>
<ul class="simple">
<li>Enabled damaged rectangles using <a class="reference internal" href="drm-kms.html#c.drm_plane_enable_fb_damage_clips" title="drm_plane_enable_fb_damage_clips"><code class="xref c c-func docutils literal notranslate"><span class="pre">drm_plane_enable_fb_damage_clips()</span></code></a>
so we can selectively just transmit the damaged area to a
command-only display.</li>
<li>Enable mixing of more planes, possibly at the cost of moving away
from using the simple framebuffer pipeline.</li>
<li>Enable output to bridges such as the AV8100 HDMI encoder from
the DSI bridge.</li>
</ul>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>